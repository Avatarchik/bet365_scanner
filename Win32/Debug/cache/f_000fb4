var CouponCastUtils,CouponCastSelectionClick,CouponCastBet;window.countArrayItems=function(n,t){for(var r,u=0,i=0;i<t;i+=1)for(r=0;r<n[i].length;r+=1)n[i][r]&&(u+=1);return u};CouponCastUtils=function(){};CouponCastUtils.prototype={getCastCheckboxArray:function(n,t){var u=[],r,f,e=0,i;if(t=="ITE")u=window.b365Mobile.ItalianExotics.getSelections();else for(r=document.getElementsByTagName("input"),f=r.length,i=0;i<f;i++)r[i].type=="checkbox"&&r[i].id.indexOf("_"+n)!=-1&&(u[e]=r[i],e++);return u},getCastLength:function(n){var t;switch(n){case"I2N":case"I3N":case"I4N":case"I5N":case"2":case"3":case"4":t=1;break;case"Q":case"F":case"E":case"I1O":case"I2O":case"I2U":case"I2T":case"I3O":case"I3Z":case"I3U":case"I3V":case"I4O":case"I4Z":case"I4Q":case"I4U":case"I4V":case"I4W":case"I5O":case"I5Z":case"I5Q":case"I5R":case"I5U":case"I5V":case"I5W":case"I5X":t=2;break;case"T":case"TF":case"I0N":case"I1N":case"I3T":t=3;break;case"S":case"I4T":t=4;break;case"I5T":t=5}return t},getMultiLegLength:function(n){var t;switch(n){case"DD":t=2;break;case"TR":t=3;break;case"QU":t=4;break;case"P3":t=3;break;case"P4":t=4;break;case"P6":t=6}return t},buildCastBetRunners:function(n,t,i){for(var h=this.getCastLength(t),f=[],e,u,c,o,s,r=0;r<=h;r++)f[r]=[];if(i=="ITE")for(r=0,e=n.length;r<e;r++)o=t.substring(0,2)=="I0"||t.substring(0,2)=="I1"?n[r].getAttribute("data-toteplaceparticipantid"):n[r].getAttribute("data-participantid"),s=n[r].id.split("_")[1],f[s].push(o);else for(r=0,e=n.length;r<e;r++)u=n[r],c=u.id.split("_")[4],c!="F"&&u.checked&&(o=new CouponConstuctStringParser(u.value).getBetId(),s=this.getFinishPositionFromElementId(u.id,h),f[s].push(o));return f},buildCastValidationMatrix:function(n,t){for(var r=[],s=n.length,u,f,e,o,i=0;i<t+1;i++)r[i]=[];for(i=0;i<s;i++)u=n[i].id,f=u.split("_"),e=f[4],o=f[3]-1,r[o][e]=u;return r},buildMultiLegRunners:function(n,t){for(var u=[],f,r,e,o,s,i=0;i<n;i++)u[i]=[];for(i=0,f=t.length;i<f;i++)r=t[i],e=r.id.split("_")[4],e!="F"&&r.checked&&(o=r.id.split("_")[3].charAt(0)-1,s=new CouponConstuctStringParser(r.value).getBetId()+":0:0:"+r.id.split("_")[3],u[o].push(s));return u},getFinishPositionFromElementId:function(n,t){var i=n.split("_")[3].charAt(0),r=t==i-1;return r?0:i}};CouponCastSelectionClick=function(n){var t=n.split("_");this.utils=new CouponCastUtils;this.activeCheckBox=document.getElementById(n);this.betType=t[0];this.castType=t[1];this.betRegion=t[2];this.castNo=t[3];this.rowId=t[4];this.checkBoxes=this.utils.getCastCheckboxArray(this.castType);this.checkBoxesLen=this.checkBoxes.length;this.isMultiLeg=this.betType=="ml";this.castLen=this.isMultiLeg?this.utils.getMultiLegLength(this.castType):this.utils.getCastLength(this.castType);this.fieldId=this.betType+"_"+this.castType+"_"+this.betRegion+"_"+this.castNo+"_F"};CouponCastSelectionClick.prototype={select:function(){var r,t,u=!1,i,n,f;if(this.rowId=="F"&&this.selectDeselectColumn(),this.isMultiLeg)r=this.validateMultiLeg(),this.activeCheckBox.checked||this.resetFieldCheckbox();else{if(i=this.castLen+1,this.castNo==i)if(this.activeCheckBox.checked)for(n=0;n<this.checkBoxesLen;n++)this.checkBoxes[n].id.indexOf("_"+this.castType+"_"+this.betRegion+"_"+this.castNo+"_")==-1&&(this.checkBoxes[n].disabled=!0);else{for(t=0,n=0;n<this.checkBoxesLen;n++)if(this.checkBoxes[n].id.indexOf("_"+this.castType+"_"+this.betRegion+"_"+this.castNo+"_")!=-1&&this.checkBoxes[n].checked){t=1;break}if(t===0)for(u=!0,n=0;n<this.checkBoxesLen;n++)this.checkBoxes[n].id.indexOf("_"+this.castType+"_"+this.betRegion+"_"+this.castNo+"_")==-1&&(this.checkBoxes[n].disabled=!1);this.resetFieldCheckbox(this.fieldId)}else if(this.activeCheckBox.checked)for(n=0;n<this.checkBoxesLen;n++)this.checkBoxes[n].id.indexOf("_"+this.castType+"_"+this.betRegion+"_"+i+"_")!=-1&&(this.checkBoxes[n].disabled=!0);else{for(t=0,n=0;n<this.checkBoxesLen;n++)if(this.checkBoxes[n].id.indexOf("_"+this.castType+"_"+this.betRegion+"_"+i+"_")==-1&&this.checkBoxes[n].checked){t=1;break}if(t===0)for(u=!0,n=0;n<this.checkBoxesLen;n++)this.checkBoxes[n].id.indexOf("_"+this.castType+"_"+this.betRegion+"_"+i+"_")!=-1&&(this.checkBoxes[n].disabled=!1);this.resetFieldCheckbox()}r=this.validateCast()}f=this.betType+"_"+this.castType+"_"+this.betRegion;$("#ADDFCTC_"+f+"_BigBttn :button").prop("disabled",!r)},selectDeselectColumn:function(){for(var n=0;n<this.checkBoxesLen;n++)this.checkBoxes[n].id.indexOf("_"+this.castType+"_"+this.betRegion+"_"+this.castNo+"_")!=-1&&(this.checkBoxes[n].checked=this.activeCheckBox.checked?!0:!1)},resetFieldCheckbox:function(){for(var t=document.getElementsByTagName("input"),n=0,i=t.length;n<i;n++)if(t[n].type=="checkbox"&&t[n].id.startsWith(this.fieldId)){t[n].checked=!1;break}},validateCast:function(){for(var t=this.utils.buildCastValidationMatrix($(this.checkBoxes).filter(":checked"),this.castLen),r,u,f=0,e=0,o=0,n=0,i=t[this.castLen].length;n<=i;n++)t[this.castLen][n]&&f++;if(this.betRegion==="IT"&&f>this.castLen)return!1;if(f>=this.castLen)return!0;if(u=b365Mobile.CouponCastSelectionValidator.getInstance(),r=u.validate(t,this.castLen),!r&&this.castType=="Q"){for(n=0,i=t[0].length;n<=i;n++)t[0][n]&&e++;for(n=0,i=t[1].length;n<=i;n++)t[1][n]&&o++;if(e>1&&o==0)return!0}return this.betRegion==="IT"&&r&&u.validItemCount()>this.castLen?!1:this.betRegion==="UK"&&r&&(this.castType=="2"||this.castType=="3"||this.castType=="4")&&u.validItemCount()<this.castType?!1:r},validateMultiLeg:function(){for(var i=this.utils.buildMultiLegRunners(this.castLen,this.checkBoxes),t,n=0;n<this.castLen;n++)if(i[n].length>0)t=!0;else{t=!1;break}return t}};b365Mobile.CouponCastSelectionValidator=function(){function n(){this._validItemCount=0}return n.prototype.toString=function(){return"[CouponCastSelectionValidator]"},n.prototype.validate=function(n,t){var i=[],r;return this._validateItems(n,t,0,null,i),this._validItemCount=i.length,r=countArrayItems(n,n.length-1),r>0&&i.length===r},n.prototype.validItemCount=function(){return this._validItemCount},n._instance=null,n.getInstance=function(){return n._instance===null&&(n._instance=new b365Mobile.CouponCastSelectionValidator),n._instance},n.prototype._colExistsInArray=function(n,t){var i=$.grep(n,function(n){return n.col===t});return i.length>0},n.prototype._coordExistsInArray=function(n,t){var i=$.grep(n,function(n){return n.row===t.row&&n.col===t.col});return i.length>0},n.prototype._validateItems=function(n,t,i,r,u){var f,o,e;if(i<t)for(f=0;f<n[i].length;f+=1)n[i][f]&&(r||(r=[]),this._colExistsInArray(r,f)||(o={col:f,row:i},r.push(o),this._validateItems(n,t,i+1,r,u),r.pop()));else if(r)for(u||(u=[]),e=0;e<r.length;e+=1)this._coordExistsInArray(u,r[e])||u.push(r[e])},n}();CouponCastBet=function(n){this.selections=[];this.addBetBtn=$(n);this.utils=new CouponCastUtils;this.buttonDisabled=n.disabled;this.buttonTitle=n.getAttribute("data-nav").split("_");this.betType=this.buttonTitle[1];this.castType=this.buttonTitle[2];this.betRegion=this.buttonTitle[3];this.isMultiLeg=this.betType=="ml"&&(this.betRegion=="OZ"||this.betRegion=="US");this.checkBoxes=this.utils.getCastCheckboxArray(this.castType,this.betRegion);this.castLen=this.isMultiLeg?this.utils.getMultiLegLength(this.castType):this.utils.getCastLength(this.castType);this.arrCastBetRunners=this.isMultiLeg?this.utils.buildMultiLegRunners(this.castLen,this.checkBoxes):this.utils.buildCastBetRunners(this.checkBoxes,this.castType,this.betRegion);this.isCombination=this.arrCastBetRunners[0].length>0&&!this.isMultiLeg};CouponCastBet.prototype={addBet:function(){if(!this.buttonDisabled){var t,r,n,e,i,o,s=this.getCastPrefix(),h=this.getCastBetType(),c=this.getAtcValue(),l=this.getToteType(),u,f=null;for(this.isMultiLeg?t=this.checkBoxes[0].id.split("_")[5]:this.betRegion=="ITE"?(t=this.checkBoxes[0].getAttribute("data-fixtureid"),f=this.checkBoxes[0].getAttribute("data-classificationid")):(u=new CouponConstuctStringParser(this.checkBoxes[0].value),t=u.getFixtureId(),f=u.findKVPArrayItem("c")),r=new CastBetslipModel(s,h,l,this.castLen,c,"",t,this.isMultiLeg,f),this.isCombination||this.isMultiLeg||this.arrCastBetRunners.splice(0,1),n=0,e=this.arrCastBetRunners.length;n<e;n++)for(i=0,o=this.arrCastBetRunners[n].length;i<o;i++)r.addParticipant(n,this.arrCastBetRunners[n][i]);this.selections.push(r);bsApp.addBet(this.selections);this.clearAllCastCheckBoxes(this.betRegion);this.addBetBtn.prop("disabled",!0);couponController.start(!0)}},clearAllCastCheckBoxes:function(n){if(n=="ITE")window.b365Mobile.ItalianExotics.clearSelections();else for(var t=0;t<this.checkBoxes.length;t++)this.checkBoxes[t].disabled=!1,this.checkBoxes[t].checked=!1},getCastPrefix:function(){var n;if(this.betRegion=="OZ")n=this.isMultiLeg?"A"+this.castLen:this.getOzConstructPrefix();else if(this.betRegion=="IT")n="I"+(this.castType=="F"?"2":"3");else if(this.betRegion=="ITE")n=window.b365Mobile.ItalianExotics.getCastBetType();else if(this.betRegion=="US")if(this.isMultiLeg)n="R"+this.castLen;else switch(this.castType){case"F":n="NE";break;case"T":n="NT";break;case"TF":n="RT";break;default:n="R"+this.castType}else n=this.betRegion=="UK"&&["2","3","4","E","TF","S"].indexOf(this.castType)>=0?"J"+this.castType:"N"+(this.castType=="F"?"E":"T");return n},getCastBetType:function(){return this.betRegion=="OZ"?this.isCombination||this.castType=="Q"?"C":"S":this.betRegion=="ITE"?window.b365Mobile.ItalianExotics.getCastBetType().substring(2,3):this.isCombination?"C":"S"},getAtcValue:function(){var n="";return this.betRegion=="OZ"&&(n=this.isMultiLeg?"4":"3"),n},getToteType:function(){return this.betRegion=="OZ"?"5":this.betRegion=="US"?"3":""},getOzConstructPrefix:function(){return this.castType=="F"||this.castType=="T"?"O"+(this.castType=="F"?"E":"T"):"A"+(this.castType=="TF"?"T":this.castType)}};b365Mobile.Racing=function(){"use strict";function showHeaderEachWayTermsElement(n,t){typeof n!="undefined"&&n&&(n.style.display=t?"inline-block":"none",$(n.nextElementSibling)[(t?"remove":"add")+"Class"]("firstElement"))}function at(n){var c=n.getAttribute("data-plbtid").split("|"),l=document.getElementById("CpKey"),f,i,a,u,r,t,e,o,v,s,h;for(couponController.stop(),r=$(n).closest(".Section"),u=r.find(".section-lines-container"),i=r.find(".cpn-Header_EnhancedTab"),f=r.find(".MoreMarketsPod")[0],a=new b365Mobile.SportsDataKey(r.data("sportskey")).c2IdTable,t=0,e=u.length;t<e;t++){for(s=!1,o=0,v=c.length;o<v;o++)if(u[t].getAttribute("data-plbtid")==c[o]){s=!0;break}u[t].style.display=s?"block":"none";b365Mobile.couponHistory.addItem(l.value,u[t].getAttribute("id"),s)}for(t=0,e=i.length;t<e;t++)i[t].className=i[t].className.split("scrollNavButtonSelected").join("scrollNavButton"),h=i[t]==n,h&&(i[t].className=i[t].className.split("scrollNavButton").join("scrollNavButtonSelected")),b365Mobile.couponHistory.addItem(l.value,a+"|"+i[t].getAttribute("data-plbtid"),h);showHeaderEachWayTermsElement(r.find(".cpn-SubHeader_EachWayText")[0],n.getAttribute("data-eachWayInHeader")=="y");typeof f!="undefined"&&f&&(f.style.display=n.getAttribute("data-showMoreMarkets")=="y"?"block":"none");couponController.start(!0)}function vt(n){var u=!1,t,f;if(couponController.stop(),t=$(n),t.length>0){var e=t.closest(".Section"),i=t.closest("article"),r="showInfo";e.hasClass("showInfo")&&(r="forceClose");i.hasClass(r)?(i[0].className=i[0].className.replace(r,""),u=!1):(i.addClass(r),u=!0);f=t.closest("section").attr("data-nav").replace(/\D/g,"");f&&kt(e,f,u);couponController.start(!0)}}function yt(n,t){var r,o,s,h,f,u,i,e;n&&(couponController.stop(),e=$(n),t=t||{},t.showRunnerInfoCssClass=t.showRunnerInfoCssClass||et,t.hideRunnerInfoCssClass=t.hideRunnerInfoCssClass||ft,t.runnerInfoStyledElemSelector=t.runnerInfoStyledElemSelector||ht,t.moreInfoButtonShowCssClass=t.moreInfoButtonShowCssClass||ot,t.moreInfoStyledElemSelector=t.moreInfoStyledElemSelector||st,t.clientStateUiPageIdLocator=t.clientStateUiPageIdLocator||ut,i=e.closest(t.runnerInfoStyledElemSelector),h=e.closest(t.moreInfoStyledElemSelector).hasClass(t.moreInfoButtonShowCssClass),r=h&&!i.hasClass(t.hideRunnerInfoCssClass)||i.hasClass(t.showRunnerInfoCssClass),s=r?t.hideRunnerInfoCssClass:t.showRunnerInfoCssClass,o=r?t.showRunnerInfoCssClass:t.hideRunnerInfoCssClass,i.addClass(s),i.removeClass(o),f=$(t.clientStateUiPageIdLocator),f.length&&(u=f[0].getAttribute(ct)),u&&u.length>0&&t.clientStateUiElemKey&&t.clientStateUiElemKey.length>0&&b365Mobile.racingFormState.addItem(u,t.clientStateUiElemKey,!r,t.clientStateUiElemKey),couponController.start(!0))}function pt(n){var o,s,u,f,i,e,t,r;if(n){o=$(n);s=n.getAttribute("data-locateCommonShowHideRunnerProps")||".locateCommonShowHideRunnerProps";u=o.closest(s);u.length>0&&(f=u[0].getAttribute("data-CommonShowHideRunnerProps"),f&&(i=JSON.parse(f)));i=i||{};e=n.getAttribute("data-dto");e&&(t=JSON.parse(e));t=t||{};for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);yt(n,i)}}function wt(n){var i=$(n),r=$(n.children[0]),t=!r.hasClass("msh-RacingPodHeader_Ticker-selected");r.attr("class","msh-RacingPodHeader_Ticker-"+(t?"selected":"unselected"));var u=i.data("filter"),f=i.closest("section"),e=u=="LastRun"?"msh-CouponRacing_hideLastRun":"msh-CouponRacing_hideSpotlight";f[(t?"remove":"add")+"Class"](e);bt(f,u,t)}function bt(n,t,i){var u="rf_",f=n.find("header .CpSubHeaderInfo .couponButtonWrapper [data-fixtureid]").attr("data-fixtureid"),r=n.attr("data-sportskey");b365Mobile.couponHistory.addItem(r,u+f+"_"+t,i);r=n.attr("data-parentsportskey");r&&r.length>0&&b365Mobile.couponHistory.addItem(r,u+f+"_"+t,i)}function kt(n,t,i){var u=n.find("header .CpSubHeaderInfo .couponButtonWrapper [data-fixtureid]").attr("data-fixtureid"),r=n.attr("data-sportskey")||n.attr("data-parentsportskey");r&&b365Mobile.racingFormState.addItem(r,"rf_"+u+"_"+t,i)}function dt(n){for(var i=null,r,t=0;t<lt.length;t++)if(r=lt[t]+':contains("'+n+'"):first',i=$(r),i.length>0)break;return i}function gt(){var i=siteDataSession.getItem("HorseSearchSelectedName"),t,n;if(i){if(t=$(document.body),n=dt(i),siteDataSession.setItem("HorseSearchSelectedName",""),n.length==0)return;device.isWindowsPhone&&!device.isMicrosoftEdge?window.scrollTo(0,n.offset().top-clientViewport().height/4):$("#Site, body").animate({scrollTop:n.offset().top-clientViewport().height/4},500);n.attr("data-searchresult",!0);t.attr("data-searchresult",!0);setTimeout(function(){n.removeAttr("data-searchresult");t.removeAttr("data-searchresult")},5e3)}}var h,n,c,l,a,u,v,y,p,f,e,w,t,r=null,b,k,o,d,s,showHeaderEachWayTermsElement,g,nt,tt,it,rt,i=null,ut="#Coupon",ft="forceclose",et="showinfo",ot="showinfo",st=".js-MoreInfoStyledElem",ht=".js-RunnerInfoStyledElem",ct="data-clientUistatePageId",lt=["article.CouponRowRacing","div.CouponRowRacing","div.ipe-Participant","ul.results li.resultRow",".podEventRow.singleRow","table tr"];return c=function(n,t,i){var r="V6/sport/splash/Racing/Next3RacesData.aspx?key="+t+"&lng="+n+"&ot="+i+"&"+sProps.scProps;$.getJSON(r,function(r){l(r,n,t,i);window.betDataHelper&&r&&r.quickbetData&&window.betDataHelper.processJson(r.quickbetData)})},l=function(i,r,f,e){var v,tt,s,a,h,w,b,l,k,d,c,g,nt=!1,y="AusRacing",it=!1,p,rt=!1,ut,o;for(t=document.getElementById("AutoRefInt").value,n=i.podData,v=$("#Next3RacesGroup"),tt=v.attr("data-cid"),s=0;s<3;s++){if(h=v.find("#SplashNext3RacesPod_"+s),h.length>0)if(rt=!0,n[s]!==undefined){if(f!=tt&&(nt=!0),!nt)for(h.attr("data-sportskey")!==n[s].key&&(h.attr("data-sportskey",n[s].key),h.find(".genericRow").attr("data-sportskey",n[s].key)),w=h.find(".subsection > span"),w.text()!==n[s].fixtureDesc&&w.text(n[s].fixtureDesc),n[s].isAus?h.hasClass(y)||h.addClass(y):h.hasClass(y)&&h.removeClass(y),a=0;a<3;a++)o=n[s].row[a],ut=o!==undefined,c=h.find(".next3RacesRow").eq(a),c.toggleClass("hide",!ut),(n[s].cId==="2"||n[s].cId==="88"||n[s].cId==="2110"||n[s].cId==="2111")&&(p=c.find(n[s].cId==="2"||n[s].cId==="2110"?".racingSilks":".trottingSilks"),b=p.find("img"),o!==undefined&&(o.silk!==undefined&&o.silk!==""?(p.removeClass("hide"),o.silk!==b.attr("src")&&b.attr("src",o.silk)):p.removeClass("show").addClass("hide"),l=c.find(".participant"),l.text()!==o.participant&&l.text(o.participant),k=c.find(".Jockey"),k.text()!==o.jockey&&k.text(o.jockey))),n[s].cId==="4"&&o!=undefined&&o.order!==undefined&&(g=c.find(".dogTrap"),g.hasClass("Trap"+o.order)||g.removeClass("Trap1 Trap2 Trap3 Trap4 Trap5 Trap6 Trap7 Trap8 Trap9 Trap10").addClass("Trap"+o.order),l=c.find(".participant"),l.text()!==o.participant&&l.text(o.participant)),o!==undefined&&(d=c.find(".oddsColumn"),d.text()!==o.odds&&d.text(o.odds),c.data("nav")!==o.constructString&&(c.removeClass("Selected"),it=!0,c.data("nav",o.constructString),c.attr("data-nav",o.constructString))),h.hasClass("hide")&&h.removeClass("hide").addClass("show")}else h.hasClass("show")&&h.removeClass("show").addClass("hide");h=null}it&&(new CouponBetSelect).highlightSelectedBets();v=null;rt&&!nt&&t>0&&u(r,f,e)},u=function(n,i,u){var f=i,e=n,o=u;t>0&&(r=window.setTimeout(function(){c(e,f,o)},t))},h=function(n){var t,r,f,e,u=!1,i,o="raceform_";couponController.stop();t=$(n);t.length>0&&(f=t.attr("data-fixtureid"),r=t.closest(".Section"),r.length>0&&(e=t.text(),t.text(t.attr("data-alttext")),t.attr("data-alttext",e),r.eq(0).hasClass("showInfo")?(r.eq(0).removeClass("showInfo"),u=!1):(r.eq(0).addClass("showInfo"),u=!0)),i=document.getElementById("CpKey").value,b365Mobile.racingFormState.removeItem(i),b365Mobile.racingFormState.addItem(i,o+f,u),i=r.attr("data-parentsportskey"),i&&i.length>0&&(b365Mobile.racingFormState.removeItem(i),b365Mobile.racingFormState.addItem(i,o+f,u)));$(r).find(".CouponRowRacing").removeClass("showInfo forceClose");couponController.start(!0)},tt=function(n,t){var i,r,e,u,f,o;(i=$(n),i.length!==0)&&(couponController.stop(),t=t||{},t.showCssClass=t.showCssClass||ot,t.styledElemSelector=t.styledElemSelector||st,t.runnerInfoStyledElemSelector=t.runnerInfoStyledElemSelector||ht,t.runnerInfoStateIdSelector=t.runnerInfoStateIdSelector||".ir-FormSummary",t.runnerFormElemCssOverrides=t.runnerFormElemCssOverrides||et+" "+ft,t.clientStateUiPageIdLocator=t.clientStateUiPageIdLocator||ut,t.clientStateUiElemKey=t.clientStateUiElemKey||"moreInfoButton",r=i.closest(t.styledElemSelector).eq(0)||i.eq(0),o=r.find(t.runnerInfoStyledElemSelector),f=r.hasClass(t.showCssClass),t.showText&&t.hideText&&i.text(f?t.showText:t.hideText),o.removeClass(t.runnerFormElemCssOverrides),f?r.removeClass(t.showCssClass):r.addClass(t.showCssClass),e=$(t.clientStateUiPageIdLocator),e.length&&(u=e[0].getAttribute(ct)),u&&(b365Mobile.racingFormState.removeItem(u),b365Mobile.racingFormState.addItem(u,t.clientStateUiElemKey,!f,t.clientStateUiElemKey)),couponController.start(!0))},it=function(n){var o,s,u,f,t,e,i,r;if(n){o=$(n);s=n.getAttribute("data-locateMoreInfoButtonCommonProps")||".js-LocateMoreInfoButtonCommonProps";u=o.closest(s);u.length&&(f=u[0].getAttribute("data-moreInfoButtonCommonProps"),f&&(t=JSON.parse(f)));t=t||{};e=n.getAttribute("data-dto");e&&(i=JSON.parse(e));i=i||{};for(r in i)dto.hasOwnProperty(r)&&(t[r]=i[r]);tt(n,t)}},rt=function(n){var i=n.getAttribute("data-dto"),t;i&&(t=JSON.parse(i),t&&t.columnNumber)&&((t.selectedCssClass=t.selectedCssClass||"selected",b365Mobile.utils.hasClass(n,t.selectedCssClass))||(window.siteDataSession.set_racingCouponSortCriteria(t.columnNumber.toString()),window.reloadRacingCouponForRunnerSortChange()))},a=function(){var t="Next3RacesGroup",n,i;n=$("#"+t);n.length>0&&(i=n[0],i.addEventListener("click",function(n){n.target.id.indexOf(t)>-1&&(n.stopPropagation(),n.preventDefault())},!1));n=null},v=function(n){var i,t,e,r,u,f,o;if(i=$(n),e=i.attr("data-direction"),t=$(".noScrollWrapper"),o=t.find(".splashSection").length,r=parseFloat(t.find(".splashSection").eq(0).css("width")),u=parseFloat(t.css("left")),e==="left")if(u!==0)f=u+r;else return i=null,t=null,!1;else if(o*r-r!==Math.abs(u))f=u-r;else return i=null,t=null,!1;return f=f+"px",t.animate({left:f},500),i=null,t=null,!0},y=function(n){var s=n.split(";"),h,c,t=document.getElementById("CpKey").value,l,i,w,b,r="",u=$("#AusBestFlucHolder"),e,a,k=!1,d=$(".Section.showInfo").length>0,v=$(".scrollNavButtonSelected.ToteTypeLink"),g=v.attr("data-sports-key"),nt=v.attr("data-fixtureid"),tt=v.attr("data-plbtid"),o=$('.section-lines-container[data-sports-key="'+g+'"]'),it=o.filter('[data-plbtid="'+tt+'"]'),y=document.getElementsByClassName("cpn-Header_EnhancedTab scrollNavButtonSelected");for(s.length>1&&(r=s[1]),u.length>0&&u.children().length>0&&(r.toLowerCase()==="cpmoremarkets"?u.eq(0).removeClass("hide"):u.eq(0).addClass("hide")),e=s[2],a=new b365Mobile.SportsDataKey(e),a.plbtId===20103&&(k=!0),p(r),l=r+"/OPTION/"+e,b365Mobile.couponHistory.removeItem(t),b365Mobile.couponHistory.addItem(t,l,!0),o&&o.length>0&&o.each(function(){b365Mobile.couponHistory.addItem(t,$(this).attr("id"),it[0]===this)}),d&&b365Mobile.couponHistory.addItem(t,"raceform_"+nt,!0),i=0,w=y.length;i<w;i++)b=y[i].className.indexOf("scrollNavButtonSelected")>-1,b365Mobile.couponHistory.addItem(t,a.c2IdTable+"|"+y[i].getAttribute("data-plbtid"),b);h=b365Mobile.navigation.getPartialCouponPath(e)+"?key="+e+"&sct="+l+"&ot="+sProps.ot+"&lng="+sProps.LangID+"&zone="+sProps.ZoneID;c=window.couponController.getCouponSortParameter(t,!0);c.length>0&&(h+="&sort="+c);k===!1?f(r,h,n):$("#CpNavigationOption").empty();u=null},p=function(n){var t=document.getElementById("CpNavigationSelector");e(t.childNodes,n)},f=function(n,t){for(var u=document.getElementById("CpNavigationOption"),r=document.getElementsByTagName("li"),o=r.length,f,e,i=0;i<o;i++)r[i].getAttribute("data-nav")&&r[i].getAttribute("data-nav").indexOf("option;")===0&&(r[i].id===n?r[i].setAttribute("class","scrollNavButtonSelected"):r[i].setAttribute("class","scrollNavButton"));f=function(){};b365Mobile.popUpOverlay.overlay(!0,!0,!1,!1);e=function(){window.refreshPaused=!0;var n=document.createElement("div");n.style.display="none";u.appendChild(n);b365Mobile.popUpOverlay.overlay(!1);Tote.createToteStorage(null,u);window.refreshPaused=!1;window.couponController.start(!0)};window.couponController.stop();ajaxPost(f,e,u.id,t,1)},e=function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].childNodes.length>0&&e(n[i].childNodes,t),typeof n[i]!="undefined"&&typeof n[i].tagName!="undefined")switch(n[i].tagName){case"OPTION":if(typeof n[i].title=="undefined")break;n[i].selected=n[i].title.indexOf(t)>-1?!0:!1;break;case"LI":n[i].id===t?n[i].setAttribute("class","scrollNavButtonSelected"):n[i].setAttribute("class","scrollNavButton")}},w=function(n){var i,t;i=n.getAttribute("data-message");t=document.getElementById(i);t&&new window.BetSlipShowDialogHandler({MarkUp:"<p>"+t.value+"<\/p>"}).handle()},b=function(n){var i,r,u,f,e,t="data-displaystate",o="open",h="opening",s="closed",c="V6/sport/Splash/Racing/WatchYourLiveRacesContent.aspx?key={0}&iscode="+sProps.curCode;u=n.getAttribute(t);r=n.getAttribute("data-sportskey");i=document.getElementById("watchLiveRacesContainer");u===s?i.childNodes.length===0?(f=function(){n.setAttribute(t,h)},e=function(){n.setAttribute(t,o)},ajaxPost(f,e,i,c.replace("{0}",r),0)):n.setAttribute(t,o):n.setAttribute(t,s)},k=function(){var r="",u=null,t=null,i=null,n;for(window.iScrollItems=[],t=$(".splashDailyRacingSection>.scrollcontainer"),n=0;n<t.length;n++)i=$(t[n]),r=i.attr("id"),u=new IScroll("#"+r,{scrollX:!0,scrollY:!1,eventPassthrough:!0}),i.addClass("iscroll"),window.iScrollItems.push(u)},o=function(n){var t=document.createElement("DIV"),i=document.createElement("DIV"),c=document.createTextNode(b365.ml.enhancedDesc),f,e=205,l=n.parentNode.currentStyle||window.getComputedStyle(n.parentNode),o=n.parentNode.offsetWidth+parseFloat(l.marginRight),s=o-e/2-n.offsetWidth/2,h=n.parentNode.parentNode.className.indexOf("spl-Track_HasVideo")>-1?25:11,r=0,u;t.id="spl-Track_EnhancedDesc";t.className="spl-Track_EnhancedDesc";t.setAttribute("style","right:"+(s<h?h:s)+"px");i.className="spl-Track_EnhancedNib";t.appendChild(i);t.appendChild(c);n.parentNode.parentNode.appendChild(t);r=o-n.offsetWidth/2-25;u=e/2;i.setAttribute("style","right:"+(r>u?u:r)+"px");b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0);f=document.getElementById("overlay");f.setAttribute("onclick","b365Mobile.Racing.hideEnhancedDesc()");window.couponController.stop()},d=function(){var n=document.getElementById("spl-Track_EnhancedDesc"),t;n&&(t=document.getElementById("overlay"),n.parentNode.removeChild(n),b365Mobile.popUpOverlay.overlay(0),window.couponController.start(!0))},g=function(){var n=document.getElementsByClassName("cpn-Header_EnhancedTab"),r=n&&n.length>1?n[1]:null,t,i;r&&r.className.indexOf("scrollNavButtonSelected")>-1&&b365Mobile.Racing.toggleEnhanced(n[0]);t=document.getElementsByClassName("cpn-Header_EnhancedTabs");i=document.getElementsByClassName("cpn-SectionHeader_Offers");t.length&&(t[0].style.display="none");i.length&&(i[0].style.display="none");b365Mobile.Racing.hideEnhancedDesc();b365Mobile.Racing.hidePricePromiseDesc()},s=function(n,t){var i=document.createElement("DIV"),r=document.createElement("DIV"),f=document.createElement("DIV"),u=0,o,e,s;i.id="spl-Track_PricePromiseDesc";i.className="spl-Track_PricePromiseDesc"+(t?" cpn-SectionHeader_PricePromiseDesc":"");r.className="spl-Track_PricePromiseDescInner";f.className="spl-Track_PricePromiseDescNib";i.appendChild(f);i.appendChild(r);r.appendChild(document.createTextNode(b365.ml.pricePromiseDesc1));r.appendChild(document.createElement("br"));r.appendChild(document.createElement("br"));r.appendChild(document.createTextNode(b365.ml.pricePromiseDesc2));t?n.parentNode.appendChild(i):n.parentNode.parentNode.appendChild(i);s=n.innerHTML=="";u=n.offsetLeft+(s?5:0)-i.offsetLeft+n.offsetWidth/2-7;e=i.offsetWidth-22;u=u>e?e:u;f.setAttribute("style","left:"+u+"px");b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0);o=document.getElementById("overlay");o.setAttribute("onclick","b365Mobile.Racing.hidePricePromiseDesc()");window.couponController.stop()},nt=function(){var n=document.getElementById("spl-Track_PricePromiseDesc"),t;n&&(t=document.getElementById("overlay"),n.parentNode.removeChild(n),b365Mobile.popUpOverlay.overlay(0),window.couponController.start(!0))},{next3RacesRefresh:function(n,i,r){t=document.getElementById("AutoRefInt").value;u(n,i,r)},stopNext3RacesRefresh:function(){t>0&&r!==null&&(window.clearTimeout(r),r=null)},doPodsExist:function(){return $(".Next3Races").length>0},showHideForm:function(n){h(n)},showHideSingleRacingFormElem:pt,toggleRaceFormMoreInfoButton:function(n){it(n)},toggleStableReportToolTip:function(n){i!=null?this.hideStableReportToolTip():this.showStableReportToolTip(n)},showStableReportToolTip:function(n){for(var o=n.getAttribute("data-reportid"),s=document.getElementsByClassName("ir-StableReport_ToolTipContainer-"+o),t,a,h,f=94,e,c,r=5,u=0,l=s.length;u<l;u++)t=s[u],a=t.getElementsByClassName("ir-StableReport_ToolTip")[0],h=t.getElementsByClassName("ir-StableReport_ToolTipNib")[0],t.style.display="block",t.style.top=n.offsetTop+9+"px",e=n.offsetLeft-f,t.style.left=(e>r?e:r)+"px",c=n.offsetLeft<f+r?n.offsetLeft-r:f,h.style.marginLeft=c+"px";i=o},hideStableReportToolTip:function(){for(var t=document.getElementsByClassName("ir-StableReport_ToolTipContainer-"+i),r,n=0,u=t.length;n<u;n++)r=t[n],r.style.display="none";i=null},getPodData:function(){return n},setPodData:function(t){n=t},restrictClicksOnSection:function(){a()},moveNext3RacesPod:function(n){v(n)},racingOption:function(n){y(n)},gotoOption:function(n,t){f(n,t)},showToteDesc:function(n){w(n)},selectMultiBet:function(n,t,i){var r=document.getElementById(t+"_S");window.ajaxPost(function(){window.Overlay(1,1)},function(){window.Overlay(0,0)},r,"sport/coupon/partial/PartialDefault.aspx?key="+n+"&item="+i,0)},selectMultiBetV6:function(n){var t=$(n),i=t.attr("data-sports-key"),r=$('.Lines[data-multi-key="'+t.attr("data-multi-key")+'"]')[0],u=$(n).attr("data-cast-type");t.parents("ul:first").find("li").removeAttr("selected");t.parents("li:first").attr("selected","");$('.popup-button[data-nav="TogglePopup"]').text(t.text());b365Mobile.coupon.toggleMenu();window.ajaxPost(function(){window.Overlay(1,1)},function(){window.Overlay(0,0)},r,"V6/sport/coupon/partial/PartialDefault.aspx?key="+i+"&item="+u,0)},isCastSection:function(n){return/^(forecast|tricast|quinella|exacta|trifecta|superfecta|firstfour|dailydouble|treble|quadrella|racemarkets|toteswinger|toteexacta|totetrifecta|etoterace|etoteexacta|etotetrio|12anyorder|12exactorder|123anyorder|123exactorder|1234anyorder|1234exactorder).*$/.test(n.toLowerCase())},showHideRaceMeeting:function(){$("#raceMeetingsContainer").toggle();scrollToTop();b365Mobile.footer.setFooter()},showToteDescText:function(n){n&&new BetSlipShowDialogHandler({MarkUp:"<p>"+n+"<\/p>"}).handle()},getWatchYourLiveRacesContent:function(n){b(n)},applyIScrollForSplash:function(){k()},showEnhancedDesc:function(n){b365.ml?o(n):window.getLanguages(function(){o(n)})},hideEnhancedDesc:function(){d()},showPricePromiseDesc:function(n,t){b365.ml?s(n,t):window.getLanguages(function(){s(n,t)})},hidePricePromiseDesc:function(){nt()},hideAllEnhancedRacingUiElements:function(n){g(n)},showHeaderEachWayTermsElement:function(n,t){showHeaderEachWayTermsElement(n,t)},selectCouponSortColumn:rt,toggleEnhanced:at,showHideSingleRow:vt,toggleFilter:wt,highLightResults:gt,couponInit:function(){this.isInitialised||(this.isInitialised=!0)},couponUpdate:function(){if(this.isInitialised)for(var t=document.getElementsByClassName("ir-StableReport_Icon-"+i),n=t.length-1;n>=0;n--)if(t[n].offsetTop>0){this.showStableReportToolTip(t[n]);break}},couponDispose:function(){var t=ns_gen5_ui.SingletonModule(ns_moblib_util.ModuleName.STICKY_VIDEO_MODULE),n=ns_gen5_util.Singleton.getInstance(t);(n&&n.invoke(function(n){n.reset()}),this.isInitialised)&&(this.isInitialised=!1)},isInitialised:!1}}();b365Mobile.rule4=function(n){"use strict";var c="block",l="none",o="selected",i=null,r=null,t=null,f=!1,s,h,e,u=n.jQuery;return s=function(){i=null;r=null;t=null;f=!1},h=function(s){var p=!1,y,a,l;if(i&&(p=i.is(u(s))),!f||(e(),!p)){i=u(s);r=i.parent();t=u(".rule4Details",r);n.couponController.stop();u(document.body).append(t);y=i.offset();var v=t.outerWidth(),w=r.outerWidth(),h=y.left-(v-w)/2,b=h+v,k=u(document.body).outerWidth();b>k-5&&(l=b-k+5,h-=l,t.children(".nib:first").css("margin-left",v/2+l-6));h<5&&(l=5-h,h=5,t.children(".nib:first").css("margin-left",(v-w)/2-l+6));t.css({top:y.top+r.outerHeight(),left:h});i.addClass(o);b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0);a=u("#overlay");a.removeAttr("onclick");a.attr("data-nav","R4ButtonClose");a.on("click",function(n){processNav(n.target)});t.css("display",c);f=!0}},e=function(){if(f){t.css("display",l);i.removeClass(o);r.append(t);var e=u("#overlay");e.off("click");e.attr("data-nav","");b365Mobile.popUpOverlay.overlay(0);n.couponController.start(!0)}i=null;r=null;t=null;f=!1},{initialise:function(){s()},togglePopup:function(n){h(n)},hidePopup:function(){e()}}}(window),function(n){"use strict";var t=function(){function t(){}var i=1e3,u=60,f=60,e="timer-parent",o="startSoon",s=".is-event-timer[data-epoch-time]",h="data-epoch-time",r=n.jQuery,c=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){return setTimeout(n,i/60)};return t.prototype._formatHoursMinutes=null,t.prototype._formatMinutes=null,t.prototype._formatMinutesSeconds=null,t.prototype._timerElements=null,t.prototype._interval=null,t.prototype._deviceTimeOffset=0,t.prototype._settings=null,t.prototype._pageLoadedEpoch=null,t.prototype._pageLoadedDate=null,t.prototype.Start=function(t){this.Stop();this._settings=this._populateSettings(t||this._settings);var u=n.EventTimerProperties!==undefined,r=this,f=function(){r._tick.apply(r)};if(!u)throw"No global EventTimerProperties object has been defined";this._formatHoursMinutes=n.EventTimerProperties.formatHoursMinutes;this._formatMinutes=n.EventTimerProperties.formatMinutes;this._formatMinutesSeconds=n.EventTimerProperties.formatMinutesSeconds;this._pageLoadedEpoch=n.EventTimerProperties.pageLoadedEpoch;this._pageLoadedDate=new Date(Date.UTC.apply(n,this._pageLoadedEpoch.split("#").map(Number)));this._deviceTimeOffset=n.EventTimerProperties.deviceNowTime-Number(this._pageLoadedDate);this._interval=n.setInterval(f,i);this.Update()},t.prototype.Update=function(){var i,r,t;if(this._interval!==null)for(this._timerElements=Array.prototype.slice.call(n.document.querySelectorAll(this._settings.timerRule)),i=0,r=this._timerElements.length;i<r;i++)t=this._timerElements[i],t.timerText=String(t.innerHTML).trim(),this._settings.usesCloning||(t.textNode=document.createTextNode(t.timerText||""),t.hasChildNodes()&&t.removeChild(t.firstChild),t.appendChild(t.textNode))},t.prototype.Stop=function(){this._interval!==null&&n.clearInterval(this._interval);this._timerElements=null;this._interval=null},t.prototype.Pause=function(){this._interval!==null&&n.clearInterval(this._interval)},t.prototype.Restart=function(){this._tick();this._interval=n.setInterval(r.proxy(this._tick,this),i)},t.prototype._tick=function(){var f=0,i=null,n,t,e,u,s=Number(new Date)-this._deviceTimeOffset,h=this._timerElements!==null&&this._timerElements.length,o;if(h){for(o=this._timerElements.length;f<o;f+=1)(n=this._timerElements[f],n)&&(e=this._getRemainingTime(n,s),t=r(n),e.totalMinutes<30&&!t.hasClass(this._settings.timerStartedClassName)&&(this._settings.usesCloning?i=this._queueForRendering(i,t,undefined,this._settings.timerStartedClassName):(t.toggleClass(this._settings.timerStartedClassName,!0),t.parent().toggleClass(this._settings.timerStartedClassName,!0))),u=this._calculateTextOut(t,e),n.timerText!==u&&(this._settings.usesCloning?i=this._queueForRendering(i,t,u):n.timerText=n.textNode.data=u));!this._isStopped()&&this._settings.usesCloning&&this._render(i);i=null;t=null;n=null}},t.prototype._calculateTextOut=function(n,t){var r,i,u=n.attr("data-format"),f=n.attr("data-at-zero");if(t.totalSeconds<=0&&f)return f;u||(u=Math.abs(t.totalHours)>0?"hours-minutes":Math.abs(t.totalMinutes)<30?"minutes-seconds":"minutes");switch(u){case"hours-minutes":i=n.attr("data-format-hours-minutes")||this._formatHoursMinutes;r=this._formatString(i,t.isNegative,t.totalHours,t.minutesPart);break;case"minutes-seconds":i=n.attr("data-format-minutes-seconds")||this._formatMinutesSeconds;r=this._formatString(i,t.isNegative,t.totalMinutes,t.secondsPart);break;default:i=n.attr("data-format-minutes")||this._formatMinutes;r=this._formatString(i,t.isNegative,t.totalMinutes)}return r},t.prototype._queueForRendering=function(n,t,i,r){if(n=n||[],!t.length&&!i&&!r)return n;var u=0,o=n.length,f=t.parents("."+this._settings.timerParentClassName+":first"),s=f[0],e=f.find(this._settings.explicitTimerRule),h=e.index(t),c={timerElementIndex:h,textOut:i,className:r,parentChildren:e};if(!f.length)return n;for(;u<o;u+=1)if(n[u].parent[0]===s)break;return u===o&&n.push({parent:f,queue:[]}),n[u].queue.push(c),f=null,e=null,n},t.prototype._render=function(n){if(n&&n.length){for(var i,f,e,o,t,u,s=[],l,h=this;i=n.shift();){for(f=i.parent.clone(),e=f.find(this._settings.explicitTimerRule),o=[];t=i.queue.shift();)o=t.parentChildren,u=r(e[t.timerElementIndex]),u.timerText=t.textOut,t.textOut&&u.text(t.textOut),t.className&&u.toggleClass(t.className,!0);s.push({originalParent:i.parent,clone:f,cloneChildren:e,parentChildren:o})}(i=null,f=null,e=null,o=null,u=null,n=null,s.length)&&(l=function(){for(var n,t,i;n=s.shift();){for(t=0;t<n.parentChildren.length;t+=1)i=h._timerElements.indexOf(n.parentChildren[t]),i>=0&&(h._timerElements[i]=n.cloneChildren[t]);n.originalParent.replaceWith(n.clone)}n=null;h=null},c(l))}},t.prototype._populateSettings=function(n){var t=n||{};return this._settingIsEmpty(t.timerParentClassName)&&(t.timerParentClassName=e),this._settingIsEmpty(t.timerStartedClassName)&&(t.timerStartedClassName=o),this._settingIsEmpty(t.explicitTimerRule)&&(t.explicitTimerRule=s),this._settingIsEmpty(t.timerRule)&&(t.timerRule="."+t.timerParentClassName+" "+t.explicitTimerRule),this._settingIsEmpty(t.timerEpochAttributeName)&&(t.timerEpochAttributeName=h),this._settingIsEmpty(t.timerRule)&&(t.usesCloning=!0),t},t.prototype._settingIsEmpty=function(n){return n===null||n===undefined},t.prototype._getRemainingTime=function(n,t){var e,r={},o=n.attributes[this._settings.timerEpochAttributeName];return o?(e=Number(o.value),r.totalSeconds=(e-t)/i,r.totalMinutes=r.totalSeconds/u,r.totalHours=r.totalMinutes/f,r.isNegative=r.totalSeconds<0,r.totalSeconds=r.isNegative?Math.ceil(r.totalSeconds):Math.floor(r.totalSeconds),r.totalMinutes=r.isNegative?Math.ceil(r.totalMinutes):Math.floor(r.totalMinutes),r.totalHours=r.isNegative?Math.ceil(r.totalHours):Math.floor(r.totalHours),r.minutesPart=r.totalMinutes-r.totalHours*f,r.secondsPart=r.totalSeconds-r.totalMinutes*u,r):null},t.prototype._formatString=function(n,t){for(var i=0,o=n.lastIndexOf("0"),r,f,e=[],u,s=arguments;i<=o&&(r=n.indexOf("0",i))>=0;)u=n.substring(r),f=u.indexOf("0",1),e.push((i===0?n.substring(0,r)+(t?"-":""):"")+(f>0?u.substring(0,f):u)),i=r+1;return e.map(function(n,t){var i=Math.abs(Number(s[t+2]));return n.replace("0",(i<10?"0":"")+String(i))}).join("")},t.prototype._isStopped=function(){return this._interval===null},t.prototype.toString=function(){var t="-- EventTimer -- \r\n";return t+="In a "+(this._isStopped()?"stopped":"started")+" state\r\n",t+="Has "+(this._timerElements===null?"0":String(this._timerElements.length))+" timers\r\n",t+="Server render time "+String(Number(this._pageLoadedDate))+"ms\r\n",t+="Client render time "+String(n.EventTimerProperties.deviceNowTime)+"ms\r\n",t+("Render time offset "+String(this._deviceTimeOffset)+"ms\r\n")},t}(),i=new t;n.EventTimer=i}(window),function(n,t,i){function c(t,i,r,u){var e,f;if(e=t?n(t).find("#"+i):n("#"+i),e.length>0)for(f=0;f<u;f+=1)r[f]=[]}function kt(n){for(var i,t=0;t<n.length-1;t+=1)for(i=0;i<n[t].length;i+=1)if(n[t][i])return!0;return!1}function k(t,i){n("#"+t+"BigBttn :button").prop("disabled",i)}function l(n,t,i){for(var f=0,u,r=0;r<n[t].length;r+=1)if(n[t][r])if(i&&t>0){for(u=0;u<t;u+=1)if(n[u][r])return-1;f+=1}else f+=1;return f}function a(n,t){var r,i=!1,u;return r=l(n,n.length-1,!1),r>0?r>=t&&(i=!0):t===1?i=countArrayItems(n,n.length-1)>0:(u=b365Mobile.CouponCastSelectionValidator.getInstance(),i=u.validate(n,t)),i}function d(n){return l(n,0,!1)===1&&l(n,1,!0)>1}function g(n){var i,c,t=!1,l;switch(n){case"M":for(i=0;i<r.length;i+=1)if(r[i].length>0&&t==!1)for(c=0;c<r[i].length;c+=1)if(l=r[i][c],l){t=!1;break}else t=!0;else t=!0;break;case"R":t=!a(s,1,!1);break;case"S":t=!a(h,2,!1);break;case"E":t=f?!d(e):!a(e,2,!0);break;case"T":t=u?!d(o):!a(o,3,!0)}k("ADDTOTE_"+n,t)}function dt(t,i,r,u){var f;u==="A"?(f=n("input[title='"+r+":P'],input[title='"+r+":Q']"),l(i,i.length-1,!1)>0?f.attr("disabled",!0):f.removeAttr("disabled")):(u==="P"||u==="Q")&&(f=n("input[title='"+r+":A']"),kt(i)?f.attr("disabled",!0):f.removeAttr("disabled"))}function p(t,r){var e,s,o;if(nt(t),r||i.createToteStorage(t,null),gt(t),t==="E")s=f;else if(t=="T")s=u;else return;e=n("input[title='ToteButton_"+t+":A'],input[title='ToteButton_"+t+":Q']");s?e.attr("disabled",!0):e.removeAttr("disabled");e=null;o=n("#type_"+t.toLowerCase());o.find(".pos").toggle();o.find(".any").toggle();o=null;g(t)}function gt(t){var r,i,u,f,e="ToteButton_"+t;n("input[title='"+e+":P']").each(function(){r=n(this).attr("id");i=r.split(":");(i[2]==1||i[2]==2)&&(u=i[0].substring(2,3),f=i[0].substr(0,2)+(u===y?b:y)+r.substr(3),n(this).attr("id",f))})}function ni(){for(var i,u,n=0;n<r.length;n+=1)for(i=0;i<r[n].length;i+=1)r[n][i]&&(u=t.getElementById(r[n][i].key),u&&(u.checked=!0))}function ti(){var e,i,n,u,f;if(v=="CpQuickPick"){ni();return}if(r.length>0)for(e=parseInt(ii())-1,i=r[e],n=0;n<i.length;n+=1)u=i[n],u&&(f=t.getElementById(u.key),f&&(f.checked=!0))}function ii(){return v.replace("CpLeg","")}function ri(i,r){var e,o,h,f,c,u,l,a,s;if(e=n("#ToteSectionLines"),e.length>0){for(o=e[0],h=function(){window.couponController.start(!0)},f=t.getElementsByTagName("li"),c=f.length,u=0;u<c;u+=1)f[u].getAttribute("data-nav")&&f[u].getAttribute("data-nav").indexOf("leg;")==0&&(f[u].id==i?f[u].setAttribute("class","scrollNavButtonSelected"):f[u].setAttribute("class","scrollNavButton"));l=function(){};overlay(1,1);a=function(){s=t.createElement("div");s.style.display="none";o.appendChild(s);scrollToTop();overlay(0);b365Mobile.footer.setFooter();ti()};window.couponController.stop();ajaxGet(l,a,o.id,r,null,h())}}function ui(t){return t==="T"&&u||t==="E"&&f?(n("input[title='ToteButton_"+t+":B']").prop("checked",!1),u?u=!1:f=!1,p(t),!0):!1}function fi(n){for(var e=[],o=[],r,i,u,f,t=0;t<n.length;t+=1)for(r=0;r<n[t].length;r+=1)i=n[t][r],i&&(u={ctyp:i.castType,btyp:i.betType,ttyp:i.toteType},f=u.ctyp+":"+u.btyp,Array.contains(e,f)||(e.push(f),o.push(u)));return o}function ei(n,t){for(var i=new CastBetslipModel(n.ctyp,n.btyp,n.ttyp,t.length,"",""),e,f,u,o,r=0;r<t.length;r+=1)for(f=0;f<t[r].length;f+=1)u=t[r][f],u&&u.castType==n.ctyp&&u.betType==n.btyp&&(e=r,(n.btyp==yt||n.btyp==pt||n.btyp==at||n.btyp==vt||n.btyp==w||n.btyp==b)&&(e=0),i.addParticipant(e,u));return i.ctype.toUpperCase()==wt.toUpperCase()&&(o=oi(n.ctype.substring(1,2)),i.valuelist[0].length==o?i.ctype=y.toUpperCase():i.valuelist[0].length>o&&(i.ctype=w.toUpperCase())),i}function oi(n){switch(n){case tt:return 2;case it:return 3;case ut:return 2;case ft:return 2;case ot:return 2;case st:return 2;case ht:return 3;case ct:return 3;case lt:return 4;case et:return 4;default:return 0}}function nt(t){switch(t){case"M":n("input[title='ToteButton']").prop("checked",!1);break;case"R":n("input[title='ToteButton_R']").prop("checked",!1);break;case"S":n("input[title='ToteButton_S']").prop("checked",!1);break;case"E":n("input[title='ToteButton_E:A']").prop("checked",!1).removeAttr("disabled");n("input[title='ToteButton_E:P']").prop("checked",!1).removeAttr("disabled");break;case"T":n("input[title='ToteButton_T:A']").prop("checked",!1).removeAttr("disabled");n("input[title='ToteButton_T:P']").prop("checked",!1).removeAttr("disabled");n("input[title='ToteButton_T:Q']").prop("checked",!1).removeAttr("disabled")}}var v="CpQuickPick",r=[],s=[],e=[],h=[],o=[],tt="e",it="t",rt="p",ut="w",ft="q",et="s",ot="2",st="e",ht="3",ct="t",lt="4",y="s",w="c",at="w",vt="l",yt="e",pt="h",b="b",wt="o",f=!1,u=!1,bt=!1;i.createTotePot=function(n){var t=n.split(":");return{lineNumber:t[1],columnNumber:t[2]-1,legNumber:t[2],key:n,castType:t[0].substring(0,2),betType:t[0].substring(2,3),toteType:t[3],toteC2ID:t[4],participantID:t[6],potType:t[7],toteMeetingID:t[8],toteMeetingNumber:t[9],toteRaceNumber:t[10],toteRunnerNumber:t[11]}};i.createCouponTotePot=function(n){var t=n.split(":");return{lineNumber:t[1],columnNumber:t[2]-1,legNumber:t[2],key:n,castType:t[0].substring(0,2),betType:t[0].substring(2,3),toteType:t[3],fixtureID:t[4],participantID:t[5]}};i.createToteStorage=function(n,i){var l,a=t.getElementById("ToteLegs");if(a)for(r=[],l=0;l<a.value;l+=1)r[l]=[];n&&n!=="R"||c(i,"toteRunners_R",s,3);n&&n!=="S"||c(i,"toteRunners_S",h,1);n&&n!=="E"||(c(i,"toteRunners_E",e,3),i&&(f=!1));n&&n!=="T"||(c(i,"toteRunners_T",o,4),i&&(u=!1))};i.addToteSelection=function(n,t,c,l){var v=null,a=null,y="",w=t.indexOf(":"),b=w<0?t:t.substring(0,w),k,d=!1,nt=2;w>0&&(k=t.substring(w+1).toUpperCase());y=b.substring(b.length-1).toUpperCase();switch(b.toLowerCase()){case"totebutton":v=r;a=i.createTotePot(n);y="M";break;case"totebutton_r":v=s;a=i.createCouponTotePot(n);break;case"totebutton_s":v=h;a=i.createCouponTotePot(n);nt=1;break;case"totebutton_e":v=e;k==="B"?(f=c,p(y,l)):a=i.createCouponTotePot(n);d=f;break;case"totebutton_t":v=o;k==="B"?(u=c,p(y,l)):a=i.createCouponTotePot(n);d=u}a&&(v[a.columnNumber][a.lineNumber]=v[a.columnNumber][a.lineNumber]?null:a,d||dt(t,v,b,k),g(y))};i.couponLegs=function(n){var t=n.split(";"),f=t[1],i,u,e,r;for(v=f,couponHistory.addItem(f.value,t[1]+"/LEG/"+t[2],!0),i=couponHistory.getHistoryList(f.value),u=i.split(";"),e=!1,r=0;r<u.length;r+=1)if(u[r].indexOf("/LEG/")>-1){i=i.replace(u[r],t[1]+"/LEG/"+t[2]);e=!0;break}e||(i=i+";"+t[1]+"/LEG/"+t[2]);ri(t[1],b365Mobile.navigation.getPartialCouponPath(t[2])+"?key="+t[2]+"&sct="+i+"&ot="+sProps.ot+"&lng="+sProps.LangID)};i.placeToteBets=function(n,t){var l,f,u,a,v,c;if(!t.disabled&&(l=n.split("_"),!(l.length<2))){f=l[1].toUpperCase();switch(f){case"R":u=s;break;case"E":u=e;break;case"S":u=h;break;case"T":u=o;break;default:u=r}if(u){for(a=[],v=fi(u),c=0;c<v.length;c+=1)a.push(ei(v[c],u));bsApp.addBet(a);ui(f)||nt(f)}i.createToteStorage(f,null);k(n,!0);bt&&couponController.start(!0)}};i.totePot=function(){return rt}}(jQuery,document,window.Tote=window.Tote||{});b365Mobile.ItalianExoticsController=function(){function o(){}function di(n,t,i,r){var f=document.getElementById(n),u,e=f.getElementsByClassName(t)[0];return e&&b365Mobile.utils.removeClass(e,t),i?(b365Mobile.utils.addOrAppendClass(i,t),i.id):(u=f.getElementsByClassName(r),b365Mobile.utils.addOrAppendClass(u[0],t),u[0].id)}function yr(){for(var n=0;n<r.length;n++)b365Mobile.utils.addOrAppendClass(document.getElementById(r[n]),g)}function pr(){Modernizr.v6scrolling?Modernizr.needsiscroll?(window.iscrollers&&window.iscrollers[a]&&window.iscrollers[a].scrollTo(it,0),window.iscrollers&&window.iscrollers[e]&&window.iscrollers[e].scrollTo(ut,0)):(tt&&(tt=document.getElementById(a).getElementsByClassName("scrollcontainer")[0],tt.scrollLeft=it),rt&&(rt=document.getElementById(e).getElementsByClassName("scrollcontainer")[0],rt.scrollLeft=ut)):($("#"+a).data("current-page",it),b365Mobile.ScrollerSetup.setUpScrollingFallback($("#"+a)),$("#"+e).data("current-page",ut),b365Mobile.ScrollerSetup.setUpScrollingFallback($("#"+e)))}function gi(){var n=!1,i=document.getElementsByClassName(ki)[0];switch(w){case hi:switch(p){case c:n=ft(2);t="I2N";break;case l:n=f(1,1);t="I2O";break;case v:n=f(1,1);t="I2U";break;case kt:n=vt(2);t="I2T"}break;case pt:n=nr();t="I0N";break;case st:switch(p){case c:n=nr();t="I1N";break;case l:n=f(1,1);t="I1O"}break;case ci:switch(p){case c:n=ft(3);t="I3N";break;case l:n=f(1,2);t="I3O";break;case b:n=f(2,1);t="I3Z";break;case v:n=f(1,2);t="I3U";break;case d:n=f(2,1);t="I3V";break;case dt:n=vt(3);t="I3T"}break;case li:switch(p){case c:n=ft(4);t="I4N";break;case l:n=f(1,3);t="I4O";break;case b:n=f(2,2);t="I4Z";break;case et:n=f(3,1);t="I4Q";break;case v:n=f(1,3);t="I4U";break;case d:n=f(2,2);t="I4V";break;case ot:n=f(3,1);t="I4W";break;case gt:n=vt(4);t="I4T"}break;case ai:switch(p){case c:n=ft(5);t="I5N";break;case l:n=f(1,4);t="I5O";break;case b:n=f(2,3);t="I5Z";break;case et:n=f(3,2);t="I5Q";break;case wt:n=f(4,1);t="I5R";break;case v:n=f(1,4);t="I5U";break;case d:n=f(2,3);t="I5V";break;case ot:n=f(3,2);t="I5W";break;case bt:n=f(4,1);t="I5X";break;case ni:n=vt(5);t="I5T"}}n?(i.removeAttribute("disabled"),i.setAttribute("data-nav","ADDFCTC_fo_"+t+"_ITE")):i.setAttribute("disabled","disabled")}function ft(n){var t,u=[],i;for(h=[],t=0;t<r.length;t++)i=r[t].split(y),i[0]==ii&&i[1]=="0"&&u.push(i);return h=si(u,n),u.length>=n}function f(n,t,i){var u,e,f,c,o,k=[],l=[],d=[],a=[],p,s=[],v,w=!1,b;for(i||(h=[]),u=0;u<r.length;u++)o=r[u].split(y),o[0]!=ii||i&&o[1]=="0"||(s.push(o),o[1]==(i?"1":"0")?k.push(o):o[1]==(i?"2":"1")&&d.push(o));for(l=si(k,n),a=si(d,t),u=0;u<l.length;u++)for(e=0;e<a.length;e++){for(p=!1,f=0;f<n;f++)for(c=0;c<t;c++)l[u][f][2]==a[e][c][2]&&(p=!0);p||h.push([l[u],a[e]])}for(s.length>0&&(w=!0),u=0;u<s.length;u++){for(v=!1,e=0;e<h.length;e++){for(f=0;f<n;f++)h[e][0][f]==s[u]&&(v=!0);for(f=0;f<t;f++)h[e][1][f]==s[u]&&(v=!0)}b=document.getElementById(s[u].join(y));v?b365Mobile.utils.removeClass(b,nt):(w=!1,b365Mobile.utils.addOrAppendClass(b,nt))}return w}function vt(n){function s(n,t,r){var u,e=!1,f;if(i[n].length>0){for(i[n][t+1]&&s(n,t+1,r.slice()),f=i[n][t],u=0;u<r.length;u++)r[u][2]==f[2]&&(e=!0);e||(r.push(f),i[n+1]?s(n+1,0,r):h.push(r))}}var t,i=[],u=[],f=!1,e=!1,o;for(h=[],t=0;t<n;t++)i.push([]);for(t=0;t<r.length;t++)selInfo=r[t].split(y),selInfo[0]==ii&&(i[selInfo[1]].push(selInfo),u.push(selInfo));for(s(0,0,[]),h.length>0&&(e=!0),t=0;t<u.length;t++){for(f=!1,k=0;k<h.length;k++)for(j=0;j<n;j++)if(h[k][j]==u[t]){f=!0;break}o=document.getElementById(u[t].join(y));f?b365Mobile.utils.removeClass(o,nt):(e=!1,b365Mobile.utils.addOrAppendClass(o,nt))}return e}function nr(){var n,t,i=!1,e,u=!1,o;for(h=[],n=0;n<r.length;n++)t=r[n].split(y),t[1]=="0"&&(i=!0),(t[1]=="1"||t[1]=="2")&&(u=!0);return i&&u?(e=ft(2),o=f(1,1,!0),e&&o):i?ft(2):u?f(1,1,!0):!1}function yt(){if(ri)for(selectionCol2Items=document.getElementsByClassName(ht),selectionCol3Items=document.getElementsByClassName(ti),i=0;i<selectionCol2Items.length;i++)selectionCol2Items[i].innerHTML="2°",selectionCol3Items[i].innerHTML="3°";ri=!1}function s(t,i,r){var h=document.getElementsByClassName(ur)[0],o=document.getElementsByClassName(fr)[0],c={1:er,2:or,3:sr,4:hr,5:cr},e=[],a,s,u,l,f;for(e.selectionCol1Items=o.getElementsByClassName(yi),e.selectionCol2Items=o.getElementsByClassName(ht),e.selectionCol3Items=o.getElementsByClassName(ti),e.selectionCol4Items=o.getElementsByClassName(lr),e.selectionCol5Items=o.getElementsByClassName(ar),h.innerHTML="",u=1;u<=5;u++)b365Mobile.utils.removeClass(o,c[u]),b365Mobile.utils.removeClass(h,c[u]);for(h.innerHTML=t,b365Mobile.utils.addOrAppendClass(o,c[i]),b365Mobile.utils.addOrAppendClass(h,c[i]),u=0,l=e.selectionCol1Items.length;u<l;u++){for(f=1;f<=5;f++)s=e["selectionCol"+f+"Items"][u],b365Mobile.utils.addOrAppendClass(s,n),b365Mobile.utils.removeClass(s,bi);for(b365Mobile.utils.removeClass(e.selectionCol1Items[u],wi),f=1;f<=i;f++)s=e["selectionCol"+f+"Items"][u],b365Mobile.utils.removeClass(s,n),f==i&&b365Mobile.utils.addOrAppendClass(s,bi),r&&f==1&&b365Mobile.utils.addOrAppendClass(s,wi)}for(a=document.getElementsByClassName(vr),u=0,l=a.length;u<l;u++)a[u].setAttribute("colspan",i)}function wr(){for(var n,i,t=1;u[t]<=0;)t++;if(u[t-1]==0){for(n=t-1;n!=1;n--)u[n]=-1;u[t]=0;lt=at=0;u[1]=1;oi=t-1}else{t>1&&(u[t-1]=0);do t++;while(u[t]>0);for(i=t-1,n=t;u[n]==0;)u[n++]=-1;if(u[n]==-1)u[n]=u[i],at=u[i]-1,lt=n-1,oi=i-1,u[i]=-1;else{if(n==u[0])return 1;u[t]=u[n];at=u[n]-1;u[n]=0;lt=t-1;oi=n-1}}return 0}function br(n,t){var i;for(u=[],u[0]=t+1,i=1;i!=t-n+1;i++)u[i]=0;while(i!=t+1)u[i]=i+n-t,i++;u[t+1]=-2;n==0&&(u[1]=1)}function si(n,t){var u=n.length,i,r=[],f=[];if(n.length>=t){for(br(t,u),i=u-t;i!=u;i++)r.push(n[i]);for(f.push(r.slice());!wr();)r[at]=n[lt],f.push(r.slice())}return f}function kr(n){var t=n.target,i=window.b365Mobile.ItalianExotics.getClickMapKey(t.parentElement);window.b365Mobile.ItalianExotics.nextThreeClickMap[i]=t.getAttribute("data-elementid")}var a="ExoticsHeader",tr="ir-Exotics_HeaderItem",ir="ir-Exotics_HeaderItemSelected",hi="ExoticsHeader_Accoppiata",pt="ExoticsHeader_AccoppiataPiazzata",st="ExoticsHeader_AccoppiataLibera",ci="ExoticsHeader_Trifecta",li="ExoticsHeader_Quarte",ai="ExoticsHeader_Quinte",e="ExoticsSubHeader",vi="ir-Exotics_SubHeaderItem",rr="ir-Exotics_SubHeaderItemSelected",c="ExoticsSubHeader_NX",l="ExoticsSubHeader_P1",b="ExoticsSubHeader_P2",et="ExoticsSubHeader_P3",wt="ExoticsSubHeader_P4",v="ExoticsSubHeader_V1",d="ExoticsSubHeader_V2",ot="ExoticsSubHeader_V3",bt="ExoticsSubHeader_V4",kt="ExoticsSubHeader_T2",dt="ExoticsSubHeader_T3",gt="ExoticsSubHeader_T4",ni="ExoticsSubHeader_T5",ur="ir-Exotics_ColumnHeaderText",fr="ir-Exotics_Rows",er="ir-Exotics_SingleCol",or="ir-Exotics_DoubleCol",sr="ir-Exotics_TriCol",hr="ir-Exotics_QuadCol",cr="ir-Exotics_QuintCol",yi="ir-Exotics_Selection0",ht="ir-Exotics_Selection1",ti="ir-Exotics_Selection2",lr="ir-Exotics_Selection3",ar="ir-Exotics_Selection4",pi="ir-Exotics_Selection",wi="ir-Exotics_Selection-NX",bi="ir-Exotics_Selection-last",g="ir-Exotics_Selected",n="ir-Exotics_Hide",ki="ir-Exotics_AddToBetSlip",nt="ir-Exotics_NotInValidBet",vr="ir-Exotics_NonRunner",y="_",ct="F",ii="S",w,p,r=[],h=[],ri=!1,t="",ui="",tt,fi,it,rt,ei,ut,lt,oi,at,u=[];return o.prototype.init=function(n){var n=new CouponKey(n);this.isNextThreeRaces=n.c1Id===1&&n.c1IdTable===17;this.isNextThreeRaces?(this.hideExoticsAndMovimento(),this.nextThreeClickMap={},this.addNextThreeClickHandlers()):(this.selectMainHeaderItem(),this.selectSubHeaderItem());ui=n},o.prototype.couponRefresh=function(n){if(ui!=n){w=null;p=null;ui=n;var t=new CouponKey(n);this.isNextThreeRaces=t.c1Id===1&&t.c1IdTable===17}this.isNextThreeRaces?(this.hideExoticsAndMovimento(),this.addNextThreeClickHandlers(),this.nextThreeRefreshHandler()):(this.nextThreeClickMap={},this.selectMainHeaderItem(document.getElementById(w)),this.selectSubHeaderItem(document.getElementById(p)),yr(),pr(),gi())},o.prototype.hideExoticsAndMovimento=function(){for(var i=document.querySelectorAll(".ir-ExoticsContainer, .ir-MovimentoTotale_Container"),t=i.length-1;t>=0;t--)b365Mobile.utils.addOrAppendClass(i[t],n)},o.prototype.addNextThreeClickHandlers=function(){for(var r=document.getElementsByClassName("ir-MainPodHeader_MarketGroupSelectorBar"),i,t,n=0;n<r.length;n++)for(i=r[n].getElementsByClassName("ir-MainPodHeader_MarketGroup"),t=0;t<i.length;t++)i[t].addEventListener("click",kr)},o.prototype.nextThreeRefreshHandler=function(){for(var r=document.getElementsByClassName("ir-MainPodHeader_MarketGroupSelectorBar"),f,u,i,t,e,n=0;n<r.length;n++)if(f=this.getClickMapKey(r[n]),u=this.nextThreeClickMap[f],u)for(i=r[n].getElementsByClassName("ir-MainPodHeader_MarketGroup"),t=0;t<i.length;t++)e=i[t].getAttribute("data-elementid")===u,e&&b365Mobile.coupon.selectRacingMarketGroup(i[t])},o.prototype.getClickMapKey=function(n){for(var r=n.getElementsByClassName("ir-MainPodHeader_MarketGroup"),i="",t=0;t<r.length;t++)i=i+r[t].getAttribute("data-elementid");return i},o.prototype.selectMainHeaderItem=function(t,i){var u=document.getElementsByClassName(vi),r;for(w=di(a,ir,t,tr),r=0;r<u.length;r++)b365Mobile.utils.addOrAppendClass(u[r],n);switch(w){case hi:b365Mobile.utils.removeClass(document.getElementById(e),n);b365Mobile.utils.removeClass(document.getElementById(c),n);b365Mobile.utils.removeClass(document.getElementById(l),n);b365Mobile.utils.removeClass(document.getElementById(v),n);b365Mobile.utils.removeClass(document.getElementById(kt),n);yt();break;case pt:for(b365Mobile.utils.addOrAppendClass(document.getElementById(e),n),selectionCol2Items=document.getElementsByClassName(ht),selectionCol3Items=document.getElementsByClassName(ti),r=0;r<selectionCol2Items.length;r++)selectionCol2Items[r].innerHTML="1°",selectionCol3Items[r].innerHTML="2°";ri=!0;break;case st:for(b365Mobile.utils.removeClass(document.getElementById(e),n),b365Mobile.utils.removeClass(document.getElementById(c),n),b365Mobile.utils.removeClass(document.getElementById(l),n),selectionCol1Items=document.getElementsByClassName(yi),selectionCol2Items=document.getElementsByClassName(ht),r=0;r<selectionCol2Items.length;r++)selectionCol1Items[r].innerHTML="1°",selectionCol2Items[r].innerHTML="2°";break;case ci:b365Mobile.utils.removeClass(document.getElementById(e),n);b365Mobile.utils.removeClass(document.getElementById(c),n);b365Mobile.utils.removeClass(document.getElementById(l),n);b365Mobile.utils.removeClass(document.getElementById(b),n);b365Mobile.utils.removeClass(document.getElementById(v),n);b365Mobile.utils.removeClass(document.getElementById(d),n);b365Mobile.utils.removeClass(document.getElementById(dt),n);yt();break;case li:b365Mobile.utils.removeClass(document.getElementById(e),n);b365Mobile.utils.removeClass(document.getElementById(c),n);b365Mobile.utils.removeClass(document.getElementById(l),n);b365Mobile.utils.removeClass(document.getElementById(b),n);b365Mobile.utils.removeClass(document.getElementById(et),n);b365Mobile.utils.removeClass(document.getElementById(v),n);b365Mobile.utils.removeClass(document.getElementById(d),n);b365Mobile.utils.removeClass(document.getElementById(ot),n);b365Mobile.utils.removeClass(document.getElementById(gt),n);yt();break;case ai:b365Mobile.utils.removeClass(document.getElementById(e),n);b365Mobile.utils.removeClass(document.getElementById(c),n);b365Mobile.utils.removeClass(document.getElementById(l),n);b365Mobile.utils.removeClass(document.getElementById(b),n);b365Mobile.utils.removeClass(document.getElementById(et),n);b365Mobile.utils.removeClass(document.getElementById(wt),n);b365Mobile.utils.removeClass(document.getElementById(v),n);b365Mobile.utils.removeClass(document.getElementById(d),n);b365Mobile.utils.removeClass(document.getElementById(ot),n);b365Mobile.utils.removeClass(document.getElementById(bt),n);b365Mobile.utils.removeClass(document.getElementById(ni),n);yt()}window.b365Mobile.ScrollerSetup&&window.b365Mobile.ScrollerSetup.initialize(e,!1,"",!1);i&&this.selectSubHeaderItem(null,!0)},o.prototype.selectSubHeaderItem=function(n,t){var i,r;if(p=di(e,rr,n,vi),w!=pt)switch(p){case c:i=w==st?"In Disordine":"A Girare";s(i,1);break;case l:i=w==st?"In Disordine":"Con 1 Piazzato";s(i,2);break;case b:s("Con 2 Piazzato",2);break;case et:s("Con 3 Piazzato",2);break;case wt:s("Con 4 Piazzato",2);break;case v:s("Con 1 Vincente",2);break;case d:s("Con 2 Vincente",2);break;case ot:s("Con 3 Vincente",2);break;case bt:s("Con 4 Vincente",2);break;case kt:s("In Ordine",2);break;case dt:s("In Ordine",3);break;case gt:s("In Ordine",4);break;case ni:s("In Ordine",5)}else r='<div class="ir-Exotics_ColumnHeaderNX">NX<\/div><div class="ir-Exotics_ColumnHeaderP1">P1<\/div>',s(r,3,!0);t&&this.clearSelections()},o.prototype.selectionClicked=function(n){var u=n.id.split(y),f=r.indexOf(n.id),i,t,e;if(f>-1){if(u[0]==ct)for(i=document.getElementsByClassName(pi+u[1]),t=0;t<i.length;t++)b365Mobile.utils.removeClass(i[t],g),b365Mobile.utils.removeClass(i[t],nt),f=r.indexOf(i[t].id),r.splice(f,1);else for(b365Mobile.utils.removeClass(n,g),b365Mobile.utils.removeClass(n,nt),r.splice(f,1),t=0;t<r.length;t++)if(e=r[t].split(y),e[0]==ct&&e[1]==u[1]){b365Mobile.utils.removeClass(document.getElementById(r[t]),g);r.splice(t,1);break}}else if(u[0]==ct)for(i=document.getElementsByClassName(pi+u[1]),t=0;t<i.length;t++)r.indexOf(i[t].id)==-1&&(b365Mobile.utils.addOrAppendClass(i[t],g),r.push(i[t].id));else b365Mobile.utils.addOrAppendClass(n,g),r.push(n.id);gi()},o.prototype.saveCurrentSliderPositions=function(){Modernizr.v6scrolling?Modernizr.needsiscroll?(window.iscrollers&&window.iscrollers[a]&&(it=window.iscrollers[a].x),window.iscrollers&&window.iscrollers[e]&&(ut=window.iscrollers[e].x)):(tt=document.getElementById(a),tt&&(fi=tt.getElementsByClassName("scrollcontainer")[0],fi&&(it=fi.scrollLeft)),rt=document.getElementById(e),rt&&(ei=rt.getElementsByClassName("scrollcontainer")[0],ei&&(ut=ei.scrollLeft))):(it=$("#"+a).data("current-page"),ut=$("#"+e).data("current-page"))},o.prototype.getSelections=function(){for(var i=[],n=0,t=r.length;n<t;n++)r[n].split(y)[0]!=ct&&i.push(document.getElementById(r[n]));return i},o.prototype.clearSelections=function(){for(var t,n=0;n<r.length;n++)t=document.getElementById(r[n]),b365Mobile.utils.removeClass(t,g),b365Mobile.utils.removeClass(t,nt);r=[];document.getElementsByClassName(ki)[0].setAttribute("disabled","disabled")},o.prototype.getCastBetType=function(){return t},o}()