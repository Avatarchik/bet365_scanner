b365Mobile.ScorecastResults=function(){}();b365Mobile.ScorecastCoupon=function(){"use strict";var n,u=[],r,f,e,o,s,h,t,i,c=new CouponBetSelect;return s=function(n,t,i){u[n+"_"+t]=i;setTimeout(function(){$(".Scorecast").toggleClass("bogus")},0)},r=function(r,u){(h=$("#FirstCombo_"+r+"_"+u),h.children(":selected").attr("id")!=undefined)&&(t=$("#SecondCombo_"+r+"_"+u),i=t.children(":selected"),n=$("#odds_"+r+"_"+u),n.html(i.attr("data-od")),n.data("nav",i.attr("id")),n.attr("data-nav",i.attr("id")),n.parent().removeClass("hidden"),n.removeClass("Selected"),c.highlightSelectedBets())},e=function(n,i){var h;if(n===undefined){h=$("#"+i);h.addClass("hidden");return}var y="rs_"+n,c=n.split("_"),l=c[0],a=c[1],s=f(y),u,e,v;if(t=$("#SecondCombo_"+l+"_"+a),u=s.PO,u!=null){$("option",t).remove();for(e in u)v=o(u[e],s.F,s.P),$("<option />",{id:v,text:u[e].D}).attr("data-od",u[e].OD).appendTo(t);r(l,a)}},o=function(n,t,i){return"pt=S#o={0}#f={1}#so=0#c={2}#pid={3}#mid={4}#".format(n.FO,t,b365Mobile.hash.getCurrentClassificationId(),i,n.M)},f=function(n){for(var r=n.split("_"),f=r[1],e=r[2],i=u[f+"_"+e],t=0;t<i.length;t++)if(i[t].ID==n)return i[t];return null},{rebuildSecondCombo:function(n,t){e(n,t)},load:function(n,t,i){s(n,t,i)},setSelectedOdds:function(n,t){r(n,t)}}};b365Mobile.coupon=function(){var l,a,v,r,ft,y,o,p,w,b,k,d,g,et,s,nt,tt,it,t,u,n,h,rt,i=0,c,f,e,ut;refreshCouponState=function(){var i=$(".scrollNavButtonSelected.ToteTypeLink"),r=document.getElementsByClassName("cpn-Header_EnhancedTabs"),n,u,t;for(i.length>0&&s(i),n=0,u=r.length;n<u;n++)t=r[n].getElementsByClassName("scrollNavButtonSelected"),t.length>0&&b365Mobile.Racing.toggleEnhanced(t[0])};$(document).on("matchlivecouponrefresh",refreshCouponState);return l=function(n){var t,u=$(n),e=document.getElementsByClassName("scn-EnhancedMenuPopup_Show")[0],r,i,o,s;e&&(e.className=e.className.replace("scn-EnhancedMenuPopup_Show",""));r=document.getElementsByClassName("clw-SwitcherPopup_Show")[0];r&&(r.className=r.className.replace("clw-SwitcherPopup_Show",""));window.couponController.stop();siteViewController.isNarrowView?(b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0),window.setTimeout(function(){var n=$("#overlay");n.removeAttr("onclick");n.attr("data-nav","closeChangeMarketMenu");n.off("click").on("click",function(){window.processNav(event.target)})},100)):(i=document.getElementById("ccm-ChangeMarketMenu_Inner"),i&&(i.className=i.className+" ccm-ChangeMarketMenu_Tablet",o=document.getElementById("btnChangeMarket"),s=o.offsetLeft-12,i.style.marginLeft=s+"px"));t=u.eq(0).parentsUntil("#BettingTab","section");t.length>0?t.eq(0).hasClass("showChangeMarketMenu")?(t.eq(0).removeClass("showChangeMarketMenu"),revertChangeMarket(),couponController.start(),window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.show()):(t.eq(0).addClass("showChangeMarketMenu"),window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.hide()):(t=u.eq(0).parentsUntil(".enhancedPod"),t.length>0&&(t.eq(0).parent().parent().hasClass("showChangeMarketMenu")?(t.eq(0).parent().parent().removeClass("showChangeMarketMenu"),revertChangeMarket(),window.prematchHandlers&&window.prematchHandlers.addHandlers(),couponController.start(),window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.show()):(window.prematchHandlers&&window.prematchHandlers.removeHandlers(),t.eq(0).parent().parent().addClass("showChangeMarketMenu"),window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.hide())));k(u);f=window.currentSDK;c=f},v=function(n){var s,h,e,o=n.getAttribute("data-sportskey"),l=n.className,t=document.getElementById("ccm-ChangeMarketMenuLevel1_Clone"),u=document.getElementById("ccm-ChangeMarketMenu_AnimContainer"),f=document.getElementById("ccm-ChangeMarketMenuLevel1");f&&(i=n.getAttribute("data-menuLevel"),s=function(){var n=document.getElementById("ccm-ChangeMarketMenuLevel1");e=n.cloneNode(!0);t.appendChild(e);l+=" ccm-ChangeMarketMenu_ItemText-Spinner";i=="0"&&t.parentNode.insertBefore(t,f)},h=function(){l-=" ccm-ChangeMarketMenu_ItemText-Spinner";u.className+=i=="1"?" ccm-ChangeMarketMenu_AnimateLeft":" ccm-ChangeMarketMenu_AnimateRight";rt=!0;setTimeout(function(){rt=!1;t.removeChild(e);i=="0"?(t.parentNode.appendChild(t,f),u.className=u.className.replace(" ccm-ChangeMarketMenu_AnimateRight","")):u.className=u.className.replace(" ccm-ChangeMarketMenu_AnimateLeft","")},200)},ut=i=="1"?o:window.currentSDK,ajaxPost(s,h,f,r(o,"V6/Sport/Coupon/ChangeMarket.aspx"),0),c=o)},k=function(){var n=document.getElementById("ccm-ChangeMarketMenu_Inner"),i=90,r,u,f=550,t;n&&window.Modernizr.v6scrolling&&(n.className=n.className+" scrollable",u=n.getAttribute("data-menuType")=="2",u?(i=223,t=window.innerHeight-i,t>f&&(t=f),n.style.height=t+"px"):siteViewController.isWideView?n.style.maxHeight="550px":(r=Number(document.getElementById("Main").style.minHeight)-i,n.style.maxHeight=r+"px"))},a=function(){var n=$("#overlay");n.off("click");$(".showChangeMarketMenu").eq(0).removeClass("showChangeMarketMenu");b365Mobile.popUpOverlay.overlay(0);window.prematchHandlers&&window.prematchHandlers.addHandlers();window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.show();revertChangeMarket();couponController.start(!0)},revertChangeMarket=function(){if(c!=f||i==1){var n=document.getElementById("ccm-ChangeMarketMenuLevel1");n&&(i=0,ajaxPost(null,null,n,r(f,"V6/Sport/Coupon/ChangeMarket.aspx"),0))}},r=function(n,t){var r=new NavUrl;return r.baseUrl=t,r.key=n,r.LangID=sProps.LangID,r.ZoneID=sProps.ZoneID,r.lng=sProps.LangID,r.ct=sProps.sc.ct,r.ctg=sProps.sc.ctg,r.cts=sProps.sc.cts,r.mlvl=i,buildUrl(r)},y=function(n,t){var l=!1,u,f,e,s,r,c,a,v,y,i,h;if(typeof t!="undefined"&&(l=t),l===!0){if(n.parentNode.className.indexOf("enhancedPod")>-1)u=n.parentNode;else if(n.parentNode.parentNode.className.indexOf("enhancedPod")>-1)u=n.parentNode.parentNode;else return;s=u.getAttribute("data-sportskey");i=u.children[1];i.className.indexOf("preMatchStatsContainer")>-1&&(i=u.children[2]);r=document.getElementById("Coupon").getAttribute("data-sportskey");r||(r=document.getElementById("CpKey").value);u.className.indexOf(" collapsed")==-1?(e=!0,i&&(!i.children||i.children.length==0)&&o(i,s)):e=!1;b365Mobile.couponHistory.addItem(r,u.id,e)}else couponController.stop(),f=$(n).eq(0),i=$(".Lines",f),i.length==0&&(i=$(".collapsible-coupon-section",f)),s=$(n).eq(0).attr("data-sportskey"),s||(s=n.id),r=$("#Coupon").eq(0).attr("data-sportskey"),r||(r=document.getElementById("CpKey").value),v=new b365Mobile.SportsDataKey(r),v.classificationId==="2"&&(y=$(n).eq(0).attr("data-totetype")),h=f.attr("data-displaystate"),h===undefined||h==="open"||h.length===0?(f.attr("data-displaystate","closed"),e=!1,i.addClass("hidden")):(f.attr("data-displaystate","open"),e=!0,c=p(n),a=w(c),a===!0&&o(c,s,y),i.removeClass("hidden")),$(".cpnPodHeader",f).eq(0).toggleClass("bogus"),i.toggleClass("bogus"),b365Mobile.couponHistory.addItem(r,n.id,e),couponController.start(!0)},p=function(n){var i,t,r=null;return i=$(n).eq(0),t=i.find(".Lines"),t.length==0&&(t=$(".collapsible-coupon-section",i)),t.length>0&&(r=t[0]),r},w=function(n){var t,r,i=!0;return t=$(n).eq(0),r=t.text(),r=$.trim(r),r.length>0&&(i=!1),t.children().length>0&&(i=!1),t.find("ul").length>0&&t.find("ul").contents().filter(function(){return this.nodeType!==3}).length===0&&(i=!0),t.find("table").length>0&&t.find("table").contents().filter(function(){return this.nodeType!==3}).length===0&&(i=!0),i},o=function(n,t,i){var u=document.getElementById("CpKey").value,r;r=new NavUrl;r.ot=sProps.ot;r.lng=sProps.LangID;r.sc=sProps.scProps;r.baseUrl="V6/sport/coupon/partial/PartialDefault.aspx";couponController.stop();r.key=t;i!==undefined&&(r.item=i);ajaxPost(null,null,n.id,buildUrl(r),null,null,null,0,!0);couponController.start(!0)},b=function(n){var r="#tbl_"+n.getAttribute("data-key"),i=$(document.querySelectorAll(r)),t;t=$("#showMore",i);t.length<=0&&(t=$("#showMore",i.parent()));i.removeClass("Collapsed");t.hide();event.stopPropagation&&event.stopPropagation();event.cancelBubble=!0},d=function(){var n=document.getElementsByClassName("scn-HeaderNavigation")[0];if(n)return enhancedbreadcrumbScrollToEnd()},enhancedbreadcrumbScrollToEnd=function(){var i=document.getElementById("scn-HeaderNavigation_Breadcrumbs"),r=document.getElementById("Main"),n=document.getElementsByClassName("scn-HeaderNavigation_AudioButton")[0],u=document.getElementById("scn-HeaderNavigation_BreadcrumbBack"),f=document.getElementsByClassName("sb-SidebarModule")[0],t;t=document.getElementById("wrapper").className.indexOf("wideView")>-1?r.offsetWidth-u.offsetWidth-f.offsetWidth-(n?n.offsetWidth:0)-14:r.offsetWidth-u.offsetWidth-(n?n.offsetWidth:0)-14;i.style.width=t+"px";i.scrollLeft=t},g=function(n){var t=n.getAttribute("id");window.siteDataSession.setItem("sessionTabId",t);couponController.stop();gotoMarketTab(t);couponController.start(!0)},et=function(n){var t=new SportsDataKeyParser(n);return t.get_isInplay()},nt=function(i){var s,r,e,c,f,l,a,o;if(h){n.hide();t.removeClass("selected");u.append(n);r=$("#overlay");r.off("click");r.attr("data-nav","");b365Mobile.popUpOverlay.overlay(0);window.couponController.start(!0);t=null;u=null;n=null;h=!1;return}t=$(i);u=t.parent();n=$(".popup-body",u);window.couponController.stop();$(document.body).append(n);s=t.offset();e=n.outerWidth();c=t.outerWidth();f=s.left-(e-c)/2;l=f+e;a=$(document.body).outerWidth();l>a-5&&(o=l-a+5,f-=o,n.children(".nib:first").css("margin-left",e/2+o-6));f<5&&(o=5-f,f=5,n.children(".nib:first").css("margin-left",(e-c)/2-o+6));n.css({top:s.top+t.outerHeight(),left:f});t.addClass("selected");b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0);r=$("#overlay");r.removeAttr("onclick");r.attr("data-nav","TogglePopup");r.on("click",function(n){processNav(n.target)});n.show();r=null;h=!0},s=function(n){couponController.stop();var u=$(n),l=u.attr("data-plbtid"),a=u.attr("data-fixed-type")==="y",f=document.getElementById("CpKey"),v=u.attr("data-sports-key"),e=$('.section-lines-container[data-sports-key="'+v+'"]').hide().addClass("off"),o=e.filter('[data-plbtid="'+l+'"]').show().removeClass("off"),t=$('header[data-sports-key="'+v+'"]'),b=t.find(".ewText .placeCount").eq(0),k=o.find(".HorseInfo").length>0,d=o.find(".CouponRowRacing"),g=d.length,y=t.find(".couponSortWrapper"),h=$(".cpr-HorseInfoContainer"),p=h.length,i=0,c,s,r,w;for(i;i<p;i++)p>0&&!k&&g>0&&(c=o.find('div[data-sln="'+h[i].getAttribute("data-sln")+'"]'),c.length>0&&c[0].insertBefore(h[i],null));a?(y.addClass("showSortButton"),t.addClass("showEWTerms")):(y.removeClass("showSortButton"),t.removeClass("showEWTerms"));e.find(".tableHeader.WinPlace").addClass("off");e.find('.tableHeader[data-plbtid="'+l+'"]').removeClass("off");t.find(".ToteTypeLink").removeClass("scrollNavButtonSelected").toggleClass("scrollNavButton",!0);u.removeClass("scrollNavButton").addClass("scrollNavButtonSelected");b.toggleClass("on",!a);f!==null&&f!==undefined&&($("#CpNavigationSelector .scrollcontainer").children().length>1&&(s=$("#CpNavigationSelector .scrollcontainer .scrollNavButtonSelected").attr("data-nav"),s&&s.length>0&&(r=s.split(";"),r.length>1&&(w=r[1]),r.length>2&&(optionSportsKey=r[2]),b365Mobile.couponHistory.addItem(f.value,w+"/OPTION/"+optionSportsKey,!0))),e.each(function(){b365Mobile.couponHistory.addItem(f.value,$(this).attr("id"),o[0]===this)}));couponController.start(!0)},selectRacingMarketGroup=function(n){var f,t,i,r,u;b365Mobile.utils.hasClass(n,"mktGrpselected")||(f=n.parentElement,f)&&(u=document.getElementById("CpKey"),r=f.getElementsByClassName("mktGrpSelected"),r.length&&(r=r[0],b365Mobile.utils.removeClass(r,"mktGrpSelected"),t=r.getAttribute("data-elementId"),t&&(i=document.getElementById(t),i&&b365Mobile.utils.removeClass(i,"mktGrpSelected"),u&&b365Mobile.couponHistory.removeItem(u.value,t,!0))),b365Mobile.utils.addOrAppendClass(n,"mktGrpSelected"),t=n.getAttribute("data-elementId"),t&&(i=document.getElementById(t),i&&b365Mobile.utils.addOrAppendClass(i,"mktGrpSelected"),u&&b365Mobile.couponHistory.addItem(u.value,t,!0)))},tt=function(n){var i,r,u,f,e,o,s,h,c,t,l,a,v;b365Mobile.account.isUserLoggedIn()?(i=n.getAttribute("data-email"),r=n.getAttribute("data-subject"),u=n.getAttribute("data-username"),f=n.getAttribute("data-event"),e=n.getAttribute("data-market"),o=n.getAttribute("data-market-value"),s=n.getAttribute("data-selection"),h=n.getAttribute("data-bet-type"),c=n.getAttribute("data-other"),t=buildEventText(),t=t.replace(/ *\r| +(?= )| *\n/g,""),t=t.replace(/\//g,"-"),t=t.replace(/^\s+/,""),l=u+": "+sProps.user.userName+"\n\n"+f+": "+t+"\n\n"+e+": "+o+"\n\n"+s+"\n\n"+h+"\n\n"+c+"\n\n"+window.location.href,a=encodeURIComponent(r),v=encodeURIComponent(l),window.location.href="mailto:"+i+"?subject="+a+"&body="+v):b365Mobile.account.logInPopUp(b365Mobile.account.loginMessage.OTHERS_ON_REQUEST)},toggleMeetingSwitcher=function(){var n=document.getElementById("ir-ItalianMeetingPopup"),t=window.currentSDK,i;n&&(n.className.indexOf("ir-ItalianMeetingPopup_Show")>-1?(n.className=n.className.replace("ir-ItalianMeetingPopup_Show",""),b365Mobile.popUpOverlay.overlay(!1)):(t=window.currentSDK,t==e&&n.children.length>0?n.className="ir-ItalianMeetingPopup_Show":(ajaxAfter=function(){if(n.className="ir-ItalianMeetingPopup_Show",siteViewController.isNarrowView){b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0);i=$("#overlay");i.removeAttr("onclick");i.off("click").on("click",function(){return n.className=n.className.replace("ir-ItalianMeetingPopup_Show",""),b365Mobile.popUpOverlay.overlay(!1),!1});n.addEventListener("click",t);function t(){n.className=n.className.replace("ir-ItalianMeetingPopup_Show","");n.removeEventListener("click",t)}}},e=t,ajaxPost(null,ajaxAfter,n,r(t,"V6/Sport/Coupon/Racing/Italian/ItalianMeetingMenu.aspx"),0))))},buildEventText=function(){var i=document.getElementById("scn-HeaderNavigation_Breadcrumbs"),n,t;if(i){for(n="",t=0;t<i.children.length;t++)n=n+i.children[t].innerHTML;return n}return""},it=function(){var u,t,n=document.getElementById("clw-SwitcherPopup"),f=document.getElementById("clw-SwitcherPopup_Menu"),o=document.getElementById("clw-SwitcherPopup_Inner"),i,s=539,h=179;n&&(n.className.indexOf(" clw-SwitcherPopup_Show")>-1?(n.className=n.className.replace(" clw-SwitcherPopup_Show",""),b365Mobile.popUpOverlay.overlay(!1)):(t=window.currentSDK,t==e&&f.children.length>0?n.className=n.className+" clw-SwitcherPopup_Show":(u=function(){if(n.className=n.className+" clw-SwitcherPopup_Show",siteViewController.isNarrowView){b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0);i=$("#overlay");i.removeAttr("onclick");i.off("click").on("click",function(){return n.className=n.className.replace(" clw-SwitcherPopup_Show",""),b365Mobile.popUpOverlay.overlay(!1),!1})}var t=window.innerHeight-h;t>s&&(t=s);o.clientHeight>t&&(o.style.maxHeight=t+"px")},ajaxPost(null,u,f,r(t,"V6/Sport/Coupon/SwitcherDropDown/SwitcherMenu.aspx"),0),e=t)))},{toggleChangeMarketMenu:function(n){l(n)},closeChangeMarketMenu:function(n){a(n)},openChangeMarketMenuLevel:function(n){v(n)},toggleSection:function(n,t){y(n,t)},showMoreLines:function(n){b(n)},setBreadcrumbScroller:function(){d()},processCouponTabs:function(n){g(n)},toggleWinPlace:function(n){s(n)},toggleMenu:function(n){nt(n)},refreshCouponState:function(){refreshCouponState()},selectRacingMarketGroup:function(n){selectRacingMarketGroup(n)},toggleOthersOnRequest:function(n){tt(n)},toggleMeetingSwitcher:function(n){toggleMeetingSwitcher(n)},getEnhancedMenuUrl:function(n){r(n)},revertChangeMarket:function(){ft()},addKnockoutTree:function(){addKnockoutTree()},toggleSwitcher:function(n){it(n)}}}(window);var b365Mobile=window.b365Mobile||{};b365Mobile.NavScroller=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){this._parentElementSelector=n;this._childElementSelector=t;this._scrollerType=i;r&&(this._orientationChangedCallBack=r);u&&(this._overrideElementHeight=u);f&&(this._nthChildClass=f);e&&(this._additionalHeight=e);o&&(this._leftArrowElementSelector=o);s&&(this._rightArrowElementSelector=s);h&&(this._isIOS=h,c&&(this._useIOSFiveClass=c));typeof l!="undefined"&&l!==null&&(this._applyElementWidth=l);typeof a!="undefined"&&a!==null&&(this._disposeCssElements=a);v&&(this._wrappedElementsSelector=v);typeof y!="undefined"&&y!==null&&(this._applyElementRelative=y);typeof p!="undefined"&&p!==null&&(this.optionalSelectedElementLookupCssClass=p);this._applyScroller()}var o="width: {width}px; height: {height}px; display: inline-block; position: relative;",f="height: {height}px",i="-webkit-transform: translate({transform}, 0);-o-transform: translate({transform}, 0);-moz-transform: translate({transform}, 0);-ms-transform: translate({transform}, 0);transform: translate({transform}, 0);width:{width}px;",e="iosFive",s="iosNotFive",h="cssScroll",c="cssArrowScroll",r="navScroller",t="disabled",u="enhancedTabSelected";return n.prototype._containerId="navScroller",n.prototype._parentElementSelector=null,n.prototype._childElementSelector=null,n.prototype._scrollerType=1,n.prototype._overrideElementHeight=null,n.prototype._reApplying=!1,n.prototype._orientationChangedCallBack=null,n.prototype._currentOffset=0,n.prototype._disposeCssElements=!0,n.prototype._wrappedElementsSelector=null,n.prototype.optionalSelectedElementLookupCssClass=null,n.prototype._iScroller=null,n.prototype._leftArrowElementSelector=null,n.prototype._rightArrowElementSelector=null,n.prototype._leftArrowHandler=null,n.prototype._rightArrowHandler=null,n.prototype._arrowScrollWidth=null,n.prototype._arrowTransitionWidth=null,n.prototype._arrowTransition=null,n.prototype._additionalHeight=null,n.prototype._isIOS=!1,n.prototype._useIOSFiveClass=!1,n.prototype._nthChildClass=null,n.prototype._applyElementWidth=!0,n.prototype._applyElementRelative=!0,n.prototype._scrollerTypes={arrowScrolling:1,cssScrolling:2,iScrollScrolling:3},n.prototype._applyScroller=function(){var i,n=!1,t;this._containerId="ns_"+(new Date).getTime();switch(this._scrollerType){case this._scrollerTypes.arrowScrolling:this._addArrowScroller();n=!0;break;case this._scrollerTypes.cssScrolling:this._addCSSScroller();n=!0;break;case this._scrollerTypes.iScrollScrolling:this._addiScroller();n=!0;break;case this._scrollerTypes.pagedScrolling:this._addPagedScroller();break;case this._scrollerTypes.arrowPagedScrolling:this._addArrowPagedScroller()}n&&(t=document.getElementById(this._containerId),t&&(this._oldContainerId&&(i=document.getElementById(this._oldContainerId))&&t.parentElement.id===i.id&&(i=null,$(t).unwrap()),this._oldContainerId=this._containerId));$(window).off("orientationchange.navScroller"+this._containerId+" resize.navScroller"+this._containerId).on("orientationchange.navScroller"+this._containerId+" resize.navScroller"+this._containerId,$.proxy(this._orientationChangeHandler,this))},n.prototype._orientationChangeHandler=function(){var n=this;n._reApplying||(n._reApplying=!0,window.setTimeout(function(){n.dispose();n._currentOffset=null;n._orientationChangedCallBack&&n._orientationChangedCallBack.call();n._applyScroller();n._reApplying=!1},300))},n.prototype._replaceAll=function(n,t,i){return i.replace(new RegExp(n,"g"),t)},n.prototype._addiScroller=function(){var n,c,i,a,o,v,s=0,t,y,l,h;if(n=$(this._parentElementSelector),n.length>0&&($childElements=n.find(this._childElementSelector),$childElements.length>0)){for(v=n.width(),a=n.height(),o=0,l=!1,h=!1,t=0,y=$childElements.length;t<y;t++)if($childElements[t].className.indexOf(this.optionalSelectedElementLookupCssClass||u)!==-1&&(s=o*-1,l=!0),o+=$($childElements[t]).outerWidth(!0),o>v&&(h=!0),h&&l)break;h&&(n[0].setAttribute("style","width:auto"),c=r,this._isIOS&&(c+=this._useIOSFiveClass?" "+e:""),i=f,i=i.replace("{height}",a),n.wrapAll('<div id="'+this._containerId+'" class="'+c+'" style="'+i+'" />'),this._iScroller=new IScroll("#"+this._containerId,{scrollX:!0,scrollY:!1,eventPassthrough:!0}),s<this._iScroller.maxScrollX&&(s=this._iScroller.maxScrollX),this.setCurrentOffset(s))}},n.prototype._addCSSScroller=function(){var c,w,i,a,l,n,v,y=0,p,b=0,k=0,t,d;if(c=$(this._parentElementSelector),c.length>0&&(i=c.find(this._childElementSelector),i.length>0)){for(t=0,d=i.length;t<d;t++)v=$(i[t]).outerHeight(),v>y&&(y=v),t>0&&this._nthChildClass!==null&&$(i[t]).addClass(this._nthChildClass),p=$(i[t]).outerWidth(),i[t].className.indexOf(u)!=-1&&(k=b),b+=p,n=o,n=this._applyElementWidth?n.replace("{width}",p):n.replace("width: {width}px",""),this._applyElementRelative||(n=n.replace(" position: relative;","")),n=this._overrideElementHeight?n.replace("{height}",this._overrideElementHeight):n.replace("{height}",v),n+=t==0?"float:left;":"float:none;",$(i[t]).attr("style",n);a=r;a+=" "+h;this._isIOS&&(a+=this._useIOSFiveClass?" "+e:" "+s);l=f;l=this._additionalHeight!==null?l.replace("{height}",y+this._additionalHeight):l.replace("{height}",y);w=this._wrappedElementsSelector?c.find(this._wrappedElementsSelector):i;w.wrapAll('<div id="'+this._containerId+'" class="'+a+'" style="'+l+'" />');c[0].children[0].scrollLeft=k}},n.prototype._addArrowScroller=function(){var e,n,a,s,h,l,p,f,v=0,o,y;if(e=$(this._parentElementSelector),e.length>0&&(n=e.find(this._childElementSelector),n.length>0)){for(l=0,o=0,y=n.length;o<y;o++)n[o].className.indexOf(u)!=-1&&(v=l),l+=$(n[o]).outerWidth(!0);this._arrowTransitionWidth=$(n[0]).outerWidth(!0);p=e.width();n.attr("style","display: inline-block; float: none;");this._arrowScrollWidth=Math.ceil(l);this._arrowTransition=v*-1;f=i;f=f.replace("{width}",this._arrowScrollWidth);f=this._replaceAll("{transform}",this._arrowTransition.toString()+"px",f);containerClass=r+" "+c;a=this._wrappedElementsSelector?e.find(this._wrappedElementsSelector):n;a.wrapAll('<div id="'+this._containerId+'" class="'+containerClass+'" style="'+f+'" />');s=$(this._leftArrowElementSelector);s.length>0&&(this._arrowTransition==0&&s.addClass(t),this._leftArrowHandler=$.proxy(this._leftArrowClick,this),s[0].addEventListener("click",this._leftArrowHandler));h=$(this._rightArrowElementSelector);h.length>0&&(this._arrowTransition*-1>this._arrowScrollWidth-this._arrowTransitionWidth*1.25&&h.addClass(t),this._rightArrowHandler=$.proxy(this._rightArrowClick,this),h[0].addEventListener("click",this._rightArrowHandler))}},n.prototype._leftArrowClick=function(n){var e=$("#"+this._containerId),u,f,r;n.stopPropagation();n.preventDefault();f=$(this._rightArrowElementSelector);u=$(this._leftArrowElementSelector);u.hasClass(t)||(this._arrowTransition+=this._arrowTransitionWidth,this._arrowTransition>0&&(this._arrowTransition=0),r=i,r=r.replace("{width}",this._arrowScrollWidth),this._arrowTransition!==0?(f.removeClass(t),r=this._replaceAll("{transform}",this._arrowTransition.toString()+"px",r)):(u.addClass(t),r=this._replaceAll("{transform}","0",r)),e[0].setAttribute("style",r))},n.prototype._rightArrowClick=function(n){var e=$("#"+this._containerId),f,u,r;n.stopPropagation();n.preventDefault();u=$(this._rightArrowElementSelector);f=$(this._leftArrowElementSelector);u.hasClass(t)||(this._arrowTransition-=this._arrowTransitionWidth,r=i,r=r.replace("{width}",this._arrowScrollWidth),this._arrowTransition*-1>this._arrowScrollWidth-this._arrowTransitionWidth*1.25?(u.addClass(t),r=this._replaceAll("{transform}",this._arrowTransition.toString()+"px",r)):(f.removeClass(t),r=this._replaceAll("{transform}",this._arrowTransition.toString()+"px",r)),e[0].setAttribute("style",r))},n.prototype._resetArrowPosition=function(n){var e=$("#"+this._containerId),f,u,r;u=$(this._rightArrowElementSelector);f=$(this._leftArrowElementSelector);this._arrowTransition=n;r=i;r=r.replace("{width}",this._arrowScrollWidth);this._arrowTransition==0?(u.removeClass(t),f.addClass(t)):this._arrowTransition!==0&&(f.removeClass(t),u.removeClass(t),this._arrowTransition*-1>this._arrowScrollWidth-this._arrowTransitionWidth*1.25&&u.addClass(t));r=this._replaceAll("{transform}",this._arrowTransition.toString()+"px",r);e[0].setAttribute("style",r)},n.prototype.dispose=function(){var n,i;switch(this._scrollerType){case this._scrollerTypes.arrowScrolling:n=$(this._parentElementSelector);n.length>0&&(i=n.find(this._childElementSelector),this._arrowTransitionWidth=null,this._arrowScrollWidth=null,this._arrowTransition=null,$leftArrowElement=$(this._leftArrowElementSelector),$leftArrowElement.length>0&&(leftArrowWidth=$leftArrowElement.width(),$leftArrowElement.removeClass(t),this._leftArrowHandler!=null&&($leftArrowElement[0].removeEventListener("click",this._leftArrowHandler),this._leftArrowHandler=null)),$rightArrowElement=$(this._rightArrowElementSelector),$rightArrowElement.length>0&&(rightArrowWidth=$rightArrowElement.width(),$rightArrowElement.removeClass(t),this._rightArrowHandler!=null&&($rightArrowElement[0].removeEventListener("click",this._rightArrowHandler),this._rightArrowHandler=null)),this._disposeCssElements&&leftArrowWidth&&rightArrowWidth&&(parentWidth=n.parent().width(),parentWidth-=leftArrowWidth+rightArrowWidth+15,n.width(parentWidth)));break;case this._scrollerTypes.cssScrolling:n=$(this._parentElementSelector);this._disposeCssElements&&n.length>0&&(i=n.find(this._childElementSelector));break;case this._scrollerTypes.iScrollScrolling:this._iScroller!==null&&(n=$(this._parentElementSelector),n.length>0&&(this._iScroller.destroy(),this._iScroller=null,$(document).off("touchmove.navScroller"),this._disposeCssElements&&n.unwrap()))}$(window).off("orientationchange.navScroller"+this._containerId+" resize.navScroller"+this._containerId);this._containerId=null},n.prototype.recordCurrentOffset=function(){switch(this._scrollerType){case this._scrollerTypes.arrowScrolling:this._currentOffset=this._arrowTransition;break;case this._scrollerTypes.cssScrolling:this._currentOffset=$("#"+this._containerId).scrollLeft();break;case this._scrollerTypes.iScrollScrolling:this._iScroller&&(this._currentOffset=this._iScroller.x)}},n.prototype.getCurrentOffset=function(){return this._currentOffset},n.prototype.setCurrentOffset=function(n){switch(this._scrollerType){case this._scrollerTypes.arrowScrolling:this._resetArrowPosition(n);break;case this._scrollerTypes.cssScrolling:$("#"+this._containerId).scrollLeft(n);break;case this._scrollerTypes.iScrollScrolling:this._iScroller.scrollTo(n,0)}},n}()