function resumeLoading(){var n,t,r;if(window.sProps.geoLocCode&&siteDataLocal.setItem("geoLocCode",window.sProps.geoLocCode),"serviceWorker"in navigator&&window.manifest.manifest){for(i=0,il=window.manifest.manifest.items.add.length;i<il;i++)window.manifest.manifest.items.add[i]["@key"]=="site"&&(n=window.manifest.manifest.items.add[i].serviceworker["@version"]);navigator.serviceWorker.register("service-worker"+(n?"."+n:"")+".js",{scope:"./"});navigator.serviceWorker.ready.then(function(n){var t=new MessageChannel;n.active.postMessage({command:"updateLanguage",langID:window.sProps.LangID},[t.port2])})}window.siteViewController=new b365Mobile.SiteViewController;siteViewController.setView();window.siteViewController.init();window.mobileBusinessRules.notWideViewDevice()&&(window.ns_gen5_ui.Application.viewWidthThreshold=1300);t=new window.ns_gen5_ui.Application(document.getElementById("Main"));t.initialize();window.sportsUIController=new SportsUIController(document.getElementById("Main"),sProps);window.sportsUIController.connect();window.podController||(window.podController=new PodController);r=new Hash(window.location.hash);(r.Type=="Home"||window.location.hash.length===0)&&initialiseInstantGamesController();window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.siteLoadStyles]);window.podController.ShowWideHeaderPod(document.getElementById("WideHeaderContainer"),"HeaderData");window.podController.ShowHeaderPod(document.getElementById("HeaderContainer"),"HeaderData");canPreload()&&b365.homePageContentLoader.getDataIfReady(function(n){n&&(LoadPushHomepagePods(),window.homePageProcessed=!0)});b365Mobile.alternativeAuth=new b365Mobile.AlternativeAuth;LoadAdditionalPushPods();loadSite()}function canPreload(){var n=window.location.hash,t=new Hash(n),i=siteDataSession.getItem("kycOrSecondAuthPrevPage").replace(/\|/g,";"),r=n.length<1&&siteViewController.isInitialViewNarrow&&i!=="";return!r&&(n.length==0||t.Type=="Home")?!0:!1}function setOnHashChangeHandler(){window.onhashchange=function(){suppress_hashchange||setPage()}}function updateHash(n,t){t===!0&&(suppress_hashchange=!0,setTimeout(function(){suppress_hashchange=!1},600));window.location.hash=n}function storeHash(){var n=window.document.getElementById("Hash").value.replace(/;/g,"|"),t,i,r="";n.length>0&&(siteDataSession.setItem("previousPage",n),t=n.indexOf("|key="),t>0&&(t+=5,i=n.indexOf("|",t),i>0&&(r=n.substring(t,i))));siteDataSession.setItem("previousKey",r);window.document.getElementById("Hash").value=window.location.hash;hashHistory&&hashHistory.push(new Date+" : "+window.location.hash);window.location.hash.indexOf("/AX/")===-1&&window.location.hash.indexOf("Members")===-1&&ns_moblib_util.LocalStorage.Add("siteSearchLastHash",window.location.hash.substr(1))}function retrieveHash(){return cleanStoredHash(siteDataSession.getItem("previousPage"))}function cleanStoredHash(n){return n.replace(/\||~/g,";")}function Hash(n){n=cleanStoredHash(n);var t=n.replace("#","").split(";"),r=t.length;for(i=0;i<r;i++){t[i]=t[i].split("=");switch(t[i][0]){case"type":this.Type=t[i][1];break;case"key":this.Key=t[i][1];break;case"ip":this.InPlay=t[i][1];break;case"lng":this.LangID=t[i][1];break;case"zn":this.ZoneID=t[i][1];break;case"anim":this.animType=t[i][1];break;case"t":this.diaryDay=t[i][1];break;case"sst":this.splashTab=t[i][1];break;case"ali":this.autoLogin=t[i][1]}}}function buildHashString(n,t,i,r,u){var f="type="+n+";key="+t+";ip="+i+";lng="+r;return u&&(f=f+";anim="+u),f}function setPageAnimationAndRequestVerb(n){var t="";switch(n.Type){case"Splash2":n.Type="Splash";t=2;break;case"Sport2":n.Type="Sport";t=2;break;case"CouponRow":n.Type="Coupon";t=2;break;case"MarketCount":n.Type="Coupon";t=1;break;case"BetSlip":t=1;break;case"Offer":t=2;break;default:t=1}n.animType&&(t=n.animType);newPageLoad(n.Type,n.Key,n.InPlay,n.LangID,t)}function newPage(n,t,i,r,u){if(setOnHashChangeHandler(),window.editBetController&&window.editBetController.addSelectionsEnabled===!0&&!window.editBetController.skipNavCheck&&!window.editBetController.isWhiteListedNav(n,t))if(n==="MyBets"){if(!window.editBetController.isSavingOrClosing()){window.editBetController.editBetSaveSelectionsOrClose();return}}else{callback=function(){newPage(n,t,i,r,u)};window.editBetController.showNavMessage(callback);return}i=validateInPlayParameter(i);var f=buildHashString(n,t,i,r,u);storeHash();pageType=n;window.location.hash!="#"+f?window.location.hash=f:setPageAnimationAndRequestVerb(new Hash(f))}function sportsUINewPage(n,t,i,r,u){n||t||(n="Home");siteDataSession.setItem("previousKey","");newPageLoad(n,t,i,r,u)}function validateInPlayParameter(n){var i=!1,t="";return n&&(t=n.toString().toLowerCase(),i=t=="true"||t=="1"),Number(i)}function NavUrl(){this.baseUrl="";this.key="";this.item="";this.ip="";this.gn="";this.sct="";this.cid="";this.lng="";this.height="";this.width="";this.sort="";this.sc="";this.apptype="";this.appversion="";this.clt="";this.iscode="";this.rr=!1;this.rs=0;this.curcode="";this.sem="";this.tid="";this.pm="";this.sst="";this.dt="";this.ctry="";this.mlvl="";this.tmid=""}function buildUrl(n){var i,t;document.CouponRequests=0;var r="zone="+sProps.ZoneID+"&isocode="+sProps.ISOCode+"&tzi="+sProps.tzi,u=siteDataSession.getItem("previousKey"),f=b365Mobile.navigation.getBreadCrumbLevel2Key();for(i in n)n.hasOwnProperty(i)&&(t=n[i],i!="baseUrl"&&t&&t.length>0&&(r+="&"+(t.indexOf("=")>-1?t:i+"="+t)));return n.baseUrl.indexOf("?")==-1?n.baseUrl+"?"+r:n.baseUrl+"&"+r}function newLoginPage(){newPage("Login","",!1,sProps.LangID,"")}function newPageBetslip(){window.bsApp.refreshSlip();bsApp.bsAppContext.quickBetController.onStart();newPage("BetSlip","",!1,sProps.LangID)}function clickScorecast(n,t){newPage("Scorecast",t+":"+n,"",sProps.LangID)}function tryParseInt(n){var t=0;return n&&n.length>0&&!isNaN(n)&&(t=parseInt(n)),t}function tryParseBoolean(n){var t=!1,i=this.tryParseInt(n);return i==1&&(t=!0),t}function SportsDataKeyParser(n){if(this._fieldIndex_classificationId=0,this._fieldIndex_c1id=1,this._fieldIndex_inPlay=7,this._fieldIndex_pageTemplateId=11,this._isValid=!1,this._classificationId=0,this._pageTemplateId=0,this._inPlayValue=0,this._isVirtualRace=!1,!b365Mobile.utils.IsNullOrEmpty(n)){var i,t;i=n.indexOf("--")>=0;i&&(n=n.replace(/--/g,"-~"));t=n.split("-");t.length>this._fieldIndex_classificationId&&(this._isValid=!0,this._classificationId=t[this._fieldIndex_classificationId]);this._isValid&&(t.length>this._fieldIndex_inPlay&&(this._inPlayValue=Number(t[this._fieldIndex_inPlay])),t.length>this._fieldIndex_pageTemplateId&&(this._pageTemplateId=t[this._fieldIndex_pageTemplateId]),t.length>this._fieldIndex_c1id&&(this._isVirtualRace=t[this._fieldIndex_c1id]==105))}this.get_isValid=function(){return this._isValid};this.get_classificationId=function(){return this._classificationId};this.get_pageTemplateId=function(){return this._pageTemplateId};this.get_isInplay=function(){return this._inPlayValue===1};this.get_isResults=function(){return this._inPlayValue===3};this.get_inplayValue=function(){return this._inPlayValue};this.get_isVirtualRace=function(){return this._isVirtualRace}}function CouponKey(n){var i,t;if(this.classification=0,this.c1Id=0,this.c1IdTable=0,this.c2Id=0,this.c2IdTable=0,this.c3Id=0,this.c3IdTable=0,this.inplay=!1,this.marketGroupId=0,this.plbtId=0,this.pageTemplateId=0,this.fixture=0,this.sectionId=0,n&&(n=n.replace(/--/g,"-~"),t=n.split("-"),t&&t.length>17)){for(i=0;i<t.length;i+=1)t[i]=t[i].replace("~","-");this.classification=tryParseInt(t[0]);this.c1Id=tryParseInt(t[1]);this.c1IdTable=tryParseInt(t[2]);this.c2Id=tryParseInt(t[3]);this.c2IdTable=tryParseInt(t[4]);this.c3Id=tryParseInt(t[5]);this.c3IdTable=tryParseInt(t[6]);this.inplay=tryParseBoolean(t[7]);this.marketGroupId=tryParseInt(t[9]);this.plbtId=tryParseInt(t[10]);this.pageTemplateId=tryParseInt(t[11]);this.fixture=tryParseInt(t[13]);this.sectionId=tryParseInt(t[14]);this.IsTelebet=tryParseInt(t[15]);this.Next24Hrs=tryParseInt(t[16]);this.SpecialEventId=tryParseInt(t[17]);this.IsVirtualSport=tryParseInt(t[18]);this.NextMatches=tryParseInt(t[19]);this.MarketId=tryParseInt(t[20]);this.tabId=tryParseInt(t[21]);this.teamId=tryParseInt(t[22])}}function clientViewport(){var n=window,t=document,i=t.documentElement,r=t.getElementsByTagName("body")[0],f=n.innerWidth||i.clientWidth||r.clientWidth,u=n.innerHeight||i.clientHeight||r.clientHeight;return window.device&&window.device.isFirefox&&(u=n.innerHeight),{width:f,height:u}}function checkScrollPanel(){$(document.documentElement).hasClass("sports-ui")?setTimeout("b365Mobile.footer.clearStyles();",25):setTimeout("b365Mobile.footer.setFooter()",25)}function scrollToTop(){var n=device.isAndroid?1:0;window.siteViewController.isNavNarrowView||window.mobileBusinessRules.notWideViewDevice()?window.scrollTo(0,n):document.getElementById("Site").scrollTop=0}function ajaxPost(n,t,i,r,u,f,e){var o=typeof i=="object"?i:document.getElementById(i);typeof u=="undefined"&&(u=1);typeof sportsUIController!="undefined"&&sportsUIController.target===o&&sportsUIController.disposingView();disposeMyBets();u===1&&o&&(typeof sportsUIController!="undefined"&&sportsUIController.disposeView(),o.innerHTML="");n&&n.apply();$.ajax({headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache",Pragma:"no-cache"},type:"POST",url:r,data:f,cache:!1}).done(function(n,i,r){var u,f=null,s;u=checkScriptHeaders(r);u!==""?window.location.href=u:r.getResponseHeader("X-b365-Location")&&(window.location.href=r.getResponseHeader("X-b365-Location"));r.getResponseHeader("X-b365-AppStatus")&&(s=r.getResponseHeader("X-b365-AppStatus").split(","),f=s[s.length-1].trim(),onAjaxResponse(f));IsAjaxStatusLoggedIn(f)&&(!e||e(r))&&o&&(typeof sportsUIController!="undefined"&&sportsUIController.target===o&&sportsUIController.disposeView(),o.innerHTML=n,evalScripts(o));t&&t.apply();bsApp.updateBetslipBar(bsApp.betCount)}).fail(function(){Overlay(0,0,undefined,undefined,!0);findOverlayPopupElement()&&b365Mobile.utils.RemoveElement(OVERLAYPOP_ELEMENT_ID)})}function ajaxGet(n,t,i,r,u,f,e){var o;window.preloadLoaded||window.setTimeout(function(){window.b365Mobile.utils.preLoadLoaded()},200);o=typeof i=="object"?i:document.getElementById(i);typeof u=="undefined"&&(u=1);typeof sportsUIController!="undefined"&&sportsUIController.target===o&&sportsUIController.disposingView();u===1&&o&&(typeof sportsUIController!="undefined"&&sportsUIController.target===o&&sportsUIController.disposeView(),o.innerHTML="");disposeMyBets();n&&n.apply();var h=r.indexOf("clt=")>-1||r.toLowerCase().indexOf("cache")>-1,c=!h||device&&device.ajaxCacheBreakRequired,s={headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"GET",url:r};c&&(s.cache=!1);$.ajax(s).done(function(n,i,r){var u,f=null,s;u=checkScriptHeaders(r);u!==""?window.location.href=u:r.getResponseHeader("X-b365-Location")&&(window.location.href=r.getResponseHeader("X-b365-Location"));r.getResponseHeader("X-b365-AppStatus")&&(s=r.getResponseHeader("X-b365-AppStatus").split(","),f=s[s.length-1].trim(),onAjaxResponse(f));IsAjaxStatusLoggedIn(f)&&(!e||e(r)!==!1)&&(o&&(typeof sportsUIController!="undefined"&&sportsUIController.target===o&&sportsUIController.disposeView(),ns_gen5_ui.Application.currentApplication.width<950&&ns_moblib_util_managers.LayoutManager.HideNavigation(),o.innerHTML=n,evalScripts(o)),t&&t.apply());b365Mobile.hash.getCurrentClassificationId()!==6&&bsApp.updateBetslipBar(bsApp.betCount)}).fail(function(){Overlay(0,0,undefined,undefined,!0);findOverlayPopupElement()&&b365Mobile.utils.RemoveElement(OVERLAYPOP_ELEMENT_ID)}).always(function(n,t,i){f&&f(t==="success"?!0:!1);t==="success"?setTimeout(function(){CheckSessionInactivity(i)},1e3):setTimeout(function(){CheckSessionInactivity(n)},1e3)})}function GetResponseStatus(n){var t=null,i,r;return n&&$.isFunction(n.getResponseHeader)&&(i=n.getResponseHeader("X-b365-AppStatus"),i&&(r=i.split(","),t=r[r.length-1],t=t.trim())),t}function IsAjaxStatusLoggedIn(n){return n!="notloggedin"}function evalScripts(n){var t=[],r=[],i;$("script",n).each(function(n,i){i.type!=="text/b365data"&&(i.src?t.push(i.src):r.push(i.text||i.textContent||i.innerHTML||""),i.parentNode&&i.parentNode.removeChild(i))});i=function(){$.each(r,function(n,t){evalScript(t)})};t.length>0?window.LazyLoad.js(t,function(){i()}):i()}function evalScript(n){var t=document.head||document.getElementsByTagName("head")[0],i;$("script",t).each(function(t,i){i&&i.innerHTML.replace(/[\r]/g,"")==n.replace(/[\r]/g,"")&&$(i).remove()});i=document.createElement("script");i.type="text/javascript";i.appendChild(document.createTextNode(n));t.appendChild(i,t.firstChild);t=null}function CheckSessionInactivity(n){n.getResponseHeader("X-b365-AppStatus")=="OkWithSession"&&(window.mips=siteDataSession.getItem("mips"),Inactivity.InitPageCIT("Account/GetInactivityTimeout.aspx?mips="+window.mips,"Account/LogOut.aspx"))}function checkAjaxStatusLoggedIn(n){var t=IsAjaxStatusLoggedIn(n);return t||(overlay(0),newLoginPage()),t}function onAjaxResponse(n){n&&n.toLowerCase()!="null"&&n!="?"&&sProps.AppStatus.toUpperCase()!=n.toUpperCase()&&(sProps.AppStatus=n,b365Mobile.account.checkLoginStatus(),checkAjaxStatusLoggedIn(n))}function checkScriptHeaders(n){var i,t,r,u,f,e=null,o=null,s=null;return(i=n.getResponseHeader("X-b365-ScriptVersion"),!i)?"":i.indexOf("|")==-1?"":(t=i.split("|"),r=document.getElementById("ScriptVer"),u=document.getElementById("BetSlipScriptVer"),f=document.getElementById("SportsUIScriptVer"),r&&(e=r.value),u&&(o=u.value),f&&(s=f.value),t&&t[0]&&e&&t[0].split(",")[0]!==e)?location.protocol+"//"+location.host+location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"&ver="+t[0]:t&&t[1]&&o&&t[1].split(",")[0]!==o&&bsApp.dialogueController&&!bsApp.dialogueController.active()?location.protocol+"//"+location.host+location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"&ver="+t[1]:t&&t[2]&&s&&t[2].split(",")[0]!==s?location.protocol+"//"+location.host+location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"&ver="+t[2]:""}function getLanguages(n,t){var r,u,f="",e,o;if(window.b365=window.b365||{},window.b365.hasOwnProperty("ml")){n();return}for(window.b365.ml={},f=b365Mobile.utils.IsNullOrEmpty(sProps.LangID)?parseQueryString(window.location.search).lng:sProps.LangID,i=0,il=window.manifest.manifest.items.add.length;i<il;i++)window.manifest.manifest.items.add[i]["@key"]=="site"&&(e=window.manifest.manifest.items.add[i].language["@path"],o=window.manifest.manifest.items.add[i].language["@version"]);r=manifestProduct=e.replace("{version}",o)+"/"+f+".json";u=n;window.device&&window.device.ajaxCacheBreakRequired&&(r+="?t="+(new Date).getTime());$.ajax(r,{dataType:"json",timeout:1e4}).done(function(n){window.b365.ml=n;u()}).fail(function(){t&&t()})}function parseQueryString(n){var u={},i,r,t,f;for(n=n.replace("?",""),i=n.split("&"),t=0,f=i.length;t<f;t++)r=i[t].split("="),u[r[0]]=r[1];return u}function disposeMyBets(){window.MyBetsContainer&&(siteViewController.clearMyBetsView(),window.MyBetsContainer.dispose(),window.MyBetsContainer=null)}function TouchBuster(){this._coordinates=[];this._enabled=!1;"ontouchstart"in window&&(document.addEventListener("click",$.proxy(this.onTouch,this),!0),this._enabled=!0)}function ResponsiveClickHandler(n,t,i){this._touchStartEvent="touchstart";this._touchMoveEvent="touchmove";this._touchEndEvent="touchend";this._isTouch="ontouchstart"in window||window.navigator.msPointerEnabled;window.mobileBusinessRules.useTouchEvents()===!1&&(this._isTouch=!1);this._events=[];this._touchEvents=[];this._element=n;this._handler=t;this._useCapture=i;this._startX=null;this._startY=null;this._isTouch?this._events.push(this.addListener(n,this._touchStartEvent,this,this._useCapture)):this._events.push(this.addListener(n,"click",this,this._useCapture))}function initModernizrTests(){Modernizr.addTest("inplaypush",function(){return!(device.isAndroid&&device.isChrome&&parseFloat(device.browserVersion)==26)&&!device.isOperaMini});Modernizr.addTest("cookiesenabled",function(){return navigator.cookieEnabled&&"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)});Modernizr.addTest("selectimg",function(){return device.isPresto||device.isOperaMini?!1:!0});Modernizr.addTest("inputgradient",function(){return device.isAndroid&&!device.isChrome&&parseFloat(device.osVersion)<4.1?!1:!0});Modernizr.addTest("webkituserselect",function(){return!(agent.indexOf("blackberry")>=0&&agent.indexOf("webkit")>=0)});Modernizr.addTest("webkitboxshadow",function(){return!(agent.indexOf("blackberry")>=0&&agent.indexOf("webkit")>=0||device.isAndroid&&device.osVersion.charAt(0)<4||device.isWindowsPhone&&device.osVersion.charAt(0)<8)});Modernizr.addTest("totewebkitboxshadow",function(){return!(agent.indexOf("blackberry")>=0&&agent.indexOf("webkit")>=0||device.isAndroid&&device.osVersion.charAt(0)<4)});Modernizr.addTest("scrollingsupport",function(){var n=device.isAndroid&&!device.isPresto&&!device.isOperaMini&&parseFloat(device.osVersion)>=4.1&&device.isChrome&&parseFloat(device.browserVersion)>18;return device.iosDevice||device.isPlayBook||device.isMicrosoftEdge||n||device.isWindowsPhone&&parseFloat(device.browserVersion)>=11});Modernizr.addTest("useCssScolling",function(){var n=[];return n[0]="WebkitOverflowScrolling",b365Mobile.utils.getSupportedCssProperty(n)!="undefined"});Modernizr.addTest("v6scrolling",function(){return device.isAndroid&&parseFloat(device.osVersion)>=4.1&&device.isAndroidNativeBrowser&&(device.isSamsungGalaxyS2||device.isSamsungGalaxyS3||device.isSamsungGalaxyS3Mini)?!1:device.iosDevice&&Modernizr.testAllProps("overflowScrolling")||device.iosDevice&&parseFloat(device.osVersion)>=5||device.isPlayBook||device.isMicrosoftEdge||device.isInternetExplorer&&parseFloat(device.browserVersion)>=9||device.isAndroid&&!device.isPresto&&!device.isOperaMini&&parseFloat(device.osVersion)>=4||device.isBlackBerry&&device.osVersion>=10});Modernizr.addTest("needsiscroll",function(){return device.iosDevice&&parseFloat(device.osVersion)>5});Modernizr.addTest("spacerrequired",function(){return device.isBlackBerry});Modernizr.addTest("SP-5",function(){return window.sProps.appType==="windowsuniversalapp"?!1:supportsVideoStreaming()&&!(agent.match("nexus 7|nexus7")&&device.isAndroid&&parseFloat(device.osVersion)<5)&&!(device.isAndroid&&parseFloat(device.osVersion)<4)});Modernizr.addTest("SP-6",function(){if(window.sProps.appType==="windowsuniversalapp")return!1;return agent.toLowerCase().search(/(transformer tf101|htc sensation|sensation_z710e|sensation z710e)/g)>-1?!1:device.isAndroid&&parseFloat(device.osVersion)<=5&&agent.toLowerCase().match("version")&&agent.toLowerCase().match("htc one|htc_one")?!1:supportsVideoStreaming()});Modernizr.addTest("SP-7",function(){return supportsVideoStreaming()&&!(device.isAndroid&&parseFloat(device.osVersion)<4.1)});Modernizr.addTest("SP-9",function(){return window.sProps.appType==="windowsuniversalapp"?!1:supportsVideoStreaming()&&!agent.match("nexus 7|nexus7")});Modernizr.addTest("SP-10",function(){return supportsVideoStreaming()});Modernizr.addTest("SP-12",function(){return device.isAndroid&&device.isChrome&&!device.isSamsungBrowser&&(parseInt(device.browserVersion,10)===37||parseInt(device.browserVersion,10)===38)?!1:supportsVideoStreaming()&&!(device.isAndroid&&parseFloat(device.osVersion)<4.1)});Modernizr.addTest("SP-15",function(){return window.sProps.appType==="windowsuniversalapp"?!1:device.isAndroid&&parseFloat(device.osVersion)<=5&&agent.toLowerCase().match("version")&&agent.toLowerCase().match("htc one|htc_one")?!1:supportsVideoStreaming()&&!(agent.match("nexus 7|nexus7")&&device.isAndroid&&parseFloat(device.osVersion)<5)&&!(device.isAndroid&&parseFloat(device.osVersion)<3)});Modernizr.addTest("SP-20",function(){return window.sProps.appType==="windowsuniversalapp"?!1:supportsVideoStreaming()&&!(device.isAndroid&&parseFloat(device.osVersion)<4.1)});Modernizr.addTest("SP-22",function(){return supportsVideoStreaming()&&!(device.isAndroid&&parseFloat(device.osVersion)<4.4)});Modernizr.addTest("SP-24",function(){return window.sProps.appType==="windowsuniversalapp"?!1:supportsVideoStreaming()&&(device.iosDevice||device.isAndroid&&(device.isChrome||parseFloat(device.osVersion)>=4)||window.sProps.appType==="windowsuniversalapp")});Modernizr.addTest("SP-27",function(){return supportsVideoStreaming()&&!(device.isAndroid&&parseFloat(device.osVersion)<4.1)});Modernizr.addTest("SP-31",function(){return supportsVideoStreaming()&&!(device.isAndroid&&parseFloat(device.osVersion)<4.1)});Modernizr.addTest("supportsmousepointer",function(){return device.isBlackBerry});Modernizr.addTest("flexboxtextwrap",function(){return!(device.isWindowsPhone||device.isFirefox||device.isPresto||device.isOperaMini)});Modernizr.addTest("supportsflexbox",function(){var n=parseFloat(device.osVersion);return Modernizr.flexbox&&(device.iosDevice&&n>6||device.isAndroid&&n>4.2)});Modernizr.addTest("selectimg",function(){return!(device.isWindowsPhone&&agent.toLowerCase().indexOf("msie 9")>=0||device.isFirefox)});Modernizr.addTest("viewportwidth",function(){return device.isIPhone&&agent.toLowerCase().indexOf("os 6")>=0});Modernizr.addTest("instantbet",function(){var n=!1;return sProps.instantBet&&(n=sProps.instantBet),n});Modernizr.addTest("audioqualitynone",function(){return device.isIPhone||device.isIPod||device.isIPad||device.isAndroid&&supportsAudioFormat("application/vnd.apple.mpegurl")&&!device.isPresto&&!device.isOperaMini});Modernizr.addTest("audioqualityhigh",function(){return device.isAndroid&&!device.isPresto&&!device.isOperaMini});Modernizr.addTest("bet365audio",function(){return supportsAudioStreaming()});Modernizr.addTest("bet365video",function(){return supportsVideoStreaming()});Modernizr.addTest("scrollswithkeyboardup",function(){return scrollsWithKeyboard()});Modernizr.addTest("matchlivesupport",function(){return device.isFirefox===!1||device.isPresto===!1||device.isOperaMini===!1});Modernizr.addTest("notificationssupport",function(){return window.device.osType==="android"&&window.device.browserType==="chrome"&&window.device.browserVersion>=44&&window.Notification&&window.sProps.appType!="androidapp"?!0:!1});Modernizr.addTest("livematchalerts",function(){var n=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler).isFeatureSupported("Notifications");return(siteDataLocal.getItem("appType")?siteDataLocal.getItem("appType"):window.sProps.appType==="iosapp"||n||Modernizr.notificationssupport)?!0:sProps.deviceId});Modernizr.addTest("highresdisplay",function(){if(window.matchMedia){var n=window.matchMedia("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");if(n&&n.matches)return!0}return window.devicePixelRatio>1?!0:!1});Modernizr.addTest("reducedframeratespeed",function(){return device.iosDevice&&device.osVersion<=5});Modernizr.addTest("lowperformancejqueryfade",function(){return device.isIPhone&&device.osVersion<5});Modernizr.addTest("fixpercentagewidths",function(){return device.iosDevice});Modernizr.addTest("textOverflow",function(){var n=!0;return device.isInternetExplorer&&parseFloat(device.browserVersion)<10&&(n=!1),n});Modernizr.addTest("hls",function(){return device.iosDevice||device.isAndroid&&(device.isChrome||parseFloat(device.osVersion)>=4)});Modernizr.addTest("inlinehls",function(){var n=parseFloat(device.osVersion),t=device.isAndroid&&(n>=4&&device.isChrome||n>4.3&&!!sProps.appType);return device.iosDevice||t});Modernizr.addTest("flash",function(){var n;return agent.toLowerCase().search(/android 2\.[2|3]|android 3/)>-1&&swfobject?(n=swfobject.getFlashPlayerVersion(),n.major>10||n.major===10&&n.minor>=1):!1});Modernizr.addTest("embeddedstreaming",function(){var n=parseFloat(device.osVersion),t=agent.toLowerCase().search(/(gt\-i9300)/g)>-1,i=device.iosDevice&&!!sProps.appType&&!!document.createElement("video").webkitWirelessVideoPlaybackDisabled,r=device.isAndroid&&(n>=2.2&&n<=2.3&&Modernizr.flash&&device.isAndroidNativeBrowser||n>=3&&n<=3.2&&Modernizr.flash&&(device.isAndroidNativeBrowser||!!sProps.appType)||n>=4&&device.isChrome&&!t||n>=4.3&&!!sProps.appType&&!t);return window.sProps.appType==="windowsuniversalapp"?!0:i||r});Modernizr.addTest("flashzindex",function(){return agent.toLowerCase().search(/android 2\.[2|3]/)>-1?!1:!0});Modernizr.addTest("needsha",function(){var n=!1;return window.matchMedia&&(n=window.matchMedia("(-webkit-min-device-pixel-ratio: 2)").matches),device.iosDevice&&parseFloat(device.osVersion)>=5&&n});Modernizr.addTest("at3",function(){var n=parseFloat(device.osVersion);return device.isAndroid&&n<4});Modernizr.addTest("classmenuiconoverlap",function(){return device.isInternetExplorer&&parseFloat(device.browserVersion)>=11});Modernizr.addTest("cssanimations",function(){return Modernizr.testAllProps("animationName")});Modernizr.addTest("bb10",function(){return device.isBlackBerry10});Modernizr.addTest("needshainplayiconscrl",function(){var t=!1,n=window.device.appVersion;return(isIosChrome=agent.toLowerCase().search(/crios/)!==-1,n&&(n.length>3&&(n=n.slice(0,3)),n=n.join("")),device.iosDevice&&parseFloat(device.osVersion)>=9&&parseFloat(device.osVersion)<9.1&&(isIosChrome||sProps.appType==="iosapp"&&n<=20305))?!1:(window.matchMedia&&(t=window.matchMedia("(-webkit-min-device-pixel-ratio: 2)").matches),device.iosDevice&&parseFloat(device.osVersion)>=5&&t||device.isAndroid&&parseFloat(device.osVersion)>=4.2)});Modernizr.addTest("ios7",function(){return device.iosDevice&&parseFloat(device.osVersion)>=7&&parseFloat(device.osVersion)<8});Modernizr.addTest("webrtc",function(){var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return!!n});Modernizr.addTest("w3cflexbox",function(){return!device.isUcBrowser&&Modernizr.testAllProps("flexBasis","1px",!0)});Modernizr.addTest("flexwrap",function(){return Modernizr.testAllProps("flexWrap","wrap",!0)});Modernizr.addTest("flexlegacy",function(){return Modernizr.testAllProps("boxDirection","reverse",!0)});Modernizr.addTest("flextweener",function(){return Modernizr.testAllProps("flexAlign","end",!0)});Modernizr.addTest("svginhtml",function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(typeof SVGRect!="undefined"&&n.firstChild&&n.firstChild.namespaceURI)=="http://www.w3.org/2000/svg"});Modernizr.addTest("svgasimg",function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")});Modernizr.addTest("positionfixedwithtransform",function(){return!(device.isAndroidNativeBrowser&&parseFloat(device.osVersion)<=4.3||device.iosDevice&&parseFloat(device.osVersion)<=5)});Modernizr.testStyles("#modernizr { width: 50vw; }",function(n){var t=parseInt(window.innerWidth/2,10),i=parseInt((window.getComputedStyle?getComputedStyle(n,null):n.currentStyle).width,10);Modernizr.addTest("cssvwunit",i==t)});Modernizr.testStyles("#modernizr { height: 50vh; }",function(n){var t=parseInt(window.innerHeight/2,10),i=parseInt((window.getComputedStyle?getComputedStyle(n,null):n.currentStyle).height,10);Modernizr.addTest("cssvhunit",i==t)});window.ipSubMenu&&window.ipSubMenu.showElements&&window.ipSubMenu.showElements()}function supportsAudioFormat(n){var t=document.createElement("audio"),i=!1;return t.canPlayType&&(i=!!t.canPlayType(n).replace(/no/,"")),i}function supportsVideoStreaming(){var t=agent.toLowerCase().search(/(a3500-f|a5500-f|a3500-f|a5500-hv|a7600-f|gt-n7105|gt-n7100|sm-n900t|sm-n9005|sm-n9000|sm-n900v|sm-n900a|woxter sx100|woxter nimbus 98q|sm-n920i|oppo r7|oppo r9|vivo x6s|sm-t520|gt-p7500)/g)>-1||agent.toLowerCase().search(/(desire x|htc_desire_x)/g)>-1&&parseFloat(window.device.osVersion)>=4&&parseFloat(window.device.osVersion)<4.1,n;return t?!1:device.isPresto||device.isOperaMini?!1:agent.toLowerCase().search(/wildfire[^s]|android 2\.[01]/)!==-1||device.isWindowsPhone&&sProps.appType!=="windowsuniversalapp"||device.isBlackBerry||device.isInternetExplorer&&sProps.appType!=="windowsuniversalapp"||device.isMicrosoftEdge||device.isFirefox||device.isPlayBook||device.isSilk?!1:agent.toLowerCase().search(/android 2\.[2|3]|android 3/)!==-1?typeof swfobject=="undefined"?!1:(n=swfobject.getFlashPlayerVersion(),n.major>10||n.major===10&&n.minor>=1):device.iosDevice||device.isAndroid||sProps.appType==="windowsuniversalapp"}function supportsAudioStreaming(){var n=!0;return device.isPresto||device.isOperaMini?!1:(Modernizr.audio.m4a||Modernizr.audio.mp3?device.isAndroid&&agent.toLowerCase().search(/android 2.1|android 2.2|android 2.3/)!=-1&&(n=!1):n=!1,n)}function scrollsWithKeyboard(){var n=!1;return device.isAndroid&&agent.toLowerCase().search(/android 2.2|android 2.3/)!=-1&&(n=!0),n}function SectionHistoryItem(n,t,i,r){this.key=n;this.itemId=t;this.state=i;this.pageType=r}function SiteDataSessionItem(){this.placeBetCalled="";this.homeMsgShown="";this.ctcMsgShown="";this.affiliateCode="";this.previousPage="";this.mips="";this.ShowBalancePopup="";this.PreLoginDomain="";this.showBetSlip=!1;this.showUserBalance="";this.loginPlaceBet="";this.inPlayRefreshSelectedBetCache="";this.PerformBetSlipConfirmation="";this._racingCouponSortCriteria=36;this.pageSM="";this._betslipCouponLinkText="";this._betslipCouponLinkHash="";this._betslipCouponLinkClassId=0;this.secAuthLaunched=!1;this.originatingDomain="";this.secAuthxTarget="";this.actmode="";this.previousKey="";this.showLoginPopup="";this.touchprompted="";this.memberMenuMessageCount="";this.memberMenuMessageCountTime="";this.memberMenuQuickDepositState="";this.membersIFrameUrl="";this.membersNotificationsRequired="";this.virtualTab="";this.MyBetsPartialHelpMessage="";this.LaunchInstantGame="";this.StopTouchIdDialog="";this.authTypes="";this.attemptAutoLogin="true";this.InstantBetLoggedInPopupShowed="";this.HorseSearchSelectedName="";this.supressPasscode="";this.passcodeJustLoggedIn="";this.ato="";this.kycOrSecondAuthPrevPage="";this.showArchiveVid="";this.initializeInstantGames="";this.breadCrumbLevel2Key="";this.sessionTabId=""}function SiteDataLocalItem(){this.addHomeMsgCount="";this.tbMsgCount="";this.appType="";this.appVersion="";this.touchIdActive="";this.altAuthMethod="";this.touchDeclinedCount="";this.authToken="";this.authTokenExpires="";this.deviceId="";this.touchSupported="";this.suppressPrompt="";this.ipFavMsgCount="";this.ipFavourites="";this.ipFavToAdd="";this.ipFavToRemove="";this.chrmDeviceId="";this.showNavBar="";this.myBetsPartialMessageDismissed="";this.myBetsAutoMessageDismissed="";this.inplayEventSwitcherHint="";this.QuickBetStake="";this.passcodePromptCount="";this.editBetAdMessageDismissed="";this.editBetAdIntroShown="";this.editBetAdViewCount="";this.editBetAdLastShown="";this.ausMultiplesAvailable="";this.myBetsAutoCashOutAlertMessageDismissed=""}function isHTML5StorageEnabled(){if(window.HTML5StorageIsAvailable!==null)return window.HTML5StorageIsAvailable;if(typeof Storage!="undefined"&&Storage.prototype.useCookiesOverride())return window.HTML5StorageIsAvailable=!1,!1;if("localStorage"in window&&sProps.useHTML5StorageIfEnabled)try{return sessionStorage.setItem("storageTest","TRUE"),sessionStorage.removeItem("storageTest"),window.HTML5StorageIsAvailable=!0,!0}catch(n){return window.HTML5StorageIsAvailable=!1,!1}return window.HTML5StorageIsAvailable=!1,!1}function setCookieFallBack(n,t){b365Mobile.utils.createCookie(n,t,0)}function getb365LocalStorageItem(n){var t="";if(isHTML5StorageEnabled())try{t=localStorage.getb365Item(n)}catch(i){ErrorReporter.Trace(this,i)}else try{t=b365Mobile.utils.getCookie(n)}catch(i){ErrorReporter.Trace(this,i)}return t}function getb365SessionStorageItem(n){var t="";if(isHTML5StorageEnabled())try{t=sessionStorage.getb365Item(n)}catch(i){ErrorReporter.Trace(this,i)}else t=b365Mobile.utils.getCookie(n);return t}function setb365LocalStorageItem(n,t){if(isHTML5StorageEnabled())try{localStorage.setb365Item(n,t)}catch(i){ErrorReporter.Trace(this,i)}else setCookieFallBack(n,t)}function setb365SessionStorageItem(n,t){if(isHTML5StorageEnabled())try{window.sessionStorage.setb365Item(n,t)}catch(i){ErrorReporter.Trace(this,i)}else setCookieFallBack(n,t)}function virtualCouponHandler(){var n=b365Mobile.hash.getCurrentKey(),t;n&&n!==""&&(t=new b365Mobile.SportsDataKey(n),t.IsVirtualSport&&((typeof window.virtual=="undefined"||window.virtual==null)&&(window.virtual=new b365.VirtualController),window.virtual.initializeTabStrips(),window.virtual&&window.virtual.couponTabProcessor(),(typeof window.virtualClock=="undefined"||window.virtualClock==null)&&(window.virtualClock=new b365.VirtualClock),window.virtualClock.start()))}function loadSite(){var c=$("body").height(),t=window.location.hostname.toLowerCase().split(".").pop(),u,r,f,i,e,o;if(window.scrollTo(0,0),r=siteDataLocal.getItem("appType")?siteDataLocal.getItem("appType"):window.sProps.appType,appVersion=siteDataLocal.getItem("appVersion")?siteDataLocal.getItem("appVersion"):window.sProps.appVersion,LoadMembersRedirect(),initModernizrTests(),u=siteDataLocal.getItem("geoLocCode")?siteDataLocal.getItem("geoLocCode"):window.sProps.geoLocCode,window.sProps.geoLocCode===""&&(window.sProps.geoLocCode=u),window.podController||(window.podController=new PodController),r==="windowsuniversalapp"&&(document.getElementById("wuavp")||(styleElement=document.createElement("style"),styleElement.setAttribute("id","wuavp"),styleElement.setAttribute("type","text/css"),styleElement.innerHTML="@-ms-viewport{ width: device-width !important; }",head=document.head||document.getElementsByTagName("head")[0],head.appendChild(styleElement),document.getElementById("viewport").setAttribute("content","initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width"),metaElement=document.createElement("meta"),metaElement.setAttribute("http-equiv","X-UA-Compatible"),metaElement.setAttribute("content","IE=edge"),head.appendChild(metaElement),head=null,styleElement=null,metaElement=null)),window.location.search.indexOf("slp=1")>-1&&(f=window.location.href,i=f.replace("&slp=1",""),siteDataSession.setItem("showLoginPopup","true"),history.pushState?window.history.pushState({path:i},"",i):window.location.href=i),device.isAndroid===!0&&r==="androidapp"&&device.appVersion.length>0&&window.getLanguages(function(){b365Mobile.appUpdatePopup.init(device.appVersion)}),Modernizr.cookiesenabled||b365Mobile.utils.redirectToNoCookies(),window.addEventListener&&(window.mobileBusinessRules.useOrientationChange()===!1?window.addEventListener("resize",resizeSite,!1):window.addEventListener("orientationchange",resizeSite,!1)),setOnHashChangeHandler(),b365Mobile.hash.isLocationHashValueEncodedInQueryString(window.location.href)){window.location=b365Mobile.hash.convertUrlHashParamToHashLocation(window.location.href);return}sProps.user.isLoggedIn&&(t=="es"||t=="gr"||t=="dk"||t=="au"||t=="it")&&window.location.hash.indexOf("type=Members")===-1&&(e=siteDataSession.getItem("InstantBetLoggedInPopupShowed"),e==""&&(siteDataSession.setItem("showBetSlip",!1),siteDataSession.setItem("initializeInstantGames",!1)));o=[window.resolveScriptPath({path:sProps.LanguagPrefix+"-ml.js",key:"betslip"})];window.LazyLoad.js(o);window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.betslip],function(){var e,t,n,r,i;if(canPreload()?setPage():initAppSubScription(),e=[],window.bsApp=new BetslipApp,window.bsApp.init(),window.Locator.betSlipManager.populateBetBank(window.bsApp.getBetslipItems()),window.Locator.betSlipManager.setBetSlipInterface({GetBetCount:function(){return bsApp.betCount},AddBet:function(n){if(n.item.valuelist)bsApp.addBet([n.item]);else if(CastBetslipModel.IsCastBet(n.item.constructString))bsApp.addBet([CastBetslipModel.CreateFromConstruct(n.item.constructString)]);else if(n.item.constructString.indexOf("pom")!=-1){var t=Locator.pushedConfig.getIsBetCallAvailable();window.mobileBusinessRules.canSupportBetCall()&&t?bsApp.addBet(n):window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.betslipStyles],function(){bsApp.phoneBet(n.item.constructString)})}else bsApp.addBet(n)},DeleteBet:function(n){bsApp.deleteBet(n.ConstructString)},IsSelected:function(n){return window.editBetController&&window.editBetController.addSelectionsEnabled===!0?window.editBetController.isSelected(n):bsApp.isSelected(n.Id)},isSelectedEditBet:function(n){return window.editBetController&&window.editBetController.addSelectionsEnabled===!0?window.editBetController.isBetIdOnOriginalBet(n):!1}}),initSite(),displayBetslip(),window.bs)for(t=window.bs.getBetItems(),n=0,r=t.length;n<r;n++)if(t[n]){var o=t[n].getCn(),s=new CouponConstuctStringParser(o),u=s.getBetId(),f=new ns_betslip.BetSlipEvent(ns_betslip.BetSlipEvent.PARTICIPANT_ADDED_TO_BETSLIP);f.data={Id:u};window.Locator.inplayEvents.dispatchEvent(f);i=new ns_betslip.BetSlipEvent(u);i.selected=!0;window.Locator.inplayEvents.dispatchEvent(i)}},[],this);var n=document.getElementsByClassName("siteContainer")[0],s=function(){n.className=n.className.replace(/ HideNavigation/g,"");n.className.indexOf(" state-SidebarVisible")===-1&&(n.className=n.className+" state-SidebarVisible")},h=function(){n.className.indexOf(" HideNavigation")===-1&&(n.className=n.className+" HideNavigation");n.className=n.className.replace(/ state-SidebarVisible/g,"")};ns_moblib_util_managers.LayoutManager.AddEventListener(ns_moblib_util_managers_events.LayoutManagerEvent.SHOW_NAVIGATION,new ns_gen5_util.Delegate(this,s));ns_moblib_util_managers.LayoutManager.AddEventListener(ns_moblib_util_managers_events.LayoutManagerEvent.HIDE_NAVIGATION,new ns_gen5_util.Delegate(this,h));ns_moblib_util_managers.LayoutManager.AddEventListener(ns_moblib_util_managers_events.LayoutManagerEvent.SHOW_NAVIGATION_WIDE,new ns_gen5_util.Delegate(this,function(){var n=document.getElementById("Site");s();n.className=n.className.replace(/ HideNavigation/g,"")}));ns_moblib_util_managers.LayoutManager.AddEventListener(ns_moblib_util_managers_events.LayoutManagerEvent.HIDE_NAVIGATION_WIDE,new ns_gen5_util.Delegate(this,function(){var n=document.getElementById("Site");n.className=n.className+" HideNavigation";h()}));siteDataSession.getItem("showLoginPopup")&&siteDataSession.getItem("showLoginPopup")==="true"&&(siteDataSession.setItem("showLoginPopup","false"),window.b365Mobile.account.isUserLoggedIn()===!1&&b365Mobile.account.logInPopUp())}function initSite(){var n=[],t=window.location.hostname.toLowerCase().split(".").pop();LoadMembersRedirect();LoadMessageBrokers();n.push(window.mobileLazyLoaders.lazyLoaderTypes.iScroll);window.mobileLazyLoaders.addAndLoadFiles(n,function(){window.hrScroll=new horizontalScroller("MarketSlider")},[],this);t==="au"&&checkMicrophonePermissions();window.siteLoaded();ns_moblib_util_managers.OTSReportManager.Init($("#PageFooterLogo")[0])}function checkMicrophonePermissions(){if(window.mobileBusinessRules.canSupportCTC())if(device.iosDevice)sProps.inputDeviceId=null,sProps.defaultInputDeviceId="default",sProps.speakerOn=!0,sProps.hasOwnProperty("microphonePermissionGranted")||(sProps.microphonePermissionGranted=!0),sProps.speakerOn=!0;else{if(device.isFirefox||sProps.appType==="androidapp"&&bet365AndroidApp.getspeakerstate){sProps.microphonePermissionGranted=!0;sProps.inputDeviceId=null;sProps.defaultInputDeviceId="default";sProps.speakerOn=!0;sProps.appType==="androidapp"&&bet365AndroidApp.getspeakerstate("window.androidAppCallbacks.onGetSpeakerStatus");return}if(sProps.appType==="androidapp"){sProps.microphonePermissionGranted=!1;return}navigator.getUserMedia&&navigator.getUserMedia({audio:!0},function(){sProps.microphonePermissionGranted=!0},function(n){n.name=="PermissionDeniedError"&&(sProps.microphonePermissionGranted=!1)});navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0},function(){sProps.microphonePermissionGranted=!0},function(n){n.name=="PermissionDeniedError"&&(sProps.microphonePermissionGranted=!1)});var n=null,t=null;navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(i){i.forEach(function(i){(i.label.toLowerCase()=="speakerphone"||i.label.toLowerCase()=="communications")&&i.kind.toLowerCase()=="audioinput"&&(n=i.deviceId);i.label.toLowerCase()!="headset earpiece"&&(i.label.toLowerCase()!="default"||t)||i.kind.toLowerCase()!="audioinput"||(t=i.deviceId)});sProps.inputDeviceId=n;sProps.defaultInputDeviceId=t;sProps.speakerOn=!!n}):(sProps.inputDeviceId=null,sProps.defaultInputDeviceId="default",sProps.speakerOn=!1)}}function siteLoaded(){var n=window.location.hostname.toLowerCase().split(".").pop(),i,t,r;MatchLiveMobile.setupEvents();lastDropDownMenuOption||(lastDropDownMenuOption=new LastDropDownMenuOption);b365Mobile.utils.removeViewportWidth();scrollToTop();couponController.initialise(document.getElementById("AutoRefInt").value,couponHistory,sProps,removeMainClickHandler,addMainClickHandler,virtualCouponHandler,function(){Overlay(0,undefined,undefined,undefined,!0)},SportsDataKeyParser,!1);checkScrollPanel();t=siteDataLocal.getItem("appType");(t&&t.length>0||Modernizr.notificationssupport)&&sProps.push&&(sProps.push.LiveAlertsEnabledClassifications?setb365SessionStorageItem("LiveAlertsClassifications",JSON.stringify(sProps.push.LiveAlertsEnabledClassifications)):(i=JSON.parse(getb365SessionStorageItem("LiveAlertsClassifications")||"[]"),sProps.push.LiveAlertsEnabledClassifications=i));canPreload()||Overlay(1,1,1);window.FastClick&&FastClick.attach(document.querySelector("#betslipContainer"));updateBetslipFromAffilateBetQSParam(window.location.search);userPrefs=new b365Mobile.UserPreference;canPreload()||setPage();b365Mobile.account.handleSecondaryAuthentication();b365Mobile.account.setupLoginPopup();window.location.href.indexOf("&target=")>-1?window.location=window.location.href.replace("&target=","#"):window.location.href.indexOf("?target=")>-1&&(window.location=window.location.href.replace("?target=","#"));b365Mobile.sessionManager.initialise();amon=new b365Mobile.ActivityMonitor(siteDataSession,window.b365Mobile.account.isUserLoggedIn);amon.pageLoad();b365Mobile.alternativeAuth.restoreLocalStorageFromHiddenFields();sProps.user.membersNotificationsRequired?window.membersRedirect.loadIFrame("membersnotifications",!0):((n=="com"||n=="cy"||n=="ee"||n=="mx")&&sProps.user.isLoggedIn&&window.location.hash.indexOf("type=Members")===-1&&b365Mobile.alternativeAuth.registerCallback(function(){setTimeout(function(){b365Mobile.fingerprintController&&b365Mobile.fingerprintController.popupDisplayed()||ns_moblib_pushmessage.PushMessageController.Initialize()},100)}),n!="com"&&n!="cy"&&n!="ee"&&n!="mx"&&sProps.user.isLoggedIn||b365Mobile.alternativeAuth.initalise());typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage?(appWidget=new ns.mobile.betslip.Widget,window.webkit.messageHandlers.callbackHandler.postMessage(["siteloaded"])):siteDataLocal.getItem("appType")=="iosapp"&&setTimeout(function(){var n=document.createElement("script"),t=new Date;n.src="bet365://siteloaded/"+t.getTime();document.head.appendChild(n);document.head.removeChild(n)},100);sProps.user.isLoggedIn&&!sProps.user.membersNotificationsRequired&&(n=="es"||n=="gr"||n=="dk"||n=="au"||n=="it")&&window.location.hash.indexOf("type=Members")===-1&&setTimeout(function(){var n=document.getElementById("LogInPopUpContent"),i=siteDataSession.getItem("InstantBetLoggedInPopupShowed"),t;n&&i==""&&(t=n.innerHTML,Overlay(0,undefined,undefined,undefined,!0),Overlay(1,0,0,!0,!1,!0),CreatePopupBox("PopUpBox",t,!0,!0),siteDataSession.setItem("showBetSlip",!1),siteDataSession.setItem("initializeInstantGames",!1),siteDataSession.setItem("InstantBetLoggedInPopupShowed","1"))},1e3);window.b365Mobile.account.isUserLoggedIn()&&window.siteDataLocal.getItem("editBetAdIntroShown")!=="1"&&b365Mobile.memberOperations.FetchEditBetAdvertState(function(n){n.Success&&n.Response.UserDataResults.EditBetAdvertRequired&&n.Response.UserDataResults.EditBetAdvertRequired.toLowerCase()!=="true"&&window.siteDataLocal.setItem("editBetAdIntroShown","1")});window.b365Mobile.account.isUserLoggedIn()&&b365Mobile.utils.getValueFromCookie("aps03","hd")!=="Y"&&(r=ns_gen5_util.Singleton.getInstance(ns_moblib_util.MemberOperations),r.fetchDisplayOpeningOffers(function(n){n||userPrefs.saveValueToCookie("hd","hd=Y")}));window.b365Mobile.account.isUserLoggedIn()&&(window.mips=sProps.mips,Inactivity.InitPageCIT("Account/GetInactivityTimeout.aspx?mips="+sProps.mips,"Account/LogOut.aspx"))}function LoadAdditionalPushPods(){var i,t,n,r;window.mobileBusinessRules.clientEnhancedMode()&&(i=document.getElementById("BetslipTabContainer"),(typeof window.betslipTabController=="undefined"||window.betslipTabController==null)&&(window.betslipTabController=new b365.BetslipTabController),window.betslipTabController.initialize(i));window.mobileBusinessRules.supportsQuickBet()&&(t=document.getElementById("QuickBetContainer"),window.podController.ShowQuickBetPod(t),t=null);window.podController.ShowSidebarPod(document.getElementById("SidebarContainer"));n=document.getElementById("MemberMenuContainer");sProps.user.isLoggedIn&&n&&(window.podController.ShowMemberMenuPod(n),b365Mobile.alternativeAuth.registerCallback(window.memberMenuController.AuthMethodsLoaded),n=null,r=new ns_gen5_ui.ModuleContainerAs,r.load("MyBetsBootModule"))}function setPage(){var n,t;b365Mobile.account.hideLogInPopUp(!1);asUtils.closeAudioMenu();n=siteDataSession.getItem("kycOrSecondAuthPrevPage").replace(/\|/g,";");""!=siteDataSession.getItem("pageSM")?siteDataSession.setItem("pageSM",""):siteViewController.isInitialViewNarrow&&n!==""&&window.location.hash.toLowerCase().indexOf("members")==-1?(siteDataSession.setItem("kycOrSecondAuthPrevPage",""),window.location.hash=n):window.location.hash.length>0?(t=new Hash(window.location.hash),setPageAnimationAndRequestVerb(t)):newPageLoad("Home","","",sProps.LangID);siteViewController.isInPlayPage(pageType)?siteViewController.showFooterInPlayNotice():siteViewController.hideFooterInPlayNotice();storeHash()}function goBack(n){couponController.stop();var t=window.setTimeout(function(){pageType!="BetSlip"&&overlay(1,1)},10);clearTimeout(t);n=n||-1;n>0&&(n=n*-1);window.history.go(n)}function resizeSite(n){var t;(n.type=="orientationchange"||n.type=="resize"||screen.width!=screenWidth)&&resizeTimeout===null&&(t=screenWidth!=screen.width&&screenWidth!=clientViewport().width&&!window.mobileBusinessRules.forceOrientationChangeDelay()?0:500,resizeTimeout=setTimeout(function(){var t,n;try{screenWidth=screen.width;setOverlaySize();checkScrollPanel();siteViewController.setView(pageType);t=document.getElementsByClassName("scn-HeaderNavigation")[0];t&&b365Mobile.coupon.setBreadcrumbScroller();b365.popups.unavailablePopupController.active&&b365.popups.unavailablePopupController.positionPopup();sportsUIController&&sportsUIController.isInplayOverviewLoaded&&sportsUIController.setOverviewClassificationMenu();n=document.getElementById("MembersIframe");n&&sProps.user.membersNotificationsRequired&&document.documentElement.className.indexOf("no-cssvhunit")>-1&&(n.style.height=clientViewport().height+"px")}finally{resizeTimeout=null;siteViewController.setSiteForWideViewRestricted()}},t))}function initAppSubScription(){var n,t,i=siteDataLocal.getItem("appType")?siteDataLocal.getItem("appType"):window.sProps.appType;window.subscriptionInitialised||(window.subscriptionInitialised=!0,(i!==null||0!==i.length)&&(n=window.resolveCSSPath({path:"liveAlerts/all.css"}),t=window.resolveScriptPath({path:"liveAlerts/all.js"}),window.LazyLoad.css(n,function(){window.LazyLoad.clearStyleSheets()}),window.LazyLoad.js(t,function(){b365Sport.LiveMatchAlertMobile.Initialise()})))}function pageCss(){this.coupon=!1;this.misc=!1;this.betslip=!1;this.lotto=!1;this.bet365Apps=!1}function unloadPageCss(n){n.coupon||window.mobileLazyLoaders.unloadPageCSS(["css/coupon.css"]);n.misc||window.mobileLazyLoaders.unloadPageCSS(["css/misc.css"]);n.lotto||window.mobileLazyLoaders.unloadPageCSS(["Lotto/css/lotto.css"]);n.bet365Apps||window.mobileLazyLoaders.unloadPageCSS(["css/bet365apps.css"])}function loadPageCss(n,t){var i=[];n.coupon&&i.push("css/coupon.css");n.misc&&i.push("css/misc.css");n.lotto&&(i.push("/betslip/styles/mobile/lotto/lotto.css"),i.push("Lotto/css/lotto.css"));n.bet365Apps&&i.push("css/bet365apps.css");i.length>0?window.mobileLazyLoaders.loadPageCSS(i,t,[],this):t.call()}function viewLoaded(){b365Mobile.account.checkLoginStatus();checkScrollPanel();scrollToTop();findPopupBoxElement()||overlay(0,undefined,undefined,undefined,!0);addMainClickHandler(0);document.CouponRequests=0;setAudioButtonVisibility();$elem=$(".scrollNavButtonSelected");$elem.length>0?document.elementToScroll=$elem[0]:($elem=$(".enhancedTabSelected"),$elem.length>0&&(document.elementToScroll=$elem[0]));setTimeout(function(){hrScroll&&hrScroll.initialize()},50);ns_sitesearchlib_ui_header.SearchHeader.Instance.suspendElementFromDom();siteViewController.isInPlayPage(pageType)?siteViewController.hideSportsMenu():siteViewController.showSportsMenu()}function newPageLoadKeyProcess(n){var t=n.split(":"),i=t.length;return i<2&&(i==0?(t[0]="0",t[1]="0"):t[1]="0"),t}function touchStartFix(){}function newPageLoad(n,t,i,r,u,f,e){var rt=!1,gt=!1,vt=!1,ot=!1,ni=!1,st=!1,ti=!1,ii=!1,ri=!1,ui=!1,fi=!1,ei=!1,oi=!1,si=!1,yt=!1,s,d,nt,w,h,pt,hi,y=function(){onAjaxResponse("?")},ut,p=null,ci,ki=$(window),ft,tt,li,ai,vi,wt,ht,yi,b,bt,o,a,c,v,ct,lt,it,at,k,et,g,pi,kt,wi,dt,l,bi;if(headerController&&headerController._headerProductUpdateHandler(),window.editBetController&&window.editBetController.addSelectionsEnabled===!0&&!window.editBetController.skipNavCheck&&!window.editBetController.isWhiteListedNav(n,t)){window.sidebarController.closeSidebar();li=function(){newPageLoad(n,t,i,r,u,f,e)};window.editBetController.showNavMessage(li);return}if(ns_gen5_util.Singleton.getInstance(ns_moblib_ui.ModalManager).removeAllModals(),hi&&hi.destroy(),b365Mobile.LeagueTable&&b365Mobile.LeagueTable.Dispose(),window.statsManager&&window.statsManager.disposeStatsPods(),window.preMatchStatsManager&&window.preMatchStatsManager.dispose(),ns_moblib_modulecontrollers.BetBuilderModuleController&&ns_moblib_modulecontrollers.BetBuilderModuleController.Dispose(),b365Mobile.splash&&b365Mobile.splash.dispose(),b365Mobile.IPPGController&&(b365Mobile.IPPGController.dispose(),b365Mobile.IPPGController=null),b365Mobile.SearchController&&(b365Mobile.SearchController.dispose(),b365Mobile.SearchController=null),b365Mobile.Racing&&b365Mobile.Racing.couponDispose(),t&&(n==="Splash"||n==="Coupon"&&t.indexOf("-")>=0)){if(nt=new b365Mobile.SportsDataKey(t),w=nt.classificationId,ai=(w===2||w===4)&&nt.c1Id===105&&nt.c1IdTable===75,vi=nt.IsVirtualSport||ai?144:w,!b365Mobile.navigation.isClassificationValidForCountry(vi)){window.location.hash="type=Home";return}ni=nt.result}if(wt=b365Mobile.navigation.getBreadCrumbLevel2Key(),wt&&wt!="null"&&n!=="Coupon"&&b365Mobile.navigation.setBreadCrumbLevel2Key(""),$(window).off("orientationchange.extraOffers resize.extraOffers"),device.isAndroid&&siteViewController.isNarrowView&&(document.body.removeEventListener("touchstart",touchStartFix),document.body.addEventListener("touchstart",touchStartFix)),window.mobileNavScroller&&window.mobileNavScroller.dispose){try{window.mobileNavScroller.dispose()}catch(di){}window.mobileNavScroller=null}if(window.mobileSubNavScroller&&window.mobileSubNavScroller.dispose&&(window.mobileSubNavScroller.dispose(),window.mobileSubNavScroller=null),null!=window.iScrollItems){for(ht=0;ht<window.iScrollItems.length;ht++)window.iScrollItems[ht].destroy();window.iScrollItems=[]}if(window.membersRedirect.ensureIframeCleanup(),window.EventTimer&&!window.EventTimer._isStopped()&&prodNav&&(prodNav=null),window.prematchHandlers&&window.prematchHandlers.removeHandlers(),window.b365Sport&&window.b365Sport.LiveMatchAlert&&b365Sport.LiveMatchAlert.RemoveOverlay(),window.homePageExtraOffers&&(window.homePageExtraOffers.renderer=null),n!=="Coupon"&&(window.ipSubMenu=null),pageType=n,couponController.stop(),window.MyBetsPushData&&window.MyBetsPushData.dispose(),t&&t.split("-")[0]==6?closelogInPopUp(undefined,!1):closelogInPopUp(),yi=!1,u||(u=1),t||(t=""),window.currentSDK=t,o=new NavUrl,lt=!1,a=newPageLoadKeyProcess(t),c=new pageCss,v=function(){viewLoaded(n);unloadPageCss(c);window.podController&&(window.podController.dispose(),window.podController=null);siteViewController.setSiteForWideViewRestricted();siteDataSession.getItem("showLoginPopup")&&siteDataSession.getItem("showLoginPopup")==="true"&&(siteDataSession.setItem("showLoginPopup","false"),window.b365Mobile.account.isUserLoggedIn()===!1&&b365Mobile.account.logInPopUp());window.betDataHelper&&window.betDataHelper.loadJson(!1)},target=document.getElementById("Main"),window.MatchLiveGlobal)window.MatchLiveGlobal.onPageLoadClearMatchLive(!0);if(bt=i==="1"?!0:!1,ct=$("#Site"),ct.removeClass("InPlay"),ct.removeClass("Watching"),$(target).removeClass("Watching"),window.footerInstantGamesPodController&&(window.footerInstantGamesPodController.dispose(),window.footerInstantGamesPodController=null),!yt&&window.tournament&&window.tournament.dispose(),it=moduleManager.loadModule(window.location.hash,t),it.isSportsUIStandalone)return window.b365Mobile.utils.preLoadLoaded(),initialiseInstantGamesController(),typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage?window.webkit.messageHandlers.callbackHandler.postMessage(["siteready"]):siteDataLocal.getItem("appType")=="iosapp"&&(k=document.createElement("script"),et=new Date,k.src="bet365://siteready/"+et.getTime(),document.head.appendChild(k),document.head.removeChild(k)),window.sidebarController.closeSidebar&&window.sidebarController.closeSidebar(),window.bsApp.bsContext.ClientEnhancedMode()||betslipBarCache&&betslipBarCache.length!=0||(s=document.getElementById("betslipBarClone"),s&&(s.setAttribute("id","betslipBar"),s.removeAttribute("style"),betslipBarCache=$(s),s.parentNode.removeChild(s)),s=null),siteViewController.showSportsMenu(),sportsUIController.disposeView();if(t!==it.key)return ns_moblib_util_managers.MobileNavigationManager.NavigateTo("type="+(it.forcedTypeUpdate?it.forcedTypeUpdate:n)+";key="+it.key+";ip=0;lng="+Locator.user.languageId,1);suppress_hashchange=!1;(n!=="Coupon"||ni)&&"italyStreaming"in window&&window.italyStreaming&&window.italyStreaming.dispose();switch(n){case"InPlay":window.overlay(0);(typeof window.sidebarController!="undefined"||window.sidebarController!=null)&&window.sidebarController.stateChanged(n,0);window.bsApp.bsContext.ClientEnhancedMode()||betslipBarCache&&betslipBarCache.length!=0||(s=document.getElementById("betslipBarClone"),s&&(s.setAttribute("id","betslipBar"),s.removeAttribute("style"),betslipBarCache=$(s),s.parentNode.removeChild(s)),s=null);window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.matchLiveGlobal],function(){if(window.sportsUIController.loadView(target,n,a[0]),addMainClickHandler(),b365Mobile.account.checkLoginStatus(),siteDataSession.getItem("showBetSlip")!="true"||window.quickBetController&&window.quickBetController.overrideBetslip||(siteDataSession.setItem("showBetSlip",!1),window.bsApp&&window.bsApp.dialogueController&&window.bsApp.getBetCount(window.bs)>0&&!window.bsApp.hasPhoneOnlyItemOnSlip()&&!(window.quickBetController&&window.quickBetController.isVisible)&&window.setTimeout(function(){window.overlay(1,1);window.scrollToTop();window.bsApp.refreshSlip()},500)),typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage)window.webkit.messageHandlers.callbackHandler.postMessage(["siteready"]);else if(siteDataLocal.getItem("appType")=="iosapp"){var t=document.createElement("script"),i=new Date;t.src="bet365://siteready/"+i.getTime();document.head.appendChild(t);document.head.removeChild(t)}initialiseInstantGamesController()},[],this);return;case"MyBets":if(at=document.getElementById("Main"),typeof sportsUIController!="undefined"&&sportsUIController.disposeView(),typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage?window.webkit.messageHandlers.callbackHandler.postMessage(["siteready"]):siteDataLocal.getItem("appType")=="iosapp"&&(k=document.createElement("script"),et=new Date,k.src="bet365://siteready/"+et.getTime(),document.head.appendChild(k),document.head.removeChild(k)),!window.b365Mobile.account.isUserLoggedIn())if(b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.getKMLActive())b365Mobile.account.sessionExpired();else{b365Mobile.alternativeAuth.registerCallback(b365Mobile.account.logInPopUp);window.b365Mobile.utils.preLoadLoaded();return}window.scrollToTop();window.Overlay(0,0,undefined,undefined,!0);at&&(at.innerHTML="",g=new ns_gen5_ui.ModuleContainer,g.initObject={taxConfig:sProps.user.taxConfiguration,editBetData:null},window.editBetAdvertController&&window.editBetAdvertController.cancelPopUp(),window.editBetController&&window.editBetController.editBetData&&(g.initObject.editBetData=window.editBetController.editBetData,window.editBetController.editBetData=null),g.load("MyBetsModule"),g.initialize(),window.MyBetsContainer=g,at.appendChild(g.getElement()),window.b365Mobile.utils.preLoadLoaded());siteViewController.isWideView?$("#PageFooter").addClass("MyBets"):$("#BackToTopBigBttn").addClass("MyBets");siteViewController.myBetsInitialised();setTimeout(function(){b365Mobile.account.checkLoginStatus()},0);window.amon&&window.amon.restart();ns_moblib_util_managers.LayoutManager.SwitchProductOrClassificationFromMSH("MyBets","-1");return;case"bet365Apps":c.bet365Apps=!0;o.baseUrl="domainPages/bet365Apps.aspx";o.item=a[1];o.key=a[0];b=1;o.sc=sProps.scProps;o.ot=sProps.ot;e=function(){window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.b365Apps],function(){window.bet365apps=new window.b365Apps;window.Overlay(0,0);window.bet365apps.initialise()},[],this)};break;case"Tournament":b365Mobile.tournamentHistory==undefined&&(b365Mobile.tournamentHistory=new b365Mobile.TournamentHistory);o.key=a[0];o.cid=a[0].split("-")[0];o.baseUrl="V6/sport/Tournament/Tournament.aspx";o.gn=a[1];o.sc=sProps.scProps;o.ot=sProps.ot;o.appType=siteDataLocal.getItem("appType");o.appVersion=siteDataLocal.getItem("appVersion");o.lng=sProps.LangID;o.sct=b365Mobile.tournamentHistory.getHistoryList("SESM")+";"+b365Mobile.tournamentHistory.getHistoryList("SEMK");yt=!0;b=1;p=o.cid;break;case"Splash":o.key=a[0];o.cid=o.key.split("-")[0];o.baseUrl=b365Mobile.navigation.getSplashPagePath(o.cid);o.gn=a[1];o.sct=splashHistory.getHistoryList(o.cid);o.sc=sProps.scProps;o.ot=sProps.ot;o.appType=siteDataLocal.getItem("appType");o.appVersion=siteDataLocal.getItem("appVersion");o.cid.toString()!="2"&&o.sct==""?o.clt="8881":o.iscode=sProps.curCode;o.cid==="6"&&(c.lotto=!0);b=1;p=o.cid;window.couponScrollerOffset=null;window.iscroller=null;o.cid==1?(b365Mobile.leagueTeams&&(o.sst=b365Mobile.leagueTeams.getSelectedTab(),o.lgid=b365Mobile.leagueTeams.getSelectedLeague(),o.tid=b365Mobile.leagueTeams.getSelectedTeam()),e=function(){(new CouponBetSelect).highlightSelectedBets();b365Mobile.splash&&(ft=document.getElementById("Splash"),ft&&(b365Mobile.splash.setSplashMyTeams(ft),tt=ft.getElementsByClassName("selectedTab")[0],b365Mobile.splash.setTabIndicator(tt),b365Mobile.splash.setFeaturedFixtureVisibility(tt),vt&&ft.getElementsByClassName("ippg-Market").length>0&&!b365Mobile.IPPGController&&(b365Mobile.IPPGController=new b365.IPPGController(w)),b365Mobile.splash.init()))},o.sst=="2"&&(ci=e,e=function(){b365Mobile.leagueTeams.initialiseTeamPicker(o.tid,!1);ci()}),window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.preMatchStats]),window.preMatchStatsManager=new b365.PreMatchStatsManager):e=o.cid==2||o.cid==4||o.cid==88||o.cid==ITALY_RACING_GROUP_CLASS_ID?function(){(new CouponBetSelect).highlightSelectedBets();window.EventTimer&&window.EventTimer.Start();o.cid==2&&(b365Mobile.SearchController||(b365Mobile.SearchController=new b365.SearchController("SplashHeader",o.cid)));b365Mobile.splash.init(o)}:function(){var n,i,t;if(((new CouponBetSelect).highlightSelectedBets(),b365Mobile.splash)&&(n=document.getElementById("Splash"),n)){for(i=n.getElementsByClassName("spl-NavBar_link"),t=0;t<i.length;t++)i[t].style.display="inline-block";tt=n.getElementsByClassName("selectedTab")[0];b365Mobile.splash.setTabIndicator(tt);b365Mobile.splash.setFeaturedFixtureVisibility(tt);b365Mobile.splash.init()}};o.cid==6&&(window.mobileBusinessRules.usePodContentScroller()&&window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.podContentScroller]),y=function(){onAjaxResponse("?");hideBetslipForLotto()});window.couponScrollerOffset=null;window.iscroller=null;break;case"Coupon":if(window.overlay(0),betslipBarCache&&betslipBarCache.length!=0||(s=document.getElementById("betslipBarClone"),s&&(s.setAttribute("id","betslipBar"),s.removeAttribute("style"),betslipBarCache=$(s),s.parentNode.removeChild(s)),s=null),b365Mobile.account.checkLoginStatus(),ct.addClass("InPlay"),t.indexOf("-")>=0){if(pi=new SportsDataKeyParser(t),pi.get_isInplay()){kt=new CouponKey(t);wi=kt.toPushFixtureId(sProps.LangID,sProps.ZoneID);window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.matchLiveGlobal],function(){if(window.sportsUIController.loadView(target,n,wi),window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.show(),typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage)window.webkit.messageHandlers.callbackHandler.postMessage(["siteready"]);else if(siteDataLocal.getItem("appType")=="iosapp"){var t=document.createElement("script"),i=new Date;t.src="bet365://siteready/"+i.getTime();document.head.appendChild(t);document.head.removeChild(t)}},[],this);(typeof window.sidebarController!="undefined"||window.sidebarController!=null)&&window.sidebarController.stateChanged("InPlay",kt.classification);return}window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.preMatchStats]);window.preMatchStatsManager=new b365.PreMatchStatsManager;initialiseInstantGamesController()}else{window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.matchLiveGlobal],function(){if(window.sportsUIController.loadView(target,n,t),window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.show(),siteDataSession.getItem("showBetSlip")!="true"||window.quickBetController&&window.quickBetController.overrideBetslip||(siteDataSession.setItem("showBetSlip",!1),window.bsApp&&window.bsApp.dialogueController&&window.bsApp.getBetCount(window.bs)>0&&!window.bsApp.hasPhoneOnlyItemOnSlip()&&!(window.quickBetController&&window.quickBetController.isVisible)&&window.setTimeout(function(){window.overlay(1,1);window.scrollToTop();window.bsApp.refreshSlip()},500)),typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage)window.webkit.messageHandlers.callbackHandler.postMessage(["siteready"]);else if(siteDataLocal.getItem("appType")=="iosapp"){var i=document.createElement("script"),r=new Date;i.src="bet365://siteready/"+r.getTime();document.head.appendChild(i);document.head.removeChild(i)}initialiseInstantGamesController()},[],this);(typeof window.sidebarController!="undefined"||window.sidebarController!=null)&&(w=t.split("C")[1].split("_")[0],window.sidebarController.stateChanged("InPlay",w));return}if(c.coupon=!0,o.baseUrl=b365Mobile.navigation.getCouponPath(a[0],bt),o.appType=siteDataLocal.getItem("appType"),o.appVersion=siteDataLocal.getItem("appVersion"),o.sc=sProps.scProps,t.indexOf("-")>-1&&6==t.split("-")[0]&&(0==t.split("-")[3]?(o.baseUrl="Lotto/Game.aspx",c.lotto=!0,window.bsApp.bsContext.ClientEnhancedMode()&&window.betslipTabController.hide()):(o.baseUrl="/betslip/default.aspx?op=18&ck=lbts",c.coupon=!1,rt=!0,window.bsApp.bsContext.ClientEnhancedMode()&&window.betslipTabController.hide())),o.key=a[0],o.ot=sProps.ot,o.lng=sProps.LangID,couponController.applyAustralianResultCouponFix(a[0])&&(o.res="au"),o.ip=i,o.gn=a[1],o.cid=o.key.split("-")[0],ut=new CouponKey(t),b365Mobile.leagueTeams&&(o.tid=ut.teamId||"0"),p=o.cid,ut.IsVirtualSport?(ui=!0,p="144"):o.cid==="2"||o.cid==="4"||o.cid==="88"||o.cid==="73"?ot=!0:o.cid===ITALY_HORSE_RACING_CLASS_ID||o.cid===ITALY_TROTTING_CLASS_ID?(ot=!0,st=!0):o.cid==="1"?gt=!0:rt||(ii=!0),ut.SpecialEventId>0&&(p=SPECIAL_EVENT_KEY),o.sct==""&&(o.clt="9996"),document.CouponRequests=document.CouponRequests+1,document.CouponRequests>1)return;b=1;ut.inplay&&(b=2);o.sort=couponController.getCouponSortParameter(o.key,i);window.iscroller?(window.couponScrollerOffset=window.iscroller.x,window.iscroller=null,lt=!0):(d=$("#meetingTimes .scrollcontainer.horizontal"),d.length>0&&(dt=d[0].scrollLeft,dt>=0&&(window.couponScrollerOffset=dt,lt=!0)));break;case"MoreBets":c.coupon=!0;o.baseUrl="sport/coupon/MoreBets.aspx";o.key=a[0];break;case"Login":document.getElementById("preLoadOuter").style.display!="none"&&(window.location=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/");b365Mobile.account.logInPopUp();return;case"Offer":o.baseUrl="home/Offers.aspx";p=a[0];isNaN(p)?o.offerData=b365Mobile.hash.getCurrentKey():o.item=p;b=1;si=!0;ns_moblib_util_managers.LayoutManager.SwitchProductOrClassificationFromMSH("Offer","-1");break;case"ContactUs":c.misc=!0;o.baseUrl="Help/ContactUs.aspx";break;case"Probability":c.misc=!0;o.baseUrl="Help/Probability.aspx";break;case"Permissions":c.misc=!0;o.baseUrl="Help/Permissions.aspx";break;case"Casino":o.baseUrl=URL_Casino.value;break;case"Preferences":c.misc=!0;o.baseUrl="Help/Preferences.aspx";break;case"Scorecast":c.coupon=!0;o.baseUrl="sport/coupon/Scorecast/Scorecast.aspx";o.item=a[1];o.key=a[0];b=1;o.sc=sProps.scProps;o.ot=sProps.ot;e=function(){(new CouponBetSelect).highlightSelectedBets()};break;case"BetSlip":siteDataSession.setItem("showBetSlip",!0);c.home=!0;pageType="Home";o.baseUrl=b365Mobile.navigation.getHomePagePath();o.appType=siteDataLocal.getItem("appType");o.appversion=siteDataLocal.getItem("appVersion");e=function(){$(".eventWrapper").find(".podSplashRow:visible:last").addClass("lastOne")};b=1;break;case"Members":ns_moblib_util_managers.LayoutManager.SwitchProductOrClassificationFromMSH("Home","-1");initialiseInstantGamesController();oi=!0;break;default:n="Home";case"Home":ei=!0;pageType="Home";p="0";o.baseUrl=b365Mobile.navigation.getHomePagePath();o.appType=siteDataLocal.getItem("appType");o.appversion=siteDataLocal.getItem("appVersion");o.ct=sProps.sc.ct;+sProps.sc.ctg!=0&&(o.ctg=sProps.sc.ctg);+sProps.sc.cts!=0&&(o.cts=sProps.sc.cts);sProps.user.restrictedBettingEnabled&&(o.rbe="1");o.zid=sProps.ZoneID;o.cf=b365Mobile.utils.getValueFromCookie("aps03","cf");o.hd=b365Mobile.utils.getValueFromCookie("aps03","hd");o.clt="8881";o.apptype=siteDataLocal.getItem("appType");o.appversion=siteDataLocal.getItem("appversion");initialiseInstantGamesController();e=function(){window.homePageProcessed||LoadPushHomepagePods();window.homePageProcessed=!1;initAppSubScription();$(".eventWrapper").find(".podSplashRow:visible:last").addClass("lastOne")};b=1}!st&&"italyStreaming"in window&&window.italyStreaming&&window.italyStreaming.dispose();(typeof window.sidebarController!="undefined"||window.sidebarController!=null)&&window.sidebarController.stateChanged(n,p);o.lng=r?r:sProps.LangID;setTimeout(function(){b365Mobile.account.checkLoginStatus()},0);l=buildUrl(o);l.toLowerCase().indexOf("http")==0&&(document.location=l);n=="Coupon"&&(lt===!1&&(window.iscroller?(window.couponScrollerOffset=window.iscroller.x,window.iscroller=null):(d=$("#meetingTimes .scrollcontainer.horizontal"),d.length>0&&d[0].scrollLeft>=0&&(window.couponScrollerOffset=d[0].scrollLeft))),rt||(e=function(n){var i=window.siteDataSession.getItem("sessionTabId"),t,r;i!=""&&gotoMarketTab(i);(new CouponBetSelect).highlightSelectedBets();window.Tote&&window.Tote.createToteStorage(null,null);ot&&window.b365Mobile.coupon&&b365Mobile.coupon.refreshCouponState();n===!1&&(t=$("#meetingTimes .scrollNavButtonSelected[data-fallback]"),t.length>0&&(r=$(document.getElementById(t.attr("data-fallback"))),t.removeAttr("data-fallback"),r.removeClass("scrollNavButton").addClass("scrollNavButtonSelected"),t.removeClass("scrollNavButtonSelected").addClass("scrollNavButton")));couponController.initialise(document.getElementById("AutoRefInt").value,couponHistory,sProps,removeMainClickHandler,addMainClickHandler,virtualCouponHandler,function(){Overlay(0,undefined,undefined,undefined,!0)},SportsDataKeyParser,!0)},bi=new SportsDataKeyParser(t),v=bt||bi.get_isInplay()?function(){viewLoaded(n);unloadPageCss(c);window.podController&&(window.podController.dispose(),window.podController=null);siteViewController.setSiteForWideViewRestricted();siteDataSession.getItem("showLoginPopup")&&siteDataSession.getItem("showLoginPopup")==="true"&&(siteDataSession.setItem("showLoginPopup","false"),window.b365Mobile.account.isUserLoggedIn()===!1&&b365Mobile.account.logInPopUp())}:function(){var i=document.getElementById("LiveMatchAlertsMenu");viewLoaded(n);unloadPageCss(c);window.podController&&(window.podController.dispose(),window.podController=null);ns_moblib_util.SportsDataKey.CreateFromKey(t).tabId==KNOCKOUTTREE_TAB_ID&&ns_moblib_modulecontrollers.KnockoutTreeModuleController.Show(t,document.getElementById("Coupon"));siteViewController.setSiteForWideViewRestricted();i&&i.getAttribute("data-ss")&&i.getAttribute("data-ss")==="true"&&($(i).removeClass("Hidden"),$(i.parentElement).removeClass("Hidden"));siteDataSession.getItem("showLoginPopup")&&siteDataSession.getItem("showLoginPopup")==="true"&&(siteDataSession.setItem("showLoginPopup","false"),window.b365Mobile.account.isUserLoggedIn()===!1&&b365Mobile.account.logInPopUp());window.betDataHelper&&window.betDataHelper.loadJson(!1)}),b365.popups.unavailablePopupController.active&&b365.popups.unavailablePopupController.removePopup());u==3?Overlay(1,0):u!=2&&Overlay(1,1);h=function(t){var r=new SportsDataKeyParser(window.currentSDK),i,u;window.EventTimer&&window.EventTimer.Stop();e&&e(t);displayBetslip();window.sidebarController&&window.sidebarController.closeSidebar();window.EventTimer&&r.get_isVirtualRace()&&!r.get_isResults()&&window.EventTimer.Start();window.amon&&window.amon.restart();typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage?window.webkit.messageHandlers.callbackHandler.postMessage(["siteready"]):siteDataLocal.getItem("appType")=="iosapp"&&(i=document.createElement("script"),u=new Date,i.src="bet365://siteready/"+u.getTime(),document.head.appendChild(i),document.head.removeChild(i));initialiseInstantGamesController();n=="Home"&&(window.myBetsController&&window.editBetController&&window.editBetController.addSelectionsEnabled&&window.myBetsController.loadEditBetsPod(),window.instantGamesController&&window.instantGamesController.removeNodes())};pt=function(){return window.location.hash.indexOf("type=Members")===-1};n==="Splash"&&(o.cid==="2"||o.cid==="4"||o.cid==="88"||o.cid===ITALY_RACING_GROUP_CLASS_ID?ti=!0:o.cid==="144"||o.cid==="145"||o.cid==="146"||o.cid==="2019"||o.cid==="2020"?fi=!0:o.cid==="1"?vt=!0:rt||(ri=!0));loadPageCss(c,function(){var r=0,i="Main",e,u;yi?ajaxPost(y,v,i,l,r,f,h):oi?window.membersRedirect.loadIFrame(t):yt?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.ippg,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles],function(){loadTournament(y,v,i,l,r,h)},[],this):gt?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.ippg,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles],function(){loadSoccerCoupon(y,v,i,l,r,h,w)},[],this):vt?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.ippg,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles],function(){loadSoccerSplash(y,v,i,l,r,h)},[],this):ot?(u=[],u.push(window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles),e=h,st&&(i="RacingContainer",u.push(window.mobileLazyLoaders.lazyLoaderTypes.italyStreaming),e=function(n){h(n);"italyStreaming"in window&&window.italyStreaming&&italyStreaming.onNavigationChange()}),window.mobileLazyLoaders.addAndLoadFiles(u,function(){loadRacingCoupon(y,v,i,l,r,e,st)},[],this)):ti?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts],function(){loadRacingSplash(y,v,i,l,r,h)},[],this):ii?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.ippg,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles],function(){loadOtherSportsCoupon(y,v,i,l,r,h,w)},[],this):ri?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles],function(){loadOtherSportsSplash(y,v,i,l,r,h)},[],this):ui?(u=[],u.push(window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles),window.mobileLazyLoaders.addAndLoadFiles(u,function(){loadVirtualCoupon(y,v,i,l,r,h,n,c)},[],this)):fi?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles],function(){loadVirtualSplash(y,v,i,l,r,h,n,c)},[],this):rt?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadScripts,window.mobileLazyLoaders.lazyLoaderTypes.postSiteLoadStyles],function(){loadLotto(y,v,i,l,r,h,n,c)},[],this):si?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.homePageOffers],function(){b365.ExtraOffers&&(window.homePageExtraOffers.renderer=new b365.ExtraOffers);ajaxGet(y,v,i,l,r,h)},[],this):ei?window.homePageProcessed?(Overlay(0,0,undefined,undefined,!0),h(),addMainClickHandler(),bsApp&&bsApp.updateBetslipBar(bsApp.betCount)):b365.homePageContentLoader.getDataAsync(function(n){n?window.mobileBusinessRules.supportsHomePagePreLoad()?(Overlay(0,0,undefined,undefined,!0),h(),addMainClickHandler()):setTimeout(function(){Overlay(0,0,undefined,undefined,!0);h();addMainClickHandler();bsApp.updateBetslipBar(bsApp.betCount)},1e3):ajaxGet(y,v,i,l,r,h,pt)}):mobileBusinessRules.usePrematchHandlers()?(window.prematchHandlers=new b365.PrematchHandlers,ajaxGet(y,v,i,l,r,h)):ajaxGet(y,v,i,l,r,h,pt)})}function displayBetslip(){!window.bsApp||siteDataSession.getItem("showBetSlip")!="true"||window.quickBetController&&window.quickBetController.overrideBetslip||(siteDataSession.setItem("showBetSlip",!1),window.bsApp.dialogueController&&window.bsApp.getBetCount(window.bs)>0&&!window.bsApp.hasPhoneOnlyItemOnSlip()&&!(window.quickBetController&&window.quickBetController.isVisible)&&window.setTimeout(function(){window.overlay(1,1);window.scrollToTop();window.bsApp.refreshSlip()},500))}function LoadMembersRedirect(){(typeof window.membersRedirect=="undefined"||window.membersRedirect==null)&&(window.membersRedirect=new b365.MembersRedirect)}function LoadMessageBrokers(){window.messageBrokers||(window.messageBrokers={});(typeof window.messageBrokers.messageBroker=="undefined"||window.messageBrokers.messageBroker==null)&&(window.messageBrokers.messageBroker=new b365.MessageBroker);(typeof window.messageBrokers.userBalanceBroker=="undefined"||window.messageBrokers.userBalanceBroker==null)&&(window.messageBrokers.userBalanceBroker=new b365.UserBalanceBroker);(typeof window.messageBrokers.siteSuppressionBroker=="undefined"||window.messageBrokers.siteSuppressionBroker==null)&&(window.messageBrokers.siteSuppressionBroker=new b365.SiteSuppressionBroker);(typeof window.messageBrokers.sportsNavBroker=="undefined"||window.messageBrokers.sportsNavBroker==null)&&(window.messageBrokers.sportsNavBroker=new b365.SportsNavBroker);(typeof window.messageBrokers.iframeMessageBroker=="undefined"||window.messageBrokers.iframeMessageBroker==null)&&(window.messageBrokers.iframeMessageBroker=new b365.IFrameMessageBroker);(typeof window.messageBrokers.inactivityResetBroker=="undefined"||window.messageBrokers.inactivityResetBroker==null)&&(window.messageBrokers.inactivityResetBroker=new b365.InactivityResetBroker);(typeof window.messageBrokers.pageScrollBroker=="undefined"||window.messageBrokers.pageScrollBroker==null)&&(window.messageBrokers.pageScrollBroker=new b365.PageScrollBroker);(typeof window.messageBrokers.applepayBroker=="undefined"||window.messageBrokers.applepayBroker==null)&&(window.messageBrokers.applepayBroker=new b365.ApplepayBroker);window.messageBrokers.googlepayBroker||(window.messageBrokers.googlepayBroker=new b365.GooglepayBroker)}function LoadPushHomepagePods(){var r=document.getElementsByClassName("homePagePod"),t,n,i;for(window.podController||(window.podController=new PodController),t=0;t<r.length;t++){t==4&&Locator.validationManager.processValidationCycleNow();n=r[t];i=n.className;switch(n.id){case"InPlayPodContainer":window.podController.ShowInPlayPod(n);inPlayPod=null;continue;case"BettingBannerContainer":window.podController.ShowBettingBannerPod(n);continue;case"HeroContainer":window.podController.ShowHeroPod(n);continue;case"GamingLinksContainer":window.podController.ShowGamingPod(n);continue;case"InstantGamesContainer":window.instantGamesController&&window.instantGamesController.supportsInstantGames()&&window.podController.ShowInstantGamesPod(n);continue;case"HighlightsMainContainer":window.podController.ShowHighlightsMainPod(n);continue;case"AusInPlayPodContainer":window.podController.ShowAusInPlayPod(n);continue}if(i.indexOf("RunnersPodContainerPlaceholder")>-1){window.podController.ShowRunnersPod(n);continue}else if(i.indexOf("ff-Container")>-1){window.podController.ShowFeaturedFixturePod(n);continue}else if(i.indexOf("RaceRibbonContainer")>-1){window.podController.ShowRaceRibbonPod(n);continue}else if(i.indexOf("hp-PromotedCouponsContainer")>-1){window.podController.ShowPromotedCouponsPod(n);continue}}window.podController.Completed()}function LoadPushFeatureFixturePods(){for(var t=document.getElementsByClassName("ff-Container"),n=0;n<t.length;n++)window.podController||(window.podController=new PodController),window.podController.ShowFeaturedFixturePod(t[n])}function LoadPushGamingPod(){var n=document.getElementById("GamingLinksContainer");n&&(window.podController||(window.podController=new PodController),window.podController.ShowGamingPod(n),n=null)}function LoadPushInstantGamesPod(){var n=document.getElementById("InstantGamesContainer");n&&(window.podController||(window.podController=new PodController),window.podController.ShowInstantGamesPod(n),n=null)}function hideBetslipForLotto(){window.bsApp.betCount>0&&(window.mobileBusinessRules.clientEnhancedMode()?window.betslipTabController.hide():$("#betslipBar").hide())}function loadRacingCoupon(n,t,i,r,u,f,e){var c=n,h,p=t,l=i,a=r,v=u,y=f,s,o;h=function(){var t=document.getElementById("VLink"),u,f,r;if(b365Mobile.navigation.isStreamToPlay&&b365Mobile.navigation.isStreamToPlay()&&t&&(b365Mobile.navigation.turnOffStreamStatus(),processNav(t)),t&&t.className.indexOf("watch")>-1&&(u=t.getAttribute("data-paddock"),f=t.getBoundingClientRect(),u&&u==="1"&&f.width!=0&&f.height!=0&&b365Mobile.InPlayEventView.displayPaddockStreamAvailableMessage(t)),window.location.hostname.split(".").pop()!=="au"||!window.b365Mobile.account.isUserLoggedIn()&&sProps.ISOCode!=="AU"||window.b365Mobile.account.isUserLoggedIn()&&sProps.sc.ct!=="13"){var n=$(".RacingCoupon.V6"),i=Locator.languageResource;n&&($('.section-lines-container[data-plbtid="20205"] .Odds',n).text(i.getValue("Win")),$('.section-lines-container[data-plbtid="20206"] .Odds',n).text(i.getValue("Place")),$('.section-lines-container[data-plbtid="40234"] .Odds',n).text(i.getValue("Win")),$('.section-lines-container[data-plbtid="40235"] .Odds',n).text(i.getValue("Place")),$('.section-lines-container[data-plbtid="880205"] .Odds',n).text(i.getValue("Win")),$('.section-lines-container[data-plbtid="880206"] .Odds',n).text(i.getValue("Place")));n=null}r=$(".RacingCoupon.V6 .offerText");r&&r[0]&&(!(Number(r[0].getAttribute("data-ef"))&Number(sProps.user.offerType))||r.text(""));r=null;b365Mobile.Racing.couponInit();b365Mobile&&b365Mobile.Racing&&b365Mobile.Racing.highLightResults&&b365Mobile.Racing.highLightResults();p()};e&&(o=document.getElementById("RacingContainer"),o||(s=document.getElementById("Main"),s&&(s.innerHTML="",o=document.createElement("div"),o.id="RacingContainer",s.appendChild(o))));mobileBusinessRules.usePrematchHandlers()?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.matchLiveGlobal],function(){window.prematchHandlers=new b365.PrematchHandlers;ajaxGet(c,h,l,a,v,y)},[],this):window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.matchLiveGlobal],function(){ajaxGet(c,h,l,a,v,y)},[],this)}function loadRacingSplash(n,t,i,r,u,f){var e,o,s=t,h=i,c=r,l=u,a=f;e=function(){window.EventTimer.Start();b365Mobile.Racing.restrictClicksOnSection();b365Mobile.Racing.next3RacesRefresh(sProps.LangID,b365Mobile.hash.getCurrentClassificationId(),sProps.ot);onAjaxResponse("?")};o=function(){var t,i,r,n;if(window.mobileBusinessRules.racingSplashIScroll()&&window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.iScroll],function(){b365Mobile.Racing.applyIScrollForSplash()}),window.mobileBusinessRules.racingSplashDisplayWatchYourLiveRacesSection()===!1&&(t=document.getElementsByClassName("watchYourLiveRaces")[0],t&&t.className.indexOf(" hidden")==-1&&(t.className=t.className+" hidden")),window.mobileBusinessRules.racingSplashDisplayNextThreeRacesSection()===!1&&(i=document.getElementsByClassName("Next3Races")[0],i&&i.className.indexOf(" hidden")==-1&&(i.className=i.className+" hidden")),r=document.getElementsByClassName("topCoupon")[0],r){var e=function(n){for(var i=n.attributes.length,t=0;t<i;t++)if(n.attributes[t].name==="data-ef")return n.attributes[t].value},u=r.getElementsByClassName("podSplashRow"),o=u.length,f=0;for(n=0;n<o;n++)u[n].className.indexOf("empty")!=-1||ns_gen5_util.PromotionalFilter.IsExcludedFromPromotion(e(u[n]))||(u[n].className=u[n].className.replace("podSplashRow_Hidden",""),f++);f>0&&(r.className=r.className.replace("hidden",""))}s()};ajaxGet(e,o,h,c,l,a)}function loadSoccerCoupon(n,t,i,r,u,f,e){var s=n,o,h=t,c=i,l=r,a=u,v=f;window.UserTeamPreferences=new b365Mobile.TeamUserPreference(window.userPrefs);o=function(){h();b365Mobile.IPPGController||(b365Mobile.IPPGController=new b365.IPPGController(e))};ajaxGet(s,o,c,l,a,function(){OnLoadSoccerCouponComplete(v)})}function OnLoadSoccerCouponComplete(n){var i,r,t;n&&n();window.statsManager||(window.statsManager=new StatsManager);window.statsManager.insertStatsData();i=document.getElementById("LeagueTableData");i&&window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.v6CouponLeagueTable],function(){b365Mobile.LeagueTable.Load(i)},[],this);r=document.getElementsByClassName("tc-TeamsCoupon")[0];b365Mobile.leagueTeams&&r&&(t=new CouponKey(currentSDK).teamId+"",t||(t=b365Mobile.leagueTeams.getSelectedTeam()),b365Mobile.leagueTeams.initialiseTeamPicker(t,!1));LoadBetBuilder()}function loadSoccerSplash(n,t,i,r,u,f){var e=n,o=t,s=i,h=r,c=u,l=f;window.UserTeamPreferences=new b365Mobile.TeamUserPreference(window.userPrefs);ajaxGet(e,o,s,h,c,l)}function loadOtherSportsCoupon(n,t,i,r,u,f,e){var s=n,o,h=t,c=i,l=r,a=u,v=f;o=function(){h();b365Mobile.IPPGController||(b365Mobile.IPPGController=new b365.IPPGController(e))};ajaxGet(s,o,c,l,a,function(){OnLoadOtherSportCouponComplete(v)})}function OnLoadOtherSportCouponComplete(n){n&&n();var t=document.getElementById("LeagueTableData");t&&window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.v6CouponLeagueTable],function(){b365Mobile.LeagueTable.Load(t)},[],this)}function loadOtherSportsSplash(n,t,i,r,u,f){var e=n,o=t,s=i,h=r,c=u,l=f;ajaxGet(e,o,s,h,c,l)}function loadVirtualCoupon(n,t,i,r,u,f,e,o){var c=n,h,s=i,l=r,a=u,v=f,p=e,y=o;h=function(){var n=typeof s=="object"?s:document.getElementById(s),i=n.innerHTML;viewLoaded(e);unloadPageCss(y);(typeof window.virtual=="undefined"||window.virtual==null)&&(window.virtual=new b365.VirtualController);(typeof window.virtualClock=="undefined"||window.virtualClock==null)&&(window.virtualClock=new b365.VirtualClock);window.virtualClock.start();window.virtual.initializeTabStrips();window.virtual&&window.virtual.couponTabProcessor();window.betDataHelper&&window.betDataHelper.loadJson(!1);var t=document.getElementById("VLink"),r=t.dataset.stpid,u="no-sp-"+r;document.getElementsByClassName(u).length<1&&processStream(t);n=null;i=null};window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.v6CSS,window.mobileLazyLoaders.lazyLoaderTypes.couponCode,window.mobileLazyLoaders.lazyLoaderTypes.v6Racing,window.mobileLazyLoaders.lazyLoaderTypes.v6Virtuals],function(){ajaxGet(c,h,s,l,a,v)},[],this)}function loadVirtualSplash(n,t,i,r,u,f,e,o){var h=n,s,c=i,l=r,a=u,v=f,y=e,p=o;s=function(){viewLoaded(y);unloadPageCss(p);(typeof window.virtual=="undefined"||window.virtual==null)&&(window.virtual=new b365.VirtualController)};window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.v6CSS,window.mobileLazyLoaders.lazyLoaderTypes.couponCode,window.mobileLazyLoaders.lazyLoaderTypes.v6Racing,window.mobileLazyLoaders.lazyLoaderTypes.v6Virtuals],function(){ajaxGet(h,s,c,l,a,v)},[],this)}function loadLotto(n,t,i,r,u,f,e,o){var s,h,c=i,l=r,a=u,v=f,p=e,y=o;window.mobileBusinessRules.usePodContentScroller()?(s=function(){onAjaxResponse("?");hideBetslipForLotto()},h=function(){viewLoaded(p);unloadPageCss(y);new b365Mobile.PodContentScroller("div.v6-pod.draw-section.start",".irish-container","nthChild",window.device.iosDevice,parseFloat(window.device.osVersion)<6);window.lottoGameInstance=window.RegisterLottoEventHandlers()},window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.v6CSS,window.mobileLazyLoaders.lazyLoaderTypes.couponCode,window.mobileLazyLoaders.lazyLoaderTypes.podContentScroller,window.mobileLazyLoaders.lazyLoaderTypes.lotto],function(){ajaxGet(s,h,c,l,a,v)},[],this)):(s=function(){onAjaxResponse("?");hideBetslipForLotto()},h=function(){viewLoaded(e);unloadPageCss(y);window.lottoGameInstance=window.RegisterLottoEventHandlers()},window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.v6CSS,window.mobileLazyLoaders.lazyLoaderTypes.couponCode,window.mobileLazyLoaders.lazyLoaderTypes.lotto],function(){ajaxGet(s,h,c,l,a,v)},[],this))}function loadTournament(n,t,i,r,u,f){var o=n,e,s=t,h=i,c=r,l=u,a=f;e=function(){var n,t;a();(typeof window.tournament=="undefined"||window.tournament==null)&&(window.tournament=new b365.TournamentController);window.statsManager||(window.statsManager=new StatsManager);window.statsManager.insertStatsData();document.getElementById("TournamentMenu")&&(window.tournament.initializeMenuScroller(),n=document.getElementsByClassName("trn-MenuItem_Selected")[0],n&&(window.tournament.animateSelectedTabIndicator(n,"TournamentSelectedItemIndicator"),n.id=="TournamentMenuItem_3"?window.tournament.initializeTeamPickerScroller():n.id=="TournamentMenuItem_5"?window.tournament.loadGroups():n.id=="TournamentMenuItem_14"&&window.tournament.loadKnockout()));(new CouponBetSelect).highlightSelectedBets();couponController.initialise(document.getElementById("AutoRefInt").value,couponHistory,sProps,removeMainClickHandler,addMainClickHandler,virtualCouponHandler,function(){Overlay(0,undefined,undefined,undefined,!0)},SportsDataKeyParser,!0);t=1;s();b365Mobile.IPPGController||(b365Mobile.IPPGController=new b365.IPPGController(t))};ajaxGet(o,e,h,c,l,null)}function LoadBetBuilder(){var n=currentSDK.split("-"),t=n[9]==="99"&&n[1]==="1"&&n[2]==="8"&&pageType==="Coupon";t&&LoadBetBuilderModule(currentSDK)}function LoadBetBuilderModule(n){var u=n.split("-"),e=u[0],f=u[3],i="",t=new window.Hash(window.location.hash),r;if((t.Type==="Coupon"||t.Type==="MarketCount")&&t.Key!==n){t.Key=n;window.updateHash(t,!1);return}document.getElementById("breadcrumbFixture")?i=document.getElementById("breadcrumbFixture").innerText:document.querySelector(".scn-HeaderNavigation_BreadcrumbLevel3")&&(i=document.querySelector(".scn-HeaderNavigation_BreadcrumbLevel3").innerText);r=document.getElementById("matchBettingCouponContent");r.innerHTML="";ns_moblib_modulecontrollers.BetBuilderModuleController.LoadBBM(e,"",f,f,r,i);currentTitle="BetBuilderModule"}function processStream(n){var t=!0,r=new ns_gen5_util.Delegate(b365Mobile.InPlayEventView,b365Mobile.InPlayEventView.showInlineVideo),i=n.getAttribute("data-cid"),u=i==ITALY_HORSE_RACING_CLASS_ID||i==ITALY_TROTTING_CLASS_ID;if(u){getLanguages(function(){var t;n&&(n.setAttribute("data-nav","StopStream"),n.className=n.className+" playing",n.innerHTML=n.getAttribute("data-done"),t=n.getAttribute("data-mediaid"));window.italyStreaming=new ItalyStreamingUI;italyStreaming.createChildren()});return}isPaddockStreaming=!1;n&&n.className.indexOf("video")>-1&&(paddockAttribute=n.getAttribute("data-paddock"),paddockAttribute&&paddockAttribute==="1"&&(t=!1));t&&(b365Mobile.InPlayEventView.showInlineVideoLoading(),preventFullScreen=window.mobileBusinessRules.preventFullScreenChecks(),paddockAttribute=n.getAttribute("data-paddock"),paddockAttribute&&paddockAttribute==="1"&&(isPaddockStreaming=!0),StreamVideo(n.getAttribute("data-cid"),n.getAttribute("data-mediaid"),n.getAttribute("data-fixid"),n.getAttribute("data-stpid"),$(n).hasClass("watch"),preventFullScreen,r,isPaddockStreaming))}function processNav(n){var o,s,r,h=!1,c=!0,i,t,f,u,l,e,a,v;if(siteViewController.isWideView&&(b365Mobile.popupManager&&b365Mobile.popupManager.hideAllPopups(n),sProps.deviceId&&window.b365Sport&&window.b365Sport.LiveMatchAlert&&window.b365Sport.LiveMatchAlert.IsSingleMenuOpen())){window.b365Sport.LiveMatchAlert.SingleMenuClose();return}if(n!==null&&typeof n!="undefined"){typeof n!="string"&&n.hasAttribute("data-externallinktype")&&n.className.indexOf("home")>-1&&(n.className=n.className.replace("home","homeActive"));t=typeof n=="string"?n:n.getAttribute("data-nav")||n.getAttribute("data-externallinktype")||"";switch(t){case"BetBuilderModule":LoadBetBuilderModule(n.getAttribute("data-sportskey"));b365Mobile.coupon.processCouponTabs(n);break;case"VirtualSports":window.virtual.navigation(n);break;case"statsIcon":window.statsManager.statsIconClicked(n);break;case"updateLater":b365Mobile.appUpdatePopup.updateLaterHandler();break;case"updateNow":b365Mobile.appUpdatePopup.updateAndroidAppHandler();break;case"continueToBrowser":b365Mobile.appUpdatePopup.continueToBrowserHandler();break;case"noClick":break;case"back":currentTitle=t;goBack();break;case"InPlay":i=n.getAttribute("data-cid");f=n.getAttribute("data-tid");pageType=="Home"&&(n.className=n.className.replace("home","homeActive"));i?newPage("InPlay",i,!0,sProps.LangID):f?newPage("Coupon",f,!0,sProps.LangID):newPage("InPlay","",!0,sProps.LangID);break;case"StreamCoupon":b365Mobile.navigation.openStreamCoupon(n);break;case"couponLink":b365Mobile.navigation.openCoupon(n);break;case"tournamentMatchesLink":(typeof window.tournament=="undefined"||window.tournament==null)&&(window.tournament=new b365.TournamentController);b365Mobile.tournamentHistory==undefined&&(b365Mobile.tournamentHistory=new b365Mobile.TournamentHistory);window.tournament.loadMatchesFromCoupon(n);break;case"breadcrumbLink":b365Mobile.navigation.openCouponFromBreadcrumb(n);break;case"Home":newPage("Home","",!0,sProps.LangID);break;case"Splash":n.className.indexOf("iconBox")!==-1&&(n.className=n.className+" iconHover");b365Mobile.navigation.goToSplashPage(n);break;case"InstantGame":i=n.getAttribute("data-cId");i&&i.length>0&&window.instantGamesController.launchGame(i,null,"1");break;case"SplashSection":b365Mobile.splash.toggleSplashSection(n);break;case"SplashRaceDay":b365Mobile.splash.selectRaceDay(n);break;case"OutrightSection":b365Mobile.splash.toggleOutrightSection(n);break;case"MyTeamSection":b365Mobile.splash.toggleMyTeamSection(n);break;case"MyBets":newPage("MyBets","",!1,sProps.LangID);break;case"LogInPopUp":b365Mobile.account.logInPopUp();break;case"LogInFromBetSlip":bsApp.dialogueController&&bsApp.dialogueController.active()&&bsApp.dialogueController.resetAndShowBar(!1);scrollToTop();b365Mobile.account.logInPopUp();break;case"MembersDeposit":window.membersRedirect.redirect("deposit");break;case"MyTeamsShowMore":b365Mobile.splash.myTeamsShowMore(n);break;case"LogInUserFromPopUp":b365Mobile.account.logInProcess();break;case"LostLogInFromPopUp":window.membersRedirect.redirect("lostlogin");break;case"LogInContinue":RemovePopupBoxElement();b365Mobile.alternativeAuth.initalise();siteDataSession.setItem("showBetSlip",!0);displayBetslip();ns_moblib_pushmessage.PushMessageController.Initialize();sProps.user.membersNotificationsRequired&&window.membersRedirect.loadIFrame("membersnotifications",!0);siteDataSession.setItem("initializeInstantGames",!0);window.instantGamesController&&window.instantGamesController.setState();break;case"LogIn":newLoginPage();break;case"LogInTogglePassword":b365Mobile.account.loginTogglePassword();break;case"ToggleKMLCheckbox":b365Mobile.account.loginToggleKMLCheckbox();break;case"LogInUserNameClear":b365Mobile.account.loginClearUserName();break;case"LogInPasswordClear":b365Mobile.account.loginClearPassword();break;case"Members":window.membersRedirect.redirect("members");break;case"Join":b365Mobile.account.joinNow();break;case"Deposit":window.membersRedirect.redirect("deposit");break;case"RefreshSiteAndDeposit":window.membersRedirect.redirect("deposit",null,!0);break;case"Preferences":preferencesLinkAction(n);break;case"ContactUs":newPage("ContactUs","",!1,sProps.LangID);break;case"Probability":newPage("Probability","",!1,sProps.LangID);break;case"PrefsDone":refreshPrefsPage();break;case"Close":if(n.id==="liveMatchAlertDialogClose"&&b365Sport.LiveMatchAlert.DialogClose(),u=$("#bsDiv"),closelogInPopUp(),bsApp.bsController._bsInst.unlock(),bsApp.dialogueController&&(bsApp.dialogueController.restoreButtonContent(),bsApp.dialogueController.active()))$("#betSlipOverlay").css("z-index","60").off("click.betSlipOverlay").on("click.betSlipOverlay",$.proxy(bsApp.dialogueController.closeBetslipResetAndShowBar,bsApp.dialogueController));!bsApp.dialogueController||bsApp.dialogueController.active()||$("#bsDiv").hasClass("receipt")||bsApp.setBetslipBarDisplay();window.bsApp.bsContext.ClientEnhancedMode()&&(($("li",u).hasClass("disableBetSlip")||$("li",u).hasClass("disabledBetSlip"))&&(l=$('li[data-item-type$="multiple"], li[data-item-type$="single"], li[data-item-type$="cast"], li[data-item-type$="tote-single"], li[data-item-type$="tote-cast"], li[data-item-type$="tote-pot"], li[data-item-type$="tote-pot-leg"]',u),bsApp.bsController._enhancedBetSlipAnimations.enableBetSlip(l,u)),bsApp.bsController._stakeEntryHander&&bsApp.bsController._stakeEntryType==bsApp.bsController._stakeEntryTypes.stakePad&&bsApp.bsController._stakeEntryHander.reenable(bsApp.bsController._stakeEntryHander));break;case"JoinNow":window.membersRedirect.redirect("join");break;case"Continue":popUpContinueAction();break;case"LogOut":b365Mobile.account.logOut();break;case"StayLoggedIn":touchSession();break;case"ChangeSessionTimeout":changeSessionTimeout();break;case"Cancel":newPage("Home","",!0,sProps.LangID);break;case"Stream":processStream(n);break;case"StreamInline":n&&n.className.indexOf("video")>-1&&(r=n.getAttribute("data-paddock"),r&&r==="1"&&(c=!1));c&&(b365Mobile.InPlayEventView.showInlineVideoLoading(),o=new ns_gen5_util.Delegate(b365Mobile.InPlayEventView,b365Mobile.InPlayEventView.showInlineVideo),s=!0,r=n.getAttribute("data-paddock"),r&&r==="1"&&(h=!0),StreamVideo(n.getAttribute("data-cid"),n.getAttribute("data-mediaid"),n.getAttribute("data-fixid"),n.getAttribute("data-stpid"),$(n).hasClass("watch"),s,o,h));break;case"StopStream":b365Mobile.InPlayEventView.stopInlineVideo();"italyStreaming"in window&&window.italyStreaming&&window.italyStreaming.dispose();break;case"AudioMenu":showAudioMenu(t);break;case"LiveMatchAlert":window.b365Sport&&window.b365Sport.LiveMatchAlert&&(e=n.getAttribute("data-subnav")||"",e!==""&&b365Sport.LiveMatchAlert.processNav(n,e));break;case"CouponMarketPopOut":b365Mobile.coupon.toggleChangeMarketMenu(n);break;case"closeChangeMarketMenu":b365Mobile.coupon.closeChangeMarketMenu();break;case"changeMarketMenuLevelLink":b365Mobile.coupon.openChangeMarketMenuLevel(n);break;case"couponSection":b365Mobile.coupon.toggleSection(n);break;case"tournament":a=n.getAttribute("data-cId");newPage("Tournament",a,!1,sProps.LangID,1);break;case"tournamentPartial":window.tournament.navigation(n);break;case"teamFixtureSection":b365Mobile.navigation.toggleTeamFixtureSection(n);break;case"tab":b365Mobile.coupon.processCouponTabs(n);break;case"splashTab":b365Mobile.splash.splashTabClick(n);break;case"team":b365Mobile.leagueTeams.openTeamCoupon(n);break;case"LeaguesPopOut":b365Mobile.leagueTeams.toggleLeaguesPopUp();break;case"closeLeaguesPopUp":b365Mobile.leagueTeams.toggleLeaguesPopUp();break;case"toggleTeamFav":b365Mobile.leagueTeams.toggleFavourite(n);break;case"showMyTeams":b365Mobile.leagueTeams.showMyTeams();break;case"showLeague":b365Mobile.leagueTeams.showLeague();break;case"WinPlace":b365Mobile.coupon.toggleWinPlace(n);break;case"Gioco":newPage("ResponsibleGambling","",!1,sProps.LangID);break;case"offerLink":b365Mobile.navigation.offerLink(n);break;case"productLink":b365Mobile.navigation.productLink(n);break;case"Next3RacesSlidePod":b365Mobile.Racing.moveNext3RacesPod(n);break;case"R4Button":b365Mobile.rule4.togglePopup(n);break;case"R4ButtonClose":b365Mobile.rule4.hidePopup(n);break;case"TogglePopup":b365Mobile.coupon.toggleMenu(n);break;case"EnhancedMenu":b365Mobile.navigation.toggleEnhancedMenu(n);break;case"EnhancedMenuLink":b365Mobile.navigation.openEnhancedMenuLevel(n);break;case"Switcher":b365Mobile.coupon.toggleSwitcher(n);break;case"RaceForm":b365Mobile.Racing.showHideForm(n);break;case"msh-CouponRowHorses_ExpandRow":b365Mobile.Racing.showHideSingleRow(n);break;case"msh-RacingPodHeader_ToggleFilter":b365Mobile.Racing.toggleFilter(n);break;case"NestedCouponSection":b365Mobile.Racing.openNestedRacingMarket(n);break;case"ToteDesc":window.b365Mobile.Racing.showToteDesc(n);break;case"EnhancedDesc":b365Mobile.Racing.showEnhancedDesc(n);break;case"PricePromiseDesc":b365Mobile.Racing.showPricePromiseDesc(n);break;case"PricePromiseDescCoupon":b365Mobile.Racing.showPricePromiseDesc(n,!0);break;case"ToggleEnhanced":b365Mobile.Racing.toggleEnhanced(n);break;case"selectCouponSortColumn":b365Mobile.Racing.selectCouponSortColumn(n);break;case"MultiLegSelect":b365Mobile.Racing.selectMultiBetV6(n);break;case"showMoreScorers":b365Mobile.coupon.showMoreLines(n);break;case"bet365Apps":newPage("bet365Apps","",!1,sProps.LangID);break;case"WatchLiveRacesSection":b365Mobile.Racing.getWatchYourLiveRacesContent(n);break;case"toggleOthersOnRequest":b365Mobile.coupon.toggleOthersOnRequest(n);break;case"selectRacingMarketGroup":b365Mobile.coupon.selectRacingMarketGroup(n);break;case"selectItalianExoticsHeaderItem":window.b365Mobile.ItalianExotics.selectMainHeaderItem(n,!0);break;case"selectItalianExoticsSubHeaderItem":window.b365Mobile.ItalianExotics.selectSubHeaderItem(n,!0);break;case"ItalianExoticsSelection":window.b365Mobile.ItalianExotics.selectionClicked(n);break;case"toggleRaceFormMoreInfoButton":b365Mobile.Racing.toggleRaceFormMoreInfoButton(n);break;case"showHideSingleRacingFormElem":b365Mobile.Racing.showHideSingleRacingFormElem(n);break;case"toggleStableReportToolTip":b365Mobile.Racing.toggleStableReportToolTip(n);break;case"KnockoutTree":b365Mobile.navigation.openCoupon(n);break;case"ItalianMeetingSwitcher":b365Mobile.coupon.toggleMeetingSwitcher(n);break;default:t.indexOf("pt=")==0&&$(n).hasClass("Selected")?bsApp.deleteBet(t,n):t.indexOf("pom")>-1?window.mobileBusinessRules.canSupportBetCall()&&Locator.pushedConfig.getIsBetCallAvailable()?bsApp.addBet(t,n):bsApp.phoneBet(t):t.indexOf("pt=")==0?bsApp.addBet(t,n):t.indexOf("rw_")==0||t.indexOf("mt_")==0||t.indexOf("cp_")==0?openCoupon(n):t.indexOf("a_")==0?homePageExternalLink(t):t.indexOf("sc_")==0?toggleSplashSection(t):t.indexOf("div_")==0?couponSectionToggleDiv(t):t.indexOf("divScorecast_")==0?openScorecast(n):t.indexOf("tab;")==0?couponTabs(t):t.indexOf("ADDFCTC")==0?new CouponCastBet(n).addBet():t.indexOf("sport_")==0?goToSplash(t):t.indexOf("coupon")==0?hotspotCoupon(t):t.indexOf("mb_")==0?openMoreBets(t):t.indexOf("raceMeetingBtn")==0?b365Mobile.Racing.showHideRaceMeeting():t.indexOf("LogOut_")==0?b365Mobile.account.logOut():b365Mobile.Racing&&b365Mobile.Racing.isCastSection(t)||t.indexOf("MOREMARKETS_Sct")==0||t.indexOf("EXOTICS_Sct")==0?toggleCastSection(t):t.indexOf("ContactUs")==0?newPage("ContactUs","",!1,sProps.LangID):t.indexOf("aClass_")==0?audioMenuClassificationClick(t):t.indexOf("aEvent")==0?audioMenuMediaEventClick(n):t.indexOf("leg;")==0?Tote.couponLegs(t):t.indexOf("option;")==0?b365Mobile.Racing.racingOption(t):t.indexOf("ADDTOTE")==0?Tote.placeToteBets(t,n):t.indexOf("tournament")==0?newPage("Tournament",t.split("_")[1],!1,sProps.LangID):v=0}}}function preferencesLinkAction(){b365Mobile.account.isUserLoggedIn()?window.membersRedirect.redirect("Preferences"):newPage("Preferences","",!1,sProps.LangID)}function isSectionOpen(n){var t,i=!0;return n&&(t=n.innerHTML.trim().length,i=t==0||n.style.display!="none"?!1:!0),i}function hotspotCoupon(n){cpn=n.split(",");newPage("Coupon",cpn[1],!1,sProps.LangID)}function navToExternal(n){var t;if(n){if(window.editBetController&&window.editBetController.addSelectionsEnabled===!0&&!window.editBetController.skipNavCheck){t=function(){window.location.href=n};window.editBetController.showNavMessage(t);return}window.location.href=n}}function sectionClick(n,t,i,r,u,f){gotoSection(n,t,i,r,null,u,f)}function gotoSection(n,t,i,r,u,f,e){var w=!0,l,c,v,k,d,g;typeof f=="undefined"||(w=f);l=!0;typeof e=="undefined"||(l=e);var s=document.getElementById(n),o=document.getElementById(t),nt=o.innerHTML.trim().length,b,a=s.className.split(" "),rt=s.getAttribute("data-displaystate"),tt=a.length,h="",y="",p="",it=b365Mobile.section.isSectionOpen(s);for(c=0;c<tt;c++)v=a[c].toLowerCase(),v=="sctopen"||v=="sctclosed"||v=="sctactive"?(h+=" SctOpen",y+=" SctClosed",p+=" SctActive"):(h+=" "+a[c],y+=" "+a[c],p+=" "+a[c]);o&&(b=o.style.display.length==0||o.style.display=="block"?l?0:1:l?1:0);it===!0?s.setAttribute("data-displaystate","closed"):s.setAttribute("data-displaystate","open");o!=null&&(k=h,b==0&&l?(s.className=y,o.style.display="none"):(k=h,nt!=0&&l?(s.className=h,o.style.display="block"):(d=w==!1?function(){s.className=h}:function(){s.className=p},g=function(){o.style.display="block";s.className=h;var n=document.createElement("div");n&&o&&(n.style.display="none",o.appendChild(n),b365Mobile.footer.setFooter(),window.Tote&&window.Tote.createToteStorage(null,o))},ajaxPost(d,g,o.id,i,null,u,null,null,f))));b365Mobile.footer.setFooter()}function tabClick(n,t,i){$("#Coupon.tabbedCoupon").length>0?gotoMarketTab(t):gotoTab(n,t,i)}function gotoMarketTab(n){var i=$("#"+n);if(i.length!=0){var u=document.getElementsByClassName("Section"),f,r,o,s,h=i.attr("data-target").split("_")[1],a=document.getElementsByClassName("fullList").length>0,c,t,e,l;if(i.hasClass("enhancedTab")||i.hasClass("enhancedTabSelected")?(i.siblings(".enhancedTabSelected").removeClass("enhancedTabSelected").addClass("enhancedTab"),i.removeClass("enhancedTab").addClass("enhancedTabSelected")):(i.siblings(".scrollNavButtonSelected").removeClass("scrollNavButtonSelected").addClass("scrollNavButton"),i.removeClass("scrollNavButton").addClass("scrollNavButtonSelected")),u.length==0){if($("[data-plbtid]").addClass("Hidden"),$("[data-plbtid='"+h+"']").removeClass("Hidden"),f=$(".enhancedPod"),f.length>0)for(t=0,e=f.length;t<e;t++)r=$(f[t]),o=r.find("> .podEventRow"),s=r.find("> .podEventRow.Hidden"),o.length>0&&s.length>0?o.length==s.length?r.addClass("Hidden"):r.removeClass("Hidden"):r.removeClass("Hidden")}else if($("[data-plbtid]").addClass("hiddenTabbedMarket").removeClass("visibleTabbedMarket"),c=$("[data-plbtid='"+h+"']"),c.removeClass("hiddenTabbedMarket").addClass("visibleTabbedMarket"),a)for(t=0,e=u.length;t<e;t++)l=u[t].getElementsByClassName("visibleTabbedMarket"),l.length==0?$(u[t]).addClass("hidden"):$(u[t]).removeClass("hidden")}}function gotoTab(n,t,i){for(var u=document.getElementById(t),h=u.innerHTML.trim().length,e=b365Mobile.utils.getElementsByClass("CouponSection"),f=document.getElementsByTagName("li"),c=f.length,o,s,r=0;r<c;r++)f[r].getAttribute("data-nav")&&f[r].getAttribute("data-nav").indexOf("tab;")==0&&(f[r].id==n?f[r].setAttribute("class","scrollNavButtonSelected"):f[r].setAttribute("class","scrollNavButton"));for(o=e.length,r=0;r<o;r++)e[r].id==u?e[r].setAttribute("style","display:block;"):e[r].setAttribute("style","display:none;");u&&u.style.display.length==0||u.style.display=="block"?u.style.display="none":(u&&(u.style.display="block"),h==0&&(Overlay(1,1),s=function(){var n=document.createElement("div");n.style.display="none";u.appendChild(n);scrollToTop();Overlay(0,undefined,undefined,undefined,!0);b365Mobile.footer.setFooter()},ajaxPost(null,s,u.id,i,null,null)));b365Mobile.footer.setFooter()}function couponSectionClickUrl(n,t,i){var u=document.getElementById(n+"_S"),f=document.getElementById("CpKey"),r=new NavUrl,e;r.ot=sProps.ot;r.lng=sProps.LangID;r.sc=sProps.scProps;r.baseUrl=b365Mobile.navigation.getPartialCouponPath(t);couponController.stop();(b365Mobile.Racing&&b365Mobile.Racing.isCastSection(i)||i.toUpperCase()=="MOREMARKETS"||i.toUpperCase()=="EXOTICS")&&(r.item=i);r.key=t;i.toUpperCase()!="MOREMARKETS"&&i.toUpperCase()!="EXOTICS"&&(r.sort=couponController.getCouponSortParameter(t,!1),sectionClick(n,u.id,buildUrl(r),1));f!=null&&f.value!=""&&(e=isSectionOpen(u),(i.toUpperCase()=="MOREMARKETS"||i.toUpperCase()=="EXOTICS")&&(r.sct=n+"/"+e+";CpMoreMarkets/TAB/"+t,r.sort=couponController.getCouponSortParameter(t,!1),sectionClick(n,u.id,buildUrl(r),1)),couponHistory.addItem(f.value,n,e));couponController.start(!0)}function ShowMoreBtnAction(n,t){document.getElementById(n).style.display="none";document.getElementById(t).style.display="block";b365Mobile.footer.setFooter()}function homePageExternalLink(n){var t=n.split(";"),i;t.length==2&&(t[1].toLowerCase()=="home"?(i="default.aspx?&lng="+sProps.LangID+"&zn="+sProps.ZoneID+"#type=Home;key=;",window.location=i):window.open(t[1]))}function couponSectionToggleDiv(n){var i=n.slice(4),t=i.split(";");t.length==2&&couponSectionClickUrl("CPN_"+t[0],t[1],"")}function couponTabs(n){var t=n.split(";"),u=document.getElementById("CpKey").value,r;couponHistory.addItem(u.value,t[1]+"/TAB/"+t[2],!0);var i=couponHistory.getHistoryList(u.value),f=i.split(";"),e=!1;for(r=0;r<f.length;r++)if(f[r].indexOf("/TAB/")>-1){i=i.replace(f[r],t[1]+"/TAB/"+t[2]);e=!0;break}e||(i=i+";"+t[1]+"/TAB/"+t[2]);tabClick("tab"+t[1],t[1],b365Mobile.navigation.getPartialCouponPath(u)+"?key="+t[2]+"&sct="+i+"&ot="+sProps.ot+"&lng="+sProps.LangID+"&tzi="+sProps.tzi)}function goToSplash(n){var t=n.slice(6);newPage("Splash",t,!1,sProps.LangID)}function toggleCastSection(n){var t=n.split(";"),i=t[0].slice(0,t[0].indexOf("_"));couponSectionClickUrl(t[1]+"_"+t[2],t[3],i)}function getInPlaySctValue(){var n=splashHistory.getHistoryList("IP"),t,i;return n&&n.length>0&&(t=n.split("/"),t=t[0].split("_")[3].split("-")[0]),i=splashHistory.getHistoryList(t),i.length>0&&(n+=";"+i),n}function toggleSplashSection(n){var t=n.split("_"),i=t[0]+"_"+t[1]+"_"+t[2]+"_"+t[3],u=document.getElementById(i+"_S"),e="sport/splash/SplashPartial.aspx?key="+t[4]+"&"+sProps.scFMFV+"&iscode="+sProps.curCode+"&isocode="+sProps.ISOCode+"&lng="+sProps.LangID+"&zone="+sProps.ZoneID;sectionClick(i,u.id,e,1);var o=t[4].split("-"),f=o[0],s=isSectionOpen(u),r=splashHistory.getHistoryList(f);r.indexOf(i)>-1&&(r=r.replace(i,""));splashHistory.addItem(f,i,s)}function openScorecast(n){var i=n.getAttribute("data-nav"),t;n.className="genericRowActive";t=i.split("_");t.length==3&&clickScorecast(t[1],t[2])}function openCoupon(n){var i=n.getAttribute("data-nav"),u,t,f;if(i.indexOf("cp_")==0&&i.length>2||i.indexOf("mt_")==0&&i.length>0)openCouponFromSlider(i,n);else if(i.length>0){if(lvl2BreadcrumbHash=new Hash(window.location.hash),u=i.split(","),n=document.getElementById(u[0]),Overlay(1,0,1),n){var o=n.getAttribute("data-cid"),r=n.className.split(" "),s=r.length,e="";for(t=0;t<s;t++){f=r[t];t>0&&(e+=" ");switch(f){case"ipSplashRow":r[t]="ipSplashRowActive";break;case"ics_"+o:r[t]="icsOn_"+o;break;case"genericRow":r[t]="genericRowActive";break;case"spl-tote-btn":r[t]="spl-tote-btn-sel"}f.indexOf("specialEventIcon_")==0&&(r[t]=f.replace("specialEventIcon_","specialEventIconOn_"));e+=r[t]}n.className=e}newPage(u[1],u[2],u[3],sProps.LangID);currentTitle=i}}function openCouponFromSlider(n,t){var i,r,u,f,e;n!=currentTitle&&(overlay(1,1,undefined,undefined,!0),i=n.split(","),hrScroll&&(hrScroll.scrollTo=!0),n.indexOf("cp_")==0&&(document.elementToScroll=i[0]+i[2],b365Mobile.coupon.processCouponTabs(t),newPage(i[1],i[2],i[3],sProps.LangID)),e=document.getElementById("scn-HeaderNavigation_BreadcrumbLevel2"),e&&b365Mobile.navigation.setBreadCrumbLevel2Key(e.getAttribute("data-sportsKey")),n.indexOf("mt_")==0&&(r=$(t),r.hasClass("scrollNavButton")&&(u=r.siblings(),f=u.filter(".scrollNavButtonSelected:first"),u.removeAttr("data-fallback"),f.removeClass("scrollNavButtonSelected").addClass("scrollNavButton"),r.removeClass("scrollNavButton").addClass("scrollNavButtonSelected"),r.attr("data-fallback",f.attr("id"))),document.elementToScroll=t!=null?t.id:i[0],clearTimeout(meetingTimesTimer),meetingTimeTimeRefresh=!1,newPage(i[1],i[2],i[3],sProps.LangID)),currentTitle=n)}function openMoreBets(n){var t=n.slice(3);newPage("MoreBets",t,!1,sProps.LangID)}function reloadRacingCouponForRunnerSortChange(){document.getElementById("LoadZone")&&(getSortRefreshKey()!==""?(Overlay(1,1),couponController.initialise(document.getElementById("AutoRefInt").value,couponHistory,sProps,removeMainClickHandler,addMainClickHandler,virtualCouponHandler,function(){Overlay(0,undefined,undefined,undefined,!0);couponController.start(!0)},SportsDataKeyParser,!1),couponController.start(!1)):setPage())}function getSortRefreshKey(){return document.getElementById("AutoRefresh")?document.getElementById("AutoRefresh").value:document.getElementById("SortRefreshKey")?document.getElementById("SortRefreshKey").value:""}function initialiseInstantGamesController(){window.instantGamesController?(window.instantGamesController.setState(),window.instantGamesController.addFooter()):(window.instantGamesController=new b365Mobile.instantGamesController,window.instantGamesController.init())}function changeSessionTimeout(){window.membersRedirect.redirect("Preferences")}function touchSession(){Inactivity.ajaxGet(null,null,null,"account/KeepSessionActive.aspx");closelogInPopUp(!1);document.getElementById("betCallPopupContainer")?window.Overlay(1,0,0,1,!1):overlay(0);mipscd=0;ns_moblib_util_managers.FloatingNativeVideoController.ShowFloatingNativeVideo()}function HelpDropdownChange(n,t){var i=n.options[n.selectedIndex].value,o=lastDropDownMenuOption.getLastOptionSelected(),r,f,e,u,s;if(!(o[0]==n.id&&o[1]==n.selectedIndex)){lastDropDownMenuOption.setLastOptionSelected(n.id,n.selectedIndex);e=!0;switch(t){case 1:r="Help/ContactUs.aspx?CID="+i;e=!1;break;case 2:r="Help/Preferences.aspx";u="?lng="+i;f=u;break;case 3:r="Help/Preferences.aspx";u="?ot="+i+"&lng="+sProps.LangID;f=u}s=function(){t==2&&(sProps.LangID=i);t==3&&(sProps.ot=i);e&&preferenceResult(f)};ajaxGet(null,s,"Main",r,0)}}function preferenceResult(n){$.ajax({headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"GET",url:"Help/PrefrencesConfirmation.aspx"+n,cache:!1}).done(function(n,t,i){var u=checkScriptHeaders(i),r,f;u!==""?window.location.href=u:i.getResponseHeader("X-b365-Location")&&(window.location.href=i.getResponseHeader("X-b365-Location"));i.getResponseHeader("X-b365-AppStatus")&&(r=i.getResponseHeader("X-b365-AppStatus").split(","),f=r[r.length-1].trim(),onAjaxResponse(f));device.isOperaMini?refreshPrefsPage():(Overlay(1,0,0,!0),CreatePopupBox("PopUpBox",n,!0))})}function refreshPrefsPage(){var t=new NavUrl,r=retrieveHash(),n=new Hash(r),i;t.baseUrl="default.aspx";t.lng=sProps.LangID;t=buildUrl(t);t+="&rnd="+Math.random(1e3);t+="&ot="+sProps.ot;t+="&apptype="+sProps.appType;t+="&appversion="+sProps.appVersion;n.Type&&n.Type!=""||(n.Type="Home");n.Type=="Coupon"&&(typeof n.InPlay=="undefined"||n.InPlay=="1")?(i=n.Key,n.Key=i.split("_")[0],n.Key+="_"+sProps.LangID,n.Key+="_"+document.getElementById("PrefsDone").getAttribute("data-zone-id"),t+="#type=Coupon;",t+="key="+n.Key+";"):(n.LangID=sProps.LangID,t+=n.toString());closelogInPopUp(!1);window.location=t}function watchYourLiveRacesClick(n,t){t?n+="&rp=1":(ClosePopUp(),closelogInPopUp());window.location.href=n;typeof window.event!="undefined"&&window.event.stopPropagation()}function CheckFlashAvailable(){var t=!1,n;return typeof swfobject!="undefined"&&(n=swfobject.getFlashPlayerVersion(),n.major==10&n.minor>=1?t=!0:n.major>10&&(t=!0)),t}function StreamVideoItaly(n,t){var r=(window.location.protocol+"//"+window.location.host).replace("mobile","videostream")+"/wss001/"+n+"?platform=mob",i=new ns_gen5_net.Loader;i.completeHandler=function(n){if(n&&n.indexOf("url")>-1)urlData={},responseSplit=n.split("|"),cookieHalf=responseSplit[1],document.cookie=cookieHalf,n=responseSplit[0],urlData.URL=n.replace("url=","").replace("&ProviderID=29",""),t.method.call(t.scope,!0,urlData,!1,!0);else{var i=$("#embeddedVideoPlayer").get(0);b365Mobile.InPlayEventView.createMessage(i,{ErrorMessage:b365.ml.italyStreamingError})}};i.load(r,{method:"GET",withCredentials:!0})}function StreamVideo(n,t,i,r,u,f,e,o,s){var h=CheckFlashAvailable()?"1":"0",c=o?"1":"0",l="sport/SportControls/video/VideoController.aspx?curcode="+sProps.curCode+"&c="+n+"&k="+t+"&s="+i+"&p="+r+"&a="+h+"&ps="+c+"&apptype="+sProps.appType+"&appversion="+sProps.appVersion;$.getJSON(l,function(h){var l,c,a,v,y,p;if(h){if(l=24,c=null,window.sProps.user.isLoggedIn&&!h.SessionValid){window.b365Mobile.account.sessionExpired(function(){window.StreamVideo(n,t,i,r,u,f,e,o)});return}if(h.UrlData){if(sProps.appType==="windowsuniversalapp"&&h.UrlData.URL&&h.Provider!==l)return window.mobileApplications.SendVideoUrlToApplication(h.UrlData.URL),!1;h.Geo?(a=h.ErrorMessage,v="M101",y=h.Provider===l?function(n){var t=n.authorization_data,i=null,r={},u;for(u in t)if(t.hasOwnProperty(u)){i=t[u].streams[0].url.data;break}if(r={URL:i?window.atob(i):"",StreamName:""},c=r.URL,sProps.appType==="windowsuniversalapp"&&c){window.mobileApplications.SendVideoUrlToApplication(c);return}e.method.call(e.scope,!0,r,f,!1)}:function(n){var t={URL:Modernizr.hls||!Modernizr.flash?n.hlsUrl:n.rtmpUrl,StreamName:""};e.method.call(e.scope,!0,t,f,!1)},p=function(n){var t=a.replace(v,n);e.method.call(e.scope,!1,t,f)},getProviderUrl(h.UrlData.URL,!1,y,p)):(h.External&&(h.UrlData.ExternalPlayer=!0),h.PaddockStreaming&&(h.UrlData.PaddockStreaming=!0),h.UserQualifyBet&&(h.UrlData.UserQualifyBet=!0),h.PaddockMessage&&(h.UrlData.PaddockMessage=h.PaddockMessage),e.method.call(e.scope,!0,h.UrlData,f))}else h.PopupMessage?window.sProps.appType==="windowsuniversalapp"?InfoPopUp(h.PopupMessage):setTimeout(function(){s||siteViewController.isInitialViewWide?e.method.call(e.scope,!1,h):siteViewController.isInitialViewNarrow&&(e.method.call(e.scope,!1),InfoPopUp(h.PopupMessage))},500):h.ErrorMessage&&(window.sProps.appType==="windowsuniversalapp"?InfoPopUp(h.ErrorMessage):setTimeout(function(){siteViewController.isInitialViewNarrow&&!s?(e.method.call(e.scope,!1),InfoPopUp(h.ErrorMessage)):e.method.call(e.scope,!1,h)},500))}})}function showAudioMenu(n,t){asUtils.showAudioMenu(n,t)}function closeAudioMenu(){asUtils.closeAudioMenu()}function audioMenuClassificationClick(n){asUtils.getASController().displayClassificationId=asUtils.getClassificationIdFromDataNav(n).classId;asUtils.showAudioMenu()}function audioMenuMediaEventClick(n){var i=asUtils.getMediaEventParamsFromElement(n),t=asUtils.getASController();(asUtils.isLoading()||asUtils.isPlaying())&&t.mediaId==i.mediaId?(t.audioPlayer.pause(),t.isLoading=!1,asUpdateDisplay(),asUtils.isDevicePauseCompatible()||t.setStream(t.audioPlayer.src)):(t.playingClassificationId=i.classId,t.mediaId=i.mediaId,t.eventId=i.eventId,t.mediaStream=i.mediaStream,t.isLoading=!0,asUpdateDisplay(),getAudioStreamUrl(i.mediaId,i.mediaStream));i=null}function ASControllerObject(){this.audioPlayer=null;this.displayClassificationId=0;this.playingClassificationId=0;this.mediaId=0;this.eventId=0;this.mediaStream="";this.playStateChangedHandler=null;this.errorLogger=null;this.isLoading=!1;this.initialise=function(){this.audioPlayer=document.createElement("audio");this.playingClassificationId=0;this.displayClassificationId=b365Mobile.hash.getCurrentClassificationId();this.isLoading=!1;this.audioPlayer.play();this.audioPlayer.pause();this.errorLogger&&this.audioPlayer.addEventListener("error",function(){asController.errorLogger()},!1);this.playStateChangedHandler&&(this.audioPlayer.addEventListener("canplaythrough",function(){asUtils.getASController().isLoading=!1;asUpdateDisplay()},!1),this.audioPlayer.addEventListener("ended",function(){asUpdateDisplay()},!1),this.audioPlayer.addEventListener("pause",function(){asUpdateDisplay()},!1))};this.setStream=function(n){this.audioPlayer&&this.audioPlayer.setAttribute("src",n)}}function playAudio(n){var t=asUtils.getASController();t.setStream(n);t.audioPlayer.play();t=null}function asUpdateDisplay(){var n=asUtils.getElementMediaEventIcon(),t=asUtils.getASController();asUtils.restyle();$(".as_active").attr("class","aStoppedIcon");n!=null&&(n.className=asUtils.isLoading()?"as_active aLoadingIcon":asUtils.isPlaying()?"as_active aPlayingIcon":"as_active aStoppedIcon");n=null;t=null}function getAudioStreamUrl(n,t){$.ajax({type:"POST",url:asUtils.getAudioStreamControllerUrl(n,t),timeout:1e4,cache:!1,success:function(n){playAudio(b365Mobile.utils.stripServerNameFromAjaxResponse(n))},error:function(){asUtils.getASController().isLoading=!1;asUpdateDisplay()}})}function asLogError(){var n="",t=asUtils.getASController().audioPlayer.error;t?t.code==1?n="1 = MEDIA_ERR_ABORTED - fetching process aborted by user":t.code==2?n="2 = MEDIA_ERR_NETWORK - error occurred when downloading":t.code==3?n="3 = MEDIA_ERR_DECODE - error occurred when decoding":t.code==4&&(n="4 = MEDIA_ERR_SRC_NOT_SUPPORTED - audio/video not supported"):n="No Error object available"}function setAudioButtonVisibility(){var i=!1,n=asUtils.getElementAudioMenuButton(),t=b365Mobile.hash.getCurrentClassificationId();asController&&asUtils.isPlaying()&&(i=!0);n&&(t==0&&pageType.toLowerCase()=="inplay"&&(t=asUtils.getClassificationIdFromInPlayPage()),n.style.display=asUtils.shouldShowAudioMenuButton(pageType,t,i)&&n.attributes.disabled==undefined||i?"":"None");n=null;t=null}function LogMessage(n){console.log(n)}function horizontalScroller(n){var t=this;this.enableScroll=Modernizr.scrollingsupport&&!device.isPresto;this.scroller=null;this.scrollTo=!1;this.initialize=function(){var i=$("div."+n);i.length==0&&(i=$("#"+n));i.each(function(){t.enableScroll&&(t.scroller=new IScroll(this,{scrollX:!0,scrollY:!1,eventPassthrough:!0}));(t.scrollTo||document.elementToScroll)&&t.scrollToElement();t.scrollTo=!1})};this.reinitializeRefreshAreaSlider=function(i){i===undefined&&(i=null);var r=$("div."+n).last();r.each(function(){t.enableScroll&&(t.scroller=new IScroll(this,{vScroll:!1,hScrollbar:!1,bounce:!0}),i!==null&&i.x!==0&&t.scroller.scrollTo(i.x,i.y));t.scrollTo=!1})};this.getCurrentScrollerPosition=function(){return{x:t.scroller!==null?t.scroller.x:0,y:t.scroller!==null?t.scroller.y:0}};this.scrollToElement=function(){var n=document.elementToScroll;n=typeof n=="object"?n:document.getElementById(n);n&&(Modernizr.scrollingsupport?this.scroller&&this.scroller.scrollToElement(n,1e3):n.scrollIntoView(!1),this.scrollTo=!1)}}function getDeviceMinWidth(){var n=clientViewport();return device.isBlackBerry?n.width:n.width<=n.height?n.width:n.height}function addScrollerContent(n,t){var i,r;return(i=function(n){var r,i="",u,t;if(n.length>0&&(u=$(Modernizr.scrollingsupport?"#raceTimesContainer ul li:first":"#raceTimesContainer select option:first").text(),u!=n[0][0])){for(r=$(Modernizr.scrollingsupport?"#raceTimesContainer ul":"#raceTimesContainer select"),r.empty(),t=0;t<n.length;t++)i=Modernizr.scrollingsupport?i+'<li id="'+n[t][1]+'" class="scrollNavButton'+(n[t][3]=="True"?"Selected":"")+'" data-nav="'+n[t][2]+'">'+n[t][0]+"<\/li>":i+'<option title="'+n[t][1]+","+n[t][2]+'">'+n[t][0]+"<\/option>";r.html(i)}},r=function(n,t){var f="",i,r=$(document.querySelectorAll("#raceTimesContainer ul")),e,c=String($(document.getElementById("CpKey")).val()).replace("-1-543-","-0-0-"),o=null,s=!1,a=function(n,t){if(n&&t&&n.substring(0,30)===t.substring(0,30)){for(var r=[],u=Math.min(n.length,t.length),i=0;i<u;i+=1)n[i]!==t[i]&&r.push(t[i]);return r.join()}return null},h,l=function(){if(t){var n=r.children('li[data-nav*="'+o+'"]:first');n.length===0&&(n=r.children("li.scrollNavButtonSelected:first"));n.length===0&&(n=r.children("li:first"));processNav(n.next()[0])}},u;if(n.length>0){for(i=0;i<n.length&&!s;i++)h=String(n[i][2].split(",")[2]).replace("-1-543-","-0-0-"),(h===c||a(c,h)==="2")&&(s=!0);for(i=0;i<n.length;i++)e=n[i][3]===!0,f=f+'<li id="'+n[i][1]+'" class="scrollNavButton'+(e?"Selected":"")+'" data-nav="'+n[i][2]+'">'+n[i][0]+"<\/li>",o=e?n[i][2].split(",")[2]:o;if(r.empty().html(f),u=r.parent(),!Modernizr.v6scrolling&&u&&u.attr("id")=="meetingTimes"&&window.b365Mobile.ScrollerSetup&&window.b365Mobile.ScrollerSetup.setUpScrollingFallback(u),!s)return l(),!0}else return l(),!0;return!1},document.querySelectorAll("#Coupon.V6").length>0)?r(n,t):(i(n),!1)}function contentLoaded(){addMainClickHandler(0)}function addMainClickHandler(n){var t,i,r;mainContainer||(mainContainer=document.getElementById("Main"));logoContainer||(logoContainer=document.getElementById("HeaderBasicHomeWide"));mainContainer&&(Modernizr.useCssScrolling?(mainContainer.removeEventListener("click",mainClicked,!1),mainContainer.addEventListener("click",mainClicked,!1),mainContainer=null):(cancelAddingHandler=!1,setTimeout(function(){cancelAddingHandler||(mainContainer||(mainContainer=document.getElementById("Main")),mainContainer.removeEventListener("click",mainClicked,!1),mainContainer.addEventListener("click",mainClicked,!1),mainContainer=null)},n)));logoContainer&&(Modernizr.useCssScrolling?(logoContainer.removeEventListener("click",mainClicked,!1),logoContainer.addEventListener("click",mainClicked,!1),logoContainer=null):(cancelAddingHandler=!1,setTimeout(function(){cancelAddingHandler||(logoContainer||(logoContainer=document.getElementById("HeaderBasicHomeWide")),logoContainer.removeEventListener("click",mainClicked,!1),logoContainer.addEventListener("click",mainClicked,!1),logoContainer=null)},n)));t=document.getElementById("BackToTopBigBttn");t&&t.addEventListener("click",backToTopClickHandler);i=document.getElementById("InPlayNotice_Header");i&&i.addEventListener("click",toggleFooterInPlayNoticeBody);r=document.getElementById("InPlayNotice_Close");r&&r.addEventListener("click",toggleFooterInPlayNoticeBody);typeof b365Sport.LiveMatchAlert!="undefined"&&b365Sport.LiveMatchAlert!==null&&b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav()}function toggleFooterInPlayNoticeBody(){var n=document.getElementById("InPlayNotice_Body");n&&(footerInPlayNoticeVisible=!footerInPlayNoticeVisible,footerInPlayNoticeVisible?b365Mobile.utils.removeClass(n,"Hidden"):b365Mobile.utils.addOrAppendClass(n,"Hidden"))}function backToTopClickHandler(){var n=$(this);n.addClass("selected");window.setTimeout(function(){n.removeClass("selected")},500);scrollToTop()}function removeMainClickHandler(n,t){var i,r,u;typeof t=="undefined"&&(t=!0);typeof n=="undefined"&&(n=!0);i=document.getElementById("BackToTopBigBttn");cancelAddingHandler=!0;mainContainer||(mainContainer=document.getElementById("Main"));n&&i&&i.removeEventListener("click",backToTopClickHandler);mainContainer.removeEventListener("click",mainClicked,!1);t&&(r=document.getElementById("InPlayNotice_Header"),r&&r.removeEventListener("click",this.toggleFooterInPlayNoticeBody),u=document.getElementById("InPlayNotice_Close"),u&&u.removeEventListener("click",this.toggleFooterInPlayNoticeBody))}function mainClicked(n){var u,t,i,r;if(n.target.wrapper)return!0;if(IsClickEventForCheckBox(n))HandleClickEventForCheckBox(n.target);else{if(!window.prematchHandlers&&enhancedPodClickHandler(n))return n.preventDefault(),n.stopPropagation(),!1;u=5;t=GetElementOrAncestorHavingTitle(n.target,u);i=n.target.getAttribute("target");b365Mobile.utils.stopEventPropagation(n);t!=null&&(processNav(t),r=t.getAttribute("target")||"",(n.target.href&&i!="_blank"&&i!="_self"||t&&t.href&&r!="_blank"&&r!="_self")&&b365Mobile.utils.preventDefaultEvents(n))}}function enhancedPodClickHandler(n){var t=n.target,r,u,f,i;if(b365.popups&&b365.popups.unavailablePopupController&&b365.popups.unavailablePopupController.active&&b365.popups.unavailablePopupController.removePopup(),t=="BUTTON")return t.id=="btnChangeMarket"?(b365Mobile.coupon.toggleChangeMarketMenu(t),!0):!1;if(t.id=="showMoreScorers"&&t.className.indexOf(" collapsed")>-1)return t.className=t.className.replace(" collapsed",""),!0;if(t.id=="showMoreTeamScorers"&&t.className.indexOf(" collapsed")>-1){if(r=t.parentNode.querySelectorAll(".eventWrapper.hidden"),r.length>0)for(u=0,f=r.length;u<f;u++)r[u].className=r[u].className.replace(" hidden","");return t.className=t.className.replace(" collapsed",""),!0}if(t.getAttribute("data-nav")=="statsIcon")return window.statsManager.statsIconClicked(t),!0;if(t.getAttribute("data-nav")=="notAvailable"||t.parentElement&&t.parentElement.getAttribute("data-nav")=="notAvailable"||t.parentElement&&t.parentElement.parentElement&&t.parentElement.parentElement.getAttribute("data-nav")=="notAvailable")return b365.popups.unavailablePopupController.addPopup($(t).hasClass("noOdds")?t:t.parentNode.querySelectorAll(".noOdds")[0]),!1;if(t.tagName=="DIV"){if(i=t.getAttribute("data-nav"),t.className.indexOf("priceColumn")>-1&&i!=null)return t.className.indexOf("Selected")>-1?window.bsApp.deleteBet(i,t):i.indexOf("pom")>-1&&(!window.mobileBusinessRules.canSupportBetCall()||!Locator.pushedConfig.getIsBetCallAvailable())?window.bsApp.phoneBet(i):window.bsApp.addBet(i,t),!0;if(t.parentNode&&t.parentNode.tagName=="H2"&&t.parentNode.parentNode.className.indexOf("podHeaderRow")>-1)t=t.parentNode;else return!1}if(t.tagName=="H1"||t.tagName=="H2"||t.tagName=="H3"||t.tagName=="EM"||t.tagName=="SPAN")if(t.tagName=="H1"){if(t.parentNode.className.indexOf("enhancedPod")>-1&&t.parentNode.getAttribute("data-sportskey")!==null&&t.parentNode.className.indexOf("forceopen")==-1){if(t.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.className=t.parentNode.className+" collapsed",t.parentNode.className.indexOf("splash")>-1?b365Mobile.splash.toggleSplashSection(t.parentNode,!0):(t.parentNode.className.indexOf("matchBetting")>-1||t.parentNode.parentNode.className.indexOf("tabbedCoupon")>-1)&&b365Mobile.coupon.toggleSection(t,!0),!0;if(t.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.className=t.parentNode.className.replace(" collapsed",""),t.parentNode.className.indexOf("splash")>-1?b365Mobile.splash.toggleSplashSection(t.parentNode,!0):(t.parentNode.className.indexOf("matchBetting")>-1||t.parentNode.parentNode.className.indexOf("tabbedCoupon")>-1)&&b365Mobile.coupon.toggleSection(t,!0),!0}else if(t.parentNode.className.indexOf("teamSection")>-1&&t.parentNode.parentNode.getAttribute("data-sportskey")!==null&&t.parentNode.parentNode.className.indexOf("forceopen")==-1){if(t.parentNode.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className+" collapsed",b365Mobile.navigation.toggleTeamFixtureSection(t.parentNode.parentNode,!0),!0;if(t.parentNode.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className.replace(" collapsed",""),b365Mobile.navigation.toggleTeamFixtureSection(t.parentNode.parentNode,!0),!0}else if(t.parentNode.className.indexOf("outrights")>-1){if(t.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.className=t.parentNode.className+" collapsed",!0;if(t.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.className=t.parentNode.className.replace(" collapsed",""),!0}}else if(t.tagName=="H2"){if(t.parentNode.className.indexOf("podHeaderRow")>-1&&t.parentNode.className.indexOf("subHeader")>-1){if(t.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.className=t.parentNode.className+" collapsed",window.device.isAndroid&&window.device.isAndroidNativeBrowser&&(t.parentNode.parentNode.setAttribute("style","display:none"),t.parentNode.parentNode.removeAttribute("style")),!0;if(t.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.className=t.parentNode.className.replace(" collapsed",""),window.device.isAndroid&&window.device.isAndroidNativeBrowser&&(t.parentNode.parentNode.setAttribute("style","display:none"),t.parentNode.parentNode.removeAttribute("style")),!0}}else if(t.tagName=="H3"){if((t.parentNode.className.indexOf("enhancedPod")>-1||t.parentNode.parentNode.className.indexOf("enhancedPod")>-1||t.parentNode.parentNode.parentNode.className.indexOf("enhancedPod")>-1&&t.parentNode.parentNode.className.indexOf("eventWrapper")>-1&&t.parentNode.className.indexOf("eventWrapper")>-1)&&t.getAttribute("data-sportskey")!==null&&t.className.indexOf("forceopen")==-1){if(t.className.indexOf(" collapsed")==-1)return t.className=t.className+" collapsed",t.parentNode.className.indexOf("splash")>-1||t.parentNode.parentNode.className.indexOf("splash")>-1?b365Mobile.splash.toggleSplashSection(t,!0):(t.parentNode.className.indexOf("matchBetting")>-1||t.parentNode.parentNode.className.indexOf("matchBetting")>-1)&&b365Mobile.coupon.toggleSection(t,!0),!0;if(t.className.indexOf(" collapsed")>-1)return t.className=t.className.replace(" collapsed",""),t.parentNode.className.indexOf("splash")>-1||t.parentNode.parentNode.className.indexOf("splash")>-1?b365Mobile.splash.toggleSplashSection(t,!0):(t.parentNode.className.indexOf("matchBetting")>-1||t.parentNode.parentNode.className.indexOf("matchBetting")>-1)&&b365Mobile.coupon.toggleSection(t,!0),!0}}else if(t.parentNode.parentNode)if(t.parentNode.parentNode.className.indexOf("enhancedPod")>-1&&t.parentNode.parentNode.getAttribute("data-sportskey")!==null&&t.parentNode.parentNode.className.indexOf("forceopen")==-1){if(t.parentNode.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className+" collapsed",t.parentNode.parentNode.className.indexOf("splash")>-1?b365Mobile.splash.toggleSplashSection(t.parentNode.parentNode,!0):(t.parentNode.parentNode.className.indexOf("matchBetting")>-1||t.parentNode.parentNode.parentNode.className.indexOf("tabbedCoupon")>-1)&&b365Mobile.coupon.toggleSection(t,!0),!0;if(t.parentNode.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className.replace(" collapsed",""),t.parentNode.parentNode.className.indexOf("splash")>-1?b365Mobile.splash.toggleSplashSection(t.parentNode.parentNode,!0):(t.parentNode.parentNode.className.indexOf("matchBetting")>-1||t.parentNode.parentNode.parentNode.className.indexOf("tabbedCoupon")>-1)&&b365Mobile.coupon.toggleSection(t,!0),!0}else if(t.parentNode.parentNode.className.indexOf("podHeaderRow")>-1&&t.parentNode.parentNode.className.indexOf("subHeader")>-1){if(t.parentNode.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className+" collapsed",!0;if(t.parentNode.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className.replace(" collapsed",""),!0}else if(t.parentNode.parentNode.className.indexOf("teamSection")>-1&&t.parentNode.parentNode.parentNode.getAttribute("data-sportskey")!==null&&t.parentNode.parentNode.parentNode.className.indexOf("forceopen")==-1){if(t.parentNode.parentNode.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.parentNode.parentNode.className=t.parentNode.parentNode.parentNode.className+" collapsed",b365Mobile.navigation.toggleTeamFixtureSection(t.parentNode.parentNode.parentNode,!0),!0;if(t.parentNode.parentNode.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.parentNode.parentNode.className=t.parentNode.parentNode.parentNode.className.replace(" collapsed",""),b365Mobile.navigation.toggleTeamFixtureSection(t.parentNode.parentNode.parentNode,!0),!0}else if(t.parentNode.parentNode.className.indexOf("outrights")>-1){if(t.parentNode.parentNode.className.indexOf(" collapsed")==-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className+" collapsed",!0;if(t.parentNode.parentNode.className.indexOf(" collapsed")>-1)return t.parentNode.parentNode.className=t.parentNode.parentNode.className.replace(" collapsed",""),!0}return!1}function IsClickEventForCheckBox(n){var t=n.target;return t.type=="checkbox"}function HandleClickEventForCheckBox(n,t){window.couponController&&window.couponController.stop();(typeof t=="undefined"||t===null)&&(t=!1);var i=n.id;window.editBetController&&window.editBetController.addSelectionsEnabled===!0?(n.checked=!1,window.editBetController.showBetErrorMessage()):(n.title.indexOf("CastButton")===0&&new CouponCastSelectionClick(i).select(),n.title.indexOf("ToteButton")===0&&Tote.addToteSelection(i,n.title,n.checked,t));window.couponController&&window.couponController.start(!0)}function GetElementOrAncestorHavingTitle(n,t){var i=null;return n&&n.getAttribute&&n.getAttribute("data-nav")&&n.getAttribute("data-nav").length>0?i=n:n&&n.parentNode!=null&&t>0&&(i=GetElementOrAncestorHavingTitle(n.parentNode,t-1)),i}function hrefEvent(n){n=n||window.event;var t=n.target||n.srcElement,i=$(t),r;return t.href?i.hasClass("closeButton")||i.hasClass("CloseIcon")?window.bsApp.dialogueController&&window.bsApp.dialogueController.active()&&!$("#bsDiv").hasClass("receipt")?(bsApp.refreshSlip(),!1):(window.bsApp.updateBetslipBar(),!1):(r=t.getAttribute("target"),processNav(t),r!=null&&(r=="_blank"||r=="_self")||t.href.substring(0,4)==="tel:")?!0:!1:((i.hasClass("closeButton")||i.hasClass("CloseIcon"))&&window.bsApp.dialogueController&&window.bsApp.dialogueController.active()&&!$("#bsDiv").hasClass("receipt")&&bsApp.refreshSlip(),!0)}function findOverlayElement(){return document.getElementById(OVERLAY_ELEMENT_ID)}function findOverlayPopupElement(){return document.getElementById(OVERLAYPOP_ELEMENT_ID)}function Overlay(n,t,i,r,u,f){overlay(n,t,i,r,u,f)}function overlay(n,t,i,r,u){var f,e,s=document.body,h=!1,o;return window.amon!==null&&typeof window.amon!="undefined"&&window.amon.dialogShowing()?!1:((findPopupBoxElement()||findOverlayPopupElement())&&(f=findOverlayPopupElement())?e=OVERLAYPOP_ELEMENT_ID:(f=findOverlayElement(),e=OVERLAY_ELEMENT_ID),n===1?(f==null&&(f=document.createElement("div"),f.id=e,window.siteViewController.isNarrowView?(f.style.height=document.body.offsetHeight+300+"px",f.style.top="-150px"):f.style.height="100%",f.style.width="100%",f.setAttribute("onclick","return false;"),(Modernizr.useCssScrolling||device.isAndroid)&&!r&&f.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)}),u===!0&&(f["data-persisted"]=u),h=!0),typeof i=="undefined"&&(i=1),window.mobileBusinessRules.forceTransparentOverlay()&&(i=1),typeof t=="undefined"&&(t=0),f.className=i==1?"overlay":"overlay opaque",overlaySpinner(f,t),h===!0&&s.insertBefore(f,s.firstChild),$("html").addClass("overlay-on")):(o=f==null,f==null||u!==!0&&f["data-persisted"]||(f.parentNode.removeChild(f),o=!0),o&&$("html").removeClass("overlay-on")),!1)}function overlaySpinner(n,t){var f,e,r,i=document.getElementById("spinnerBox"),u;return t==null&&(t=1),i||t!=1?i!=null&&t<1&&(i.parentNode.removeChild(i),r=$(n),r.removeClass("with-spinner")):(i=document.createElement("div"),i.id="spinnerBox",i.className="OverlaySpinnerBox",f=$(window).scrollTop(),e=Math.round(clientViewport().height*.5)+f,i.style.top=window.siteViewController.hasWideViewHeader?"50%":e+"px",(device.isPresto||device.isOperaMini)&&(i.className+=" noimg",u=document.createElement("img"),u.className+=" spinnerBoxImg",i.appendChild(u)),n.appendChild(i),r=$(n),r.addClass("with-spinner")),i}function setOverlaySize(){var n=findOverlayElement();n&&n!=null&&(window.siteViewController.isNarrowView?(n.style.height=document.body.offsetHeight+300+"px",n.style.top="-150px"):n.style.height="100%",n.style.width="100%")}function popUpContinueAction(){var t,n,i,u,r;closelogInPopUp();overlay(1,1,0);t=retrieveHash();t.indexOf("type=Preferences")!=-1&&(t="");n=new Hash(t);n.LangID=sProps.LangID;i="";u="";typeof n.Type!="undefined"&&(i=n.Type);typeof n.Key!="undefined"&&(u=n.Key);sProps.instantBet?(r="AddToInstantBetSlip.aspx",i="BetSlip"):r="default.aspx";r+="?lng="+sProps.LangID+"&zn="+sProps.ZoneID+"&apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"&"+GetCacheBreakParam();window.location=t.indexOf("More")!=-1||i.toLowerCase()=="login"?r+"#type=Home;key="+u:r+"#type="+i+";key="+u+";ip="+n.InPlay}function GetCacheBreakParam(n){return n==null&&(n="rnd"),n+"="+rand(1e5)}function rand(n){return Math.floor(Math.random()*n+1)}function RemovePopupBoxElement(n){return overlay(0,0),window.bsApp&&(typeof n=="undefined"?window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.show():n===!0&&window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController.show()),b365Mobile.utils.RemoveElement(popupBoxId)}function findPopupBoxElement(){return document.getElementById(popupBoxId)}function CreatePopupBox(n,t,i,r){var f,u,e;return f=i===!0?document.body:document.getElementById("Site"),typeof n!="undefined"&&n||(n="PopUpBox"),u=document.getElementById(n),u||(u=document.createElement("div"),u.id=n,f.insertBefore(u,f.firstChild)),t&&(u.innerHTML=t),PopUpListener(u.id),u.style.top=Math.round(clientViewport().height*.1)+$(window).scrollTop()+"px",u.setAttribute("data-mode",""),b365Mobile.utils.changeElemTypeState("select",!0),r&&(e=window.device.isWindowsPhone?"MSPointerMove":"touchmove",u.addEventListener(e,function(n){b365Mobile.utils.preventDefaultEvents(n)})),u}function PopUpListener(n){var t=document.getElementById(n);t.removeEventListener("click",popUpListenerClickHandler,!1);t.addEventListener("click",popUpListenerClickHandler,!1)}function closelogInPopUp(n,t){var i=!1;return n==!0?(i=b365Mobile.utils.RemoveElement("MessagePopUpBox"),overlay(0)):i=RemovePopupBoxElement(t),b365Mobile.utils.changeElemTypeState("select",!1),i}function ClosePopUp(){var n=document.getElementById("PopUpBox"),t=null;n&&(t=n.parentNode,t.removeChild(n),document.getElementById("betCallPopupContainer")?window.Overlay(1,0,0,1,!1):overlay(0,0))}function CreatePopupPOSTRequest(n,t,i,r){var f=CreatePopupBox(null,null,!0),u=function(){};ajaxPost(u,r,"PopUpBox",n,!0,t,i)}function InfoPopUp(n,t){overlay(1,0,0,!0);var i=CreatePopupBox(null,createPopUpMarkup(n,"RemovePopupBoxElement",t));document.body.appendChild(i);window.event&&b365Mobile.utils.stopEventPropagation(window.event)}function createPopUpMarkup(n,t,i){var r;return i&&i==!0?r='<div class="PopUpForm"><div class="InnerMessage">'+n+"<\/div><\/div>":(r='<div class="PopUpStreamForm"><div>'+n+"<\/div><\/div>",window.bsApp.bsContext.ClientEnhancedMode()&&window.betslipTabController.hide()),'<a id="CloseIcon" onclick="javascript:'+t+'();"><\/a>'+r}function updateBetslipFromAffilateBetQSParam(){var i=parseQSAffiliateBannerBets(window.location.search),r=i.length,t,n,u="";if(r)for(t=0;t<r;t++)n=i[t],n.fid&&(u="#fid="+n.fid),bsApp.addBet("fp="+n.fpId+u+"#o="+n.odds+"|#st="+n.stake)}function parseQSAffiliateBannerBets(n){var o,u,f,a,i,t,r,s=[],h,e,c,l;if(!n||n.indexOf("?bs=")<0&&n.indexOf("&bs=")<0||(o=parseQueryString(decodeURI(n)),!o.bs)||(u=o.bs.split("|"),u.length===0))return s;for(f=0,a=u.length;f<a;f++)(i=u[f].split("~"),i.length<1)||(e=i[0].split("-"),e.length>1?(fixtureIdMatch=e[0].match(/\d{1,20}/),fixtureIdMatch&&(c=fixtureIdMatch[0]),l=e[1]):l=i[0],t=l.match(/\d{1,20}/),t)&&((r={fpId:t[0],odds:"",stake:"0"},c&&(r.fid=c),s.push(r),i.length<2)||(h=i[1],h=="SP"?r.odds="0/0":(t=h.match(/\d{1,10}\/\d{1,10}/),r.odds=t?t[0]:""),i.length<3)||(t=i[2].match(/[+]?\d{1,10}([.]\d{1,10})?/),r.stake=u.length>1?"":t?t[0]:"0"));return s}var b365=b365||{},b365Mobile=b365Mobile||{},b365MobileApp=b365MobileApp||{},sportsUIController,SportsUIController,podController,PodController,DeviceSettings,BusinessRules,hashHistory,agent,mobileLazyLoaders,MatchLiveMobile,MatchLiveConnection,statsManager,StatsManager,splashHistory,couponHistory,resizeTimeout,asUtils,asController,cancelAddingHandler,mainContainer,logoContainer,footerInPlayNoticeVisible,popupBoxId,popUpListenerClickHandler,CouponBetSelect,CouponConstuctStringParser,ns,BetslipCouponLink,BetSlipShowConfirmationHandler,BetSlipShowDialogHandler,BetSlipPopupOverlay,CouponBetMessagePopup,CastBetslipModel,BetSlipItemsRemovedHandler;startSiteLoad=function(){var t=window.Locator.user,n=window.sProps,u,i,f,e,r;t.languageId=parseInt(n.LangID,10);t.zoneId=parseInt(n.ZoneID,10);t.oddsTypeId=parseInt(n.ot,10);t.timeZoneId=parseInt(n.tzi,10);t.timeZoneAdjustment=parseInt(n.tzAdjAlpha,10);t.currencyCode=n.curCode;t.countryCode=n.ISOCode;t.isLoggedIn=n.user.isLoggedIn;t.username=n.user.userName;t.offerType=n.user.offerType;t.customerType=n.user.customerType;t.timeZoneInitials=n.user.timeZoneInitials;n.balance&&(t.getBalance().totalBalance=n.balance.userTotalBalance,t.getBalance().gamingBalance=n.balance.userGamingBalance,t.currencyDecimalSeparator=n.balance.currencyDecimalSeparator,t.currencyGroupSeparator=n.balance.currencyGroupSeparator);ns_gen5_ui.ModuleContainer.ModuleLoader=new ns_gen5_net.ModuleLoaderBlob;u=new ns_gen5_ui.ModuleContainer;u.load("MobileBootModule");window.device=new DeviceSettings;window.device.initialise();i=document.getElementById("page");i.className=i.className+" os_"+device.osType;i.className=i.className+" browser_"+device.browserType;i.className=window.device.isWindowsPhone&&window.device.osVersion=="8.1"?i.className+" osVersion_8_1":i.className+" osVersion_"+parseInt(window.device.osVersion.toString(),10);localStorageEnabled=isHTML5StorageEnabled();siteDataSession.init();siteDataLocal.init();siteDataLocal.getItem("appType")&&siteDataLocal.getItem("appType").length!=0||siteDataLocal.setItem("appType",sProps.appType);siteDataLocal.getItem("appVersion")&&siteDataLocal.getItem("appVersion").length!=0||siteDataLocal.setItem("appVersion",sProps.appVersion);f=siteDataLocal.getItem("appType")?siteDataLocal.getItem("appType"):window.sProps.appType;e=siteDataLocal.getItem("appVersion")?siteDataLocal.getItem("appVersion"):window.sProps.appVersion;(window.sProps.appType===""||window.sProps.appVersion==="")&&(window.sProps.appType=f,window.sProps.appVersion=e);r=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler);r.IsApp?r.execute("api_init",{},b365MobileApp.appInitCallback,"appInitCallback"):resumeLoading()};b365MobileApp.appInitCallback=function(n,t){var i,r;!n&&t&&(i=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler),sProps.appInitResult=t,i.setAppInitValues(t),mobileBusinessRules.isVendorPayAvailable()&&(r=new ns_gen5_ui.ModuleContainer,r.initObject={enableLowPriorityMOSCalls:window.sProps.enableLowPriorityMOSCalls},r.load("VendorPayModule"),r.initialize()),i.isFeatureSupported("Notifications")&&i.execute("Notifications_getToken",{},function(n,t){window.sProps.deviceId=t.token},"getSiteLoadDeviceIDForNotificationsCallback"));resumeLoading()};typeof ns_gen5_ui!="undefined"&&(SportsUIController=function(){"use strict";function n(n,i){this.connectionState=s;this._pushTimeout=!1;this._startedConnect=!1;this._delegate_loadingCompleteHandler=new r(this,this._loadingCompleteHandler);this._delegate_loadingTimeoutHandler=new r(this,this._loadingTimeoutHandler);this._delegate_connectedHandler=new r(this,this._connectedHandler);this._delegate_connectionFailureHandler=new r(this,this._connectionFailedHandler);this._delegate_showStreamingHandler=new r(this,this._showStreamingHandler);this._delegate_showStreamingAudioHandler=new r(this,this._showStreamingAudioHandler);this._delegate_showMessageHandler=new r(this,this._showMessageHandler);this._delegate_removingOverview=new r(this,this._removingOverview);this._delegate_matchLiveLoadContent=new r(this,this._matchLiveLoadContent);this._delegate_matchLiveDisposed=new r(this,this._matchLiveDisposed);this._delegate_liveAlertSelected=new r(this,this._liveAlertSelected);this._delegate_liveAlertCheckState=new r(this,this._liveAlertCheckState);this._delegate_applyTeamKitColorsHandler=new r(this,this._applyTeamKitColorsHandler);this._delegate_overViewScheduleItemCreationHandler=new r(this,this._overViewScheduleItemCreationHandler);this._delegate_tournamentPushUpdatesFailed=null;this._delegate_connectionFailedInvalidSession=new r(this,this._connectionFailedInvalidSession);this._delegate_mediaChangedHandler=new r(this,this._mediaChangedHandler);this._delegate_streamingProviderSupported=new r(b365Mobile.StreamingSupportRules,b365Mobile.StreamingSupportRules.isStreamingProviderSupported);this._delegate_BetCallAvailableChangedHandler=new b(this,this.betCallAvailableChangedHandler);this._delegate_overviewClassificationSelectedHandler=new r(this,this._overviewClassificationSelectedHandler);this._delegate_fixtureSelectedHandler=new r(this,this._fixtureSelectedHandler);this._delegate_inPlayMyBetsNavigationHandler=new r(this,this._inPlayMyBetsNavigationHandler);window.ns_gen5_ui.Application.currentApplication?t=window.ns_gen5_ui.Application.currentApplication:(t=new window.ns_gen5_ui.Application(n),t.initialize());t.applyPointerProcessor=!1;this.target=n;this.isInplayOverviewLoaded=!1;this.requestedTwilio=!1;t.addEventListener(h.LOADING_COMPLETE,this._delegate_loadingCompleteHandler);t.addEventListener(h.LOADING_TIMEOUT,this._delegate_loadingTimeoutHandler);t.addEventListener("removingOverview",this._delegate_removingOverview);t.addEventListener("watchStream",this._delegate_showStreamingHandler);t.addEventListener("showStreamingAudio",this._delegate_showStreamingAudioHandler);t.addEventListener("showMessage",this._delegate_showMessageHandler);t.addEventListener("MatchLiveLoadContent",this._delegate_matchLiveLoadContent);t.addEventListener("MatchLiveContainerDisposed",this._delegate_matchLiveDisposed);t.addEventListener("LiveAlertSelected",this._delegate_liveAlertSelected);t.addEventListener("LiveAlertCheckState",this._delegate_liveAlertCheckState);t.addEventListener("ApplyTeamKitColors",this._delegate_applyTeamKitColorsHandler);t.addEventListener("scheduleCreation",this._delegate_overViewScheduleItemCreationHandler);t.addEventListener("overviewClassificationSelected",this._delegate_overviewClassificationSelectedHandler);t.addEventListener("fixtureSelected",this._delegate_fixtureSelectedHandler);t.addEventListener("InPlayMyBetsViewRequested",this._delegate_inPlayMyBetsNavigationHandler);l=new w(document.body);l.activate();FastClick.attach(document.body);Locator.subscriptionManager.setPullDataProcessor(new ns_gen5_data.PullDataProcessor);this._preInit(i)}var s=-1,v=0,y=1,p=2,r=window.ns_gen5_util.Delegate,w=window.ns_gen5_ui.PointerProcessor,g=window.ns_gen5_ui.Application,h=window.ns_gen5_events.ApplicationEvent,f=window.ns_gen5_data.StreamDataProcessorEvent,nt=window.ns_gen5_config.PushedConfigPropertyChangeEvent,b=window.ns_gen5_util.Delegate,u=window.ns_betslip.BetSlipEvent,k=window.ns_gen5_util.AjaxLoader,tt=window.ns_gen5_ui.Component,d=window.ns_gen5_util.EventTrigger,o=window.ns_gen5_util.OddsConverter,c=window.ns_gen5_util.OddsType,i,l,t,e,a="InplayModule_Loaded";return n.prototype._preInit=function(n){var u=window.Locator.user,t,i,r;ns_gen5_ml.LanguageSettings.SelectLanguageProfile(u.languageId);o.MinOdds=parseFloat(n.minimumOdds);u.setSiteConfig(n.sc.fm,n.sc.ct,n.sc.cts,n.sc.ctg);u.restrictedBettingEnabled=n.user.restrictedBettingEnabled;t={};for(i in n.push)n.push.hasOwnProperty(i)&&(t[i]=n.push[i]);window.MatchLiveMobile.allowConnection()||(t.MatchLiveEnabledClassifications=null);window.hasOwnProperty("checkSessionExpiredAndReload")&&(t.hasSessionExpiredFunction=window.checkSessionExpiredAndReload);b365Mobile.StreamingSupportRules&&(t.isStreamingProviderSupported=b365Mobile.StreamingSupportRules.isStreamingProviderSupported);t.supportsBetCall=window.mobileBusinessRules.canSupportBetCall();t.supportsBetCallTwilio=function(){return window.mobileBusinessRules.canSupportBetCallTwilio()};t.supportsNativeAppVideo=function(){return window.mobileBusinessRules.supportsFloatingNativeVideo()};t.supportsSISVideo=function(){return window.mobileBusinessRules.supportsSISVideo()};window.device.iosDevice?t.appDownloadURL="itms-apps://itunes.apple.com/au/app/bet365/id519684662":window.device.isAndroid&&(t.appDownloadURL="https://app.downloaded365.com/Mobile/bet365.apk");t.jsLogEndPoint="/ClientErrors/ClientErrorHandler.ashx";t.myBetsFallbackMode=window.mobileBusinessRules.mybetsFallbackMode();t.enhancedMode=window.mobileBusinessRules.clientEnhancedMode();t.enableInplayFavourites=window.mobileBusinessRules.enableInplayFavourites();t.enableEditBet=window.mobileBusinessRules.enableEditBet();t.supportsLiveAlerts=function(){return Modernizr.livematchalerts};t.noSVGSupport=window.mobileBusinessRules.noSVGSupport();t.appType=window.sProps.appType;t.urlLanguageCode=window.sProps.UrlLanguageCode;t.instantGamesClassifications=window.sProps.instantGames.classifications;t.overviewDefaultMarkets=window.sProps.user.overViewMarkets;t.preMatchFavouriteSports=window.sProps.user.LHSFavourites;t.userPreferencesUrl="/api/1/UserPreferences/Update";t.supportsInstantGames=function(){return window.instantGamesController&&window.instantGamesController.supportsInstantGames()};t.supportsStickyVideo=window.mobileBusinessRules.supportsStickyVideo();t.supportsStickyHeader=window.mobileBusinessRules.supportsStickyHeader();t.sessionExpired=b365Mobile.account.sessionExpired;t.editBetsApiUrl=window.sProps.editBetsApiUrl;t.currencyRate=Number(window.sProps.user.currencyRate);t.apiLocation=window.sProps.apiUrl;t.openCouponForSportsDataKey=b365Mobile.navigation.openCouponForSportsDataKey;t.getDeviceId=function(){return window.sProps.deviceId};t.dstStart=window.sProps.dstStart;t.dstEnd=window.sProps.dstEnd;ns_moblib_bootstrapper.Bootstrapper.Initialize(t);window.favourites=new b365Mobile.favourites(window.sProps.user.favourites);window.favourites.init();window.Locator.subscriptionManager._streamDataProcessor.addEventListener(f.CONNECTED,this._delegate_connectedHandler);window.Locator.subscriptionManager._streamDataProcessor.addEventListener(f.CONNECTION_FAILED,this._delegate_connectionFailureHandler);window.Locator.subscriptionManager._streamDataProcessor.addEventListener(f.CONNECTION_FAILED_INVALID_SESSION,this._delegate_connectionFailedInvalidSession);window.Locator.timeManager.isDst=sProps.isDST;window.b365Mobile.account.isUserLoggedIn()&&(r=ns_gen5_util.Singleton.getInstance(ns_gen5_util.BalanceModel),r.isItalianDomain=window.location.hostname.split(".").pop()==="it",r.pullBalancePath="balanceservice/balanceservicehandler.ashx",r.load(ns_gen5_util.CookieManager.GetSessionId()))},n.prototype.connect=function(){this._startedConnect||(this._startedConnect=!0,window.Locator.subscriptionManager.connect(),window.b365Mobile.account.isUserLoggedIn()&&window.Locator.privateSubscriptionManager.connect(),this.initialisePushedConfig())},n.prototype.initialisePushedConfig=function(){this._isPushedConfigInitialised||(this._isPushedConfigInitialised=!0,window.Locator.pushedConfig.addEventListener(ns_gen5_config.PushedConfigPropertyChangeEvent.IS_BET_CALL_AVAILABLE,this._delegate_BetCallAvailableChangedHandler),window.Locator.pushedConfig.pushBalanceEnabledAttribute="MP",window.myBetsController=new b365.MyBetsController(t),window.myBetsController.initialize(),window.Locator.pushedConfig.initialiseSubscription(window.Locator.subscriptionManager,window.Locator.user))},n.prototype.initializeInPlayModule=function(n,t){this._module=this._moduleContainer.getModule();window.navBar&&window.navBar.highlightSelection(2);this.connect();this.showView(n,t);window.b365Mobile.utils.preLoadLoaded();window.siteViewController.hideSportsMenu()},n.prototype.loadView=function(n,t,i){var r=this,u;r._module?r.initializeInPlayModule(t,i):(u=function(){r._moduleContainer.removeEventListener(a,r._moduleReadyDelegate);r.initializeInPlayModule(t,i)},this._moduleReadyDelegate=new ns_gen5_util.Delegate(this,u),this._moduleContainer=new ns_gen5_ui.ModuleContainer,this._moduleContainer.addEventListener(a,this._moduleReadyDelegate),this._moduleContainer.load("InPlayModule"))},n.prototype.clearTarget=function(){while(this.target.firstChild)this.target.removeChild(this.target.firstChild)},n.prototype.disposingView=function(){t.disableUI()},n.prototype.disposeView=function(){t.disableUI();i&&(i.siteFooter&&document.getElementById("Site").insertBefore(i.siteFooter,null),i.dispose(),this._module.removeChild(i),i=null,t.removeChild(this._module),ns_inplaylib_media.Locator.mediaManager.removeEventListener(ns_inplaylib_events.MediaManagerEvent.MATCH_LIVE_POPULATED,this._delegate_mediaChangedHandler),ns_inplaylib_media.Locator.mediaManager.removeEventListener(ns_inplaylib_events.MediaManagerEvent.MEDIA_STREAM_POPULATED,this._delegate_mediaChangedHandler),ns_inplaylib_media.Locator.mediaManager.removeEventListener(ns_inplaylib_events.MediaManagerEvent.NO_MEDIA,this._delegate_mediaChangedHandler));e&&(this._delegate_tournamentPushUpdatesFailed&&e.removeEventListener(window.ns_inplaymodule_tournament.MarketGroupCouponPushUpdates.TIMEOUT,this._delegate_tournamentPushUpdatesFailed),e.dispose(),e=null);window.viewController&&window.viewController.showSportsMenu()},n.prototype.showView=function(n,r){window.podController&&window.podController.dispose();window.MyBetsContainer&&(window.MyBetsContainer.dispose(),window.MyBetsContainer=null);t.enableUI();i||(i=this._module.getViewController(),ns_inplaylib_media.Locator.mediaManager.addEventListener(ns_inplaylib_events.MediaManagerEvent.MATCH_LIVE_POPULATED,this._delegate_mediaChangedHandler),ns_inplaylib_media.Locator.mediaManager.addEventListener(ns_inplaylib_events.MediaManagerEvent.MEDIA_STREAM_POPULATED,this._delegate_mediaChangedHandler),ns_inplaylib_media.Locator.mediaManager.addEventListener(ns_inplaylib_events.MediaManagerEvent.NO_MEDIA,this._delegate_mediaChangedHandler),this.clearTarget(),t.appendChild(this._module));var u=$("#PageFooter").parent("form"),f=u.find("#BackToTopBigBttn");f.on("click",function(){window.scrollToTop()});i.siteFooter=u[0];i.showView(n,r);siteDataSession.getItem("showLoginPopup")&&siteDataSession.getItem("showLoginPopup")==="true"&&(siteDataSession.setItem("showLoginPopup","false"),window.b365Mobile.account.isUserLoggedIn()===!1&&b365Mobile.account.logInPopUp())},n.prototype.setViewDimensions=function(n){n.length!=0&&(window.siteViewController.isWideView?(n.css("min-height",""),n.css("min-height",$("#Main").height()+"px")):n.css("min-height",""))},n.prototype._removingOverview=function(){this.isInplayOverviewLoaded=!1;this.isInplayEventViewLoaded=!1;window.Locator.validationManager.callPostValidation(function(){window.Modernizr.supportsnativescrolling||$(".ipo-Overview_SportNavContainer").removePageScroller()})},n.prototype.itemsRemoved=function(n){var t=new u(u.PARTICIPANT_REMOVED_FROM_BETSLIP);(t.data=n,window.Locator.inplayEvents.dispatchEvent(t),n&&n.Id)&&(t=new u(n.Id),t.data=n,t.selected=0,window.Locator.inplayEvents.dispatchEvent(t))},n.prototype.itemsAdded=function(n){var t=new u(u.PARTICIPANT_ADDED_TO_BETSLIP);t.data=n;window.Locator.inplayEvents.dispatchEvent(t);n.Id&&(t=new u(n.Id),t.data=n,t.selected=1,window.Locator.inplayEvents.dispatchEvent(t))},n.prototype._loadingCompleteHandler=function(){if(i){var n=this;this.isInplayOverviewLoaded=i.currentView.toString()==="[MobileOverview]";this.isInplayEventViewLoaded=i.currentView.toString()==="[MobileEventView]";this._configureClassificationMenu();window.Locator.validationManager.callPostValidation(function(){n.isInplayEventViewLoaded&&n.setViewDimensions($(".ip-MobileEventView_EventViewWrapper",n.target));window.b365Mobile.footer.setFooter();window.scrollToTop();window.removeMainClickHandler(!1,!1);window.sidebarController&&window.sidebarController.closeSidebar();window.amon&&window.amon.restart()});window.betslipBarCache&&window.betslipBarCache.length>0&&($("#betslipBar").length==0&&$("#Main").prepend(window.betslipBarCache[0].outerHTML),window.bsApp.updateBetslipBar(window.bsApp.betCount),window.bsApp.setBetslipBarDisplay())}},n.prototype._loadingTimeoutHandler=function(){this._pushTimeout=!0;window.sProps.push.PushInPlayStatusChangedTimestamp=new Date},n.prototype._showStreamingHandler=function(n){var t=0,i=!1;n.data.MediaId&&n.data.MediaId>0?t=n.data.MediaId:n.data.PaddockMediaId&&n.data.PaddockMediaId>0&&(t=n.data.PaddockMediaId,i=!0);window.StreamVideo(n.data.ClassificationId,t,n.data.FixtureId,n.data.ProviderId,"1",!1,n.canStreamInlineDelegate,i,n.data.Prematch)},n.prototype.notifyStreamShowing=function(){t.dispatchEvent(new ns_gen5_events.Event365("showStreaming"))},n.prototype._showStreamingAudioHandler=function(n){window.showAudioMenu(n.data.NavType,n.data.ClassificationId)},n.prototype._showMessageHandler=function(n){window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.v6Racing],function(){window.b365Mobile.Racing.showToteDescText(n.data)},[],this)},n.prototype._connectedHandler=function(){this.connectionState=y;window.Locator.subscriptionManager._streamDataProcessor.removeEventListener(f.CONNECTED,this._delegate_connectedHandler);window.Locator.subscriptionManager._streamDataProcessor.removeEventListener(f.CONNECTION_FAILED,this._delegate_connectionFailureHandler)},n.prototype._connectionFailedHandler=function(n){var t=n.data,i=window.sProps.push;n.retry=!0;t<5?this.connectionState===s&&(this.connectionState=v):(this.connectionState=p,i.PushInPlayStatusChangedTimestamp=new Date)},n.prototype._applyTeamKitColorsHandler=function(){var n,t;n=$("#cpLineupIconT1");t=$("#cpLineupIconT2");n.length>0&&n.attr("data-classification")&&n.attr("data-kit")&&t.length>0&&t.attr("data-classification")&&t.attr("data-kit")&&(n.setKitAttrs("/teamkit/imgs/classifications/"+n.attr("data-classification")+"/KIT-"+n.attr("data-kit")+".svg").applyKitColour(),t.setKitAttrs("/teamkit/imgs/classifications/"+t.attr("data-classification")+"/KIT-"+t.attr("data-kit")+".svg").applyKitColour())},n.prototype._matchLiveLoadContent=function(n){window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.matchLiveGlobal],function(){var t=n.data.view,i="matchlive/matchlive.aspx?key="+n.data.classificationId,r=n.target;k.loadAndExecute(i,r._element,function(){d.triggerEventOnElement(document,"matchliveinitattempt",n.data)});siteViewController.overrideMatchLiveFlags(t)})},n.prototype.matchLiveLoaded=function(){window.Locator.inplayEvents.dispatchEvent(new window.ns_gen5_events.Event365("MatchLiveLoaded"))},n.prototype.showMatchLiveLineUps=function(n){var u,t,r,f;if(i&&i.currentView&&(u=i.currentView,u instanceof window.ns_inplaymodule_viewcontrollers_mobileviews.MobileEventView&&(t=u._lineUpContainers||i._rhs&&i._rhs._lineUpContainers,t))){for(r=0,f=t.length;r<f;r++)t[r].setOpen(!1);t[n-1].setOpen(!0)}},n.prototype.showMatchLiveStats=function(){var n,t;i&&i.currentView&&(n=i.currentView,n instanceof window.ns_inplaymodule_viewcontrollers_mobileviews.MobileEventView&&(t=n._statsContainer||i._rhs&&i._rhs._statsContainer,t&&t.setOpen(!0)))},n.prototype._matchLiveDisposed=function(){if(window.MatchLiveGlobal)window.MatchLiveGlobal.onPageLoadClearMatchLive(!0)},n.prototype._liveAlertSelected=function(){window.b365Sport.LiveMatchAlert.SingleMenuToggle()},n.prototype._liveAlertCheckState=function(){window.b365Sport.LiveMatchAlert&&window.b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav()},n.prototype.setOverviewClassificationMenu=function(){this.scrollClassificationMenuToSelectedItem()},n.prototype.scrollClassificationMenuToSelectedItem=function(){var n,u,t,f,i,e,r;window.Modernizr.supportsnativescrolling&&(n=$(".ipo-Overview_SportNavContainer","#Main"),n.length!=0)&&(u=n.find(".ipo-ClassificationMenuBase"),u.length!=0)&&(t=u[0].wrapper.selectedClassification,t&&typeof t=="object"&&(r=t._element.offsetWidth,i=n.width(),e=t._element.offsetLeft,r=e+r/2,i=i/2,f=r>i?r-i:0,n.animate({scrollLeft:f},300)))},n.prototype._overViewScheduleItemCreationHandler=function(n){n.createItemDelegate.method.call(n.createItemDelegate.scope)},n.prototype._connectionFailedInvalidSession=function(){var n=Math.floor((new Date).getTime()/1e3);window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"&cb="+n+window.location.hash},n.prototype.resetMarketsView=function(){i.currentView.dispatchEvent(new ns_inplaylib_events.InPlayNavigationEvent(ns_inplaylib_events.InPlayNavigationEvent.INPLAY_MARKETS_VIEW))},n.prototype.convertOdds=function(n){var t=window.Locator.user.oddsTypeId;if(n&&n.length>0)switch(t){case c.DECIMAL:return o.ConvertOddsDecimal(n);case c.AMERICAN:return o.ConvertOddsUS(n);default:return n}else return n},n.prototype._mediaChangedHandler=function(){this._configureClassificationMenu()},n.prototype._configureClassificationMenu=function(){var n=this;window.Locator.validationManager.callPostValidation(function(){var t;n.isInplayOverviewLoaded&&(t=".ipo-ClassificationMenuBase .ipo-Classification",window.Modernizr.bet365video||(t+=":not(.sport_Streaming)"),window.Modernizr.supportsnativescrolling?n.scrollClassificationMenuToSelectedItem():$(".ipo-Overview_SportNavContainer",n.target).pageScroller({itemsSelector:t,itemParentSelector:".ipo-ClassificationMenuBase",itemSpacing:25,containerPadding:30,selectedItemSelector:".ipo-ClassificationMenu_Selected",leftArrowClass:"ipo-Overview_LeftArrow",rightArrowClass:"ipo-Overview_RightArrow",arrowActiveClass:"ipo-Overview_ArrowActive",showSelected:!0}))})},n.prototype.isMultiplesEnabledForClickToCall=function(){return Locator.pushedConfig.getIsMultiplesEnabledForClickToCall()},n.prototype.betCallAvailableChangedHandler=function(){var n=Locator.pushedConfig.getIsBetCallAvailable();if(window.bsApp){if(window.mobileBusinessRules.clientEnhancedMode()&&window.betslipTabController)window.betslipTabController.checkAndChangeBetslipText();else{var i=window.bsApp.hasPhoneOnlyItemOnSlip(),r=window.location.hostname.split(".").pop()==="au",t=document.getElementById("fallbackBetslipBarText");n&&i&&r&&t&&(t.innerHTML="Selections")}n&&!window.Twilio&&Locator.pushedConfig.getIsBetCallTwilioAvailable()&&sProps.microphonePermissionGranted&&!this.requestedTwilio&&(this.requestedTwilio=!0)}},n.prototype.betCallConnected=function(){var n=new u(u.BETCALL_CONNECTED);window.Locator.inplayEvents.dispatchEvent(n)},n.prototype._overviewClassificationSelectedHandler=function(n){var t=n.target.stem.data.ID;(typeof window.sidebarController!="undefined"||window.sidebarController!=null)&&window.sidebarController.stateChanged("InPlay",t)},n.prototype._fixtureSelectedHandler=function(n){var t=n.target.parent.stem.data.ID;(typeof window.sidebarController!="undefined"||window.sidebarController!=null)&&window.sidebarController.stateChanged("InPlay",t)},n.prototype._inPlayMyBetsNavigationHandler=function(n){n.data&&n.data.callback&&(window.editBetController?window.editBetController.editBetModuleConfirmClose(n.data.callback):n.data.callback())},n}());PodController=function(){function n(){}if(typeof ns_gen5_util!="undefined"){var t="InPlayLauncherModuleEvent_ClassificationsLoaded";return n.prototype._homePagePodArr=[],n.prototype._podsToLoadBeforePageLoad=0,n.prototype._preloadPodStemDataFromElement=function(n,t){var e=this,u=null,i=document.getElementById(n),r,f;if(i){if(r=i.getAttribute("data-topic"),r&&r.length){if(u=r,f=i.innerHTML,!t&&!f)return null;e._loadTopicDataIntoSportsUI(u,f)}i.parentNode.removeChild(i)}return u},n.prototype._loadTopicDataIntoSportsUI=function(n,t){ns_gen5_data.DataUtil.ParseMessage(t,n)},n.prototype.ShowInPlayPod=function(n){var i,u,r;Locator.subscriptionManager.subscribe("LIInPlay_"+Locator.user.languageId+"_"+Locator.user.zoneId,new ns_gen5_util.Delegate(this,function(){}));i=new ns_gen5_ui.ModuleContainer;u=new window.ns_gen5_util.Delegate(this,this._inPlayLauncherClassificationsLoaded);i.addEventListener(t,u);i.load("InPlayLauncherModule");i.initObject={isNarrowView:window.siteViewController.isNarrowView};i.initialize();r=new ns_gen5_util.Delegate(this,function(){i.removeEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,r);this.LoadSite()});i.addEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,r);this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++;n.appendChild(i.getElement());this._homePagePodArr.push(i)},n.prototype.ShowBettingBannerPod=function(n){var i,t,r;n&&(i=n.getAttribute("data-podbankid"),Locator.subscriptionManager.subscribe("PB"+i+"_"+Locator.user.languageId+"_"+Locator.user.zoneId,new ns_gen5_util.Delegate(this,function(){})),t=new ns_gen5_ui.ModuleContainer,t.load("BettingBannersModule"),t.initObject={podBankId:i},t.initialize(),this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,r=new ns_gen5_util.Delegate(this,function(){t.removeEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,r);this.LoadSite()}),t.addEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,r),n.appendChild(t.getElement()),this._homePagePodArr.push(t))},n.prototype.ShowRunnersPod=function(n){if(n){var t=n.getAttribute("data-podbankid"),i=this;Locator.subscriptionManager.subscribe("PB"+t+"_"+Locator.user.languageId+"_"+Locator.user.zoneId,new ns_gen5_util.Delegate(this,function(){}));this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++;this._homePagePodArr.push(new b365.RunnersPodController(n,t,function(){i.LoadSite()}))}},n.prototype.ShowRaceRibbonPod=function(n){var i,t,r;n&&(i=n.getAttribute("data-podbankid"),Locator.subscriptionManager.subscribe("PB"+i+"_"+Locator.user.languageId+"_"+Locator.user.zoneId,new ns_gen5_util.Delegate(this,function(){})),this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,t=new ns_gen5_ui.ModuleContainer,t.load("RaceRibbonModule"),t.initObject={podBankId:i,allracePageNavDelegateFunction:function(n){b365Mobile.navigation.goToSportSplashPage(n.toString())},navToRaceCouponDelegateFunction:b365Mobile.navigation.openCouponForSportsDataKey},t.initialize(),r=new ns_gen5_util.Delegate(this,function(){t.removeEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,r);this.LoadSite()}),t.addEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,r),n.appendChild(t.getElement()),this._homePagePodArr.push(t))},n.prototype.ShowSidebarPod=function(n){var i=this,r=new ns_gen5_ui.ModuleContainer,t=i._preloadPodStemDataFromElement("SidebarData",!0);t&&((typeof window.sidebarController=="undefined"||window.sidebarController==null)&&(window.sidebarController=new b365.SidebarController),window.sidebarController.initialize(n,t,null,null))},n.prototype.ShowQuickBetPod=function(n){(typeof window.betDataHelper=="undefined"||window.betDataHelper==null)&&(window.betDataHelper=new b365.BetDataHelper,betDataHelper.initialize());window.location.hostname.split(".").pop()==="au"&&window.mobileBusinessRules.canSupportBetCall()&&(typeof window.quickBetcallController=="undefined"||window.quickBetcallController==null)&&(window.quickBetcallController=new b365.QuickBetcallController,window.quickBetcallController.initialize());(typeof window.quickBetController=="undefined"||window.quickBetController==null)&&(window.quickBetController=new b365.QuickBetController);window.quickBetController.initialize(n)},n.prototype.ShowHeaderPod=function(n){var i=this,r=new ns_gen5_ui.ModuleContainer,t=i._preloadPodStemDataFromElement("HeaderData",!0);t&&((typeof window.headerController=="undefined"||window.headerController==null)&&(window.headerController=new b365.HeaderController),window.headerController.initialize(n,t,null,null))},n.prototype.ShowWideHeaderPod=function(n){var i=this,r=new ns_gen5_ui.ModuleContainer,t=i._preloadPodStemDataFromElement("WideHeaderData",!0);t&&((typeof window.headerController=="undefined"||window.headerController==null)&&(window.headerController=new b365.HeaderController),window.headerController.initializeWide(n,t,null,null))},n.prototype.ShowMemberMenuPod=function(n){var t=this;window.memberMenuController||(window.memberMenuController=new b365.MemberMenuController);window.memberMenuController.initialize(n)},n.prototype.ShowPromotedCouponsPod=function(n){var t=this,i;n&&(i=t._preloadPodStemDataFromElement("hp-PromotedCouponsData",!0),i)&&(this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,t._homePagePodArr.push(new b365.PromotedCouponsController(n,i,t.LoadSite,t)))},n.prototype.ShowGamingPod=function(n){var t=this,i;n&&(i=t._preloadPodStemDataFromElement("hp-GamingLinksData",!0),i)&&(this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,t._homePagePodArr.push(new b365.GamingLinksController(n,i,t.LoadSite,t)))},n.prototype.ShowInstantGamesPod=function(n){var t=this,i;n&&(i=t._preloadPodStemDataFromElement("hp-InstantGamesData",!0),i)&&(this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,t._homePagePodArr.push(new b365.InstantGamesPodController(n,i,t.LoadSite,t)))},n.prototype.ShowHeroPod=function(n){var t=this,i;!this._heroPodShown&&n&&(i=t._preloadPodStemDataFromElement("HeroData",!0),i)&&(t._heroPodShown=!0,this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,t._homePagePodArr.push(new b365.HeroController(n,i,t.LoadSite,t)))},n.prototype.ShowFeaturedFixturePod=function(n){var t=this,i;n&&(i=t._preloadPodStemDataFromElement("ff-Data",!0),i)&&(this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,t._homePagePodArr.push(window.featuredFixtureController=new b365.FeaturedFixtureController(n,i,t.LoadSite,t)))},n.prototype.ShowHighlightsMainPod=function(n){var i=this,t,r;n&&(t=n.getAttribute("data-topic"),t)&&(this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,r=ns_moblib_modulecontrollers.HighlightsMainModuleController.Show({containerElement:n,topicId:t,moduleReadyCallback:function(){i.LoadSite()}}),i._homePagePodArr.push(r))},n.prototype.ShowAusInPlayPod=function(n){var t=this,i,r;n&&(this._podsToLoadBeforePageLoad<4&&this._podsToLoadBeforePageLoad++,i=t._preloadPodStemDataFromElement("AusInPlayPodData",!1),ns_moblib_modulecontrollers.AusInPlayTopTabModuleController&&(r=ns_moblib_modulecontrollers.AusInPlayTopTabModuleController.Show({containerElement:n,topicId:i,moduleReadyCallback:function(){t.LoadSite()}}),t._homePagePodArr.push(r)))},n.prototype.disposeHomepagePods=function(){for(var t,n=this;n._homePagePodArr.length>0;)t=n._homePagePodArr.pop(),t.dispose();window.featuredFixtureController&&(window.featuredFixtureController=null);n._homePagePodArr=[];n._heroPodShown=!1},n.prototype.dispose=function(){this.disposeHomepagePods();this._sportsUIController=null},n.prototype._removePlaceHolderElement=function(n){var t=document.getElementById(n);t&&(t.parentNode.removeChild(t),t=null)},n.prototype.Completed=function(){if(this._podsToLoadBeforePageLoad==0)this.LoadSite();else{var n=this;setTimeout(function(){n._podsToLoadBeforePageLoad=0;n.LoadSite()},5e3)}},n.prototype.LoadSite=function(){this._podsToLoadBeforePageLoad>0&&this._podsToLoadBeforePageLoad--;this._podsToLoadBeforePageLoad===0&&((typeof window.siteViewController!="undefined"||window.siteViewController!=null)&&window.siteViewController.updateView(),b365Mobile.utils.preLoadLoaded(),siteViewController.setSiteForWideViewRestricted())},n.prototype._inPlayLauncherClassificationsLoaded=function(n){var t,i;if(window.sProps.deviceId&&n.classificationIds&&n.classificationIds.length>0){t=[];for(i in n.classificationIds)b365Sport.LiveMatchAlert.IsClassificationEnabled(n.classificationIds[i])&&t.push(n.classificationIds[i]);b365Sport.SubscriptionManager.init(window.sProps.deviceId,"quickbetnotificationcheck.livematchalert",t)}},n}}();b365.HeaderController=function(){function n(){this._headerModuleContainer=null;this._wideHeaderModuleContainer=null;this._productNavBarDisplayed=""}var d=window.ns_gen5_util.Delegate,b="HeaderModule_AtozClick",k="HeaderModule_ProductNavClick",e="HeaderModule_JoinClick",o="HeaderModule_MyBetsClick",s="HeaderModule_InPlayClick",u="HeaderModule_HomeClick",h="HeaderModule_ProductBarHomeClick",c="HeaderModule_LinkClick",l="HeaderModule_AccountClick",a="HeaderModule_Loaded",f="InPlay",v="MyBets",y="Sports",i="HeaderContainer-Hidden",p="HeaderContainer",w="WideHeaderContainer",r="WideHeaderContainer-Hidden",t="showNavBar";return PREFERENCE_UPDATED_SHOW_POPUP="PREFERENCE_UPDATED_SHOW_POPUP",OPEN_MEMBERS_DROPDOWN="setOpenMembersDropdown",n.prototype._headerModuleContainer=null,n.prototype._wideHeaderModuleContainer=null,n.prototype._containerElem=null,n.prototype._headerAtozClickDelegate=null,n.prototype._headerProductLauncherClickDelegate=null,n.prototype._headerHomeClickDelegate=null,n.prototype._headerProductBarHomeClickDelegate=null,n.prototype._headerJoinClickDelegate=null,n.prototype._headerMyBetsClickDelegate=null,n.prototype._headerInPlayClickDelegate=null,n.prototype._headerModuleReadyDelegate=null,n.prototype._headerGenericLinkClickDelegate=null,n.prototype._headerAccountLinkClickDelegate=null,n.prototype._wideHeaderJoinClickDelegate=null,n.prototype._wideHeaderMyBetsClickDelegate=null,n.prototype._wideHeaderInPlayClickDelegate=null,n.prototype._wideHeaderHomeClickDelegate=null,n.prototype._wideHeaderGenericLinkClickDelegate=null,n.prototype._wideHeaderAccountLinkClickDelegate=null,n.prototype._wideHeaderMembersClickDelegate=null,n.prototype._wideHeaderBalanceUpdateDelegate=null,n.prototype._wideHeaderModuleReadyDelegate=null,n.prototype._preferenceUpdatedShowPopupDelegate=null,n.prototype._OpenMyAlertsClickDelegate=null,n.prototype._moduleReadyEventCallback=null,n.prototype._moduleReadyCallbackScope=null,n.prototype._wideModuleReadyEventCallback=null,n.prototype._wideModuleReadyCallbackScope=null,n.prototype._wrapperElement=null,n.prototype._headerModule=null,n.prototype._wideHeaderModule=null,n.prototype._productLinkHomeClickHandled=!1,n.prototype._initialLoad=!1,n.prototype.preferenceWasUpdated=!1,n.prototype._headerAtozClickHandler=function(){this.removeProductNav()},n.prototype._preferenceUpdatedShowPopupHandler=function(){!window.headerController||(window.headerController.preferenceWasUpdated=!0)},n.prototype._openMyAlertsClickHandler=function(n){this._headerAccountLinkClickHandler(n,!0)},n.prototype._headerJoinClickHandler=function(){b365Mobile.account.joinNow();this.removeProductNav()},n.prototype._headerMyBetsClickHandler=function(){newPage(v,"",!1,sProps.LangID)},n.prototype._headerInPlayClickHandler=function(){newPage(f,"",!0,sProps.LangID)},n.prototype._headerHomeClickHandler=function(n){var r=n.type===u,f=n.type===h,e=siteDataLocal.getItem(t)===1,i=window.siteViewController.isNarrowView||window.siteViewController.isMediumView;f?(this.removeProductNav(),this._productLinkHomeClickHandled=!0):r&&(i&&e||!i)&&this.removeProductNav();newPage("Home","",!0,sProps.LangID)},n.prototype._headerGenericLinkClickHandler=function(n){var t=n.data.navigationTarget;this.removeProductNav();navToExternal(t)},n.prototype._headerAccountLinkClickHandler=function(n,t){var i;this.removeProductNav();!window.memberMenuController||(i=window.memberMenuController.menuVisible(),t!=null?window.memberMenuController.toggle(!i,t):window.memberMenuController.toggle(!i),window.headerController.toggleMemberMenu(!i))},n.prototype._animateProductNavHide=function(){var n=this._getHeaderModule();n&&n.productNavBarHidden()},n.prototype._headerModuleReadyHandler=function(){var n,i,t;if(this._moduleReadyEventCallback&&this._moduleReadyEventCallback.call(this._moduleReadyCallbackScope,"HeaderPod"),n=this._getWrapperElement(),n&&(n.className=n.className+" state-ProductLauncherActive",i=this._getHeaderModule(),i&&this._productNavBarDisplayed=="1"&&(t=new Hash(window.location.hash),t&&(!t.Type||t.Type=="Home")))){n.className=n.className+" state-ProductLauncherActiveByDefault";i.productNavBarDisplayed();return}this.removeProductNav()},n.prototype._wideHeaderModuleReadyHandler=function(){this._wideModuleReadyEventCallback&&this._wideModuleReadyEventCallback.call(this._wideModuleReadyCallbackScope,"WideHeaderPod")},n.prototype._setProductNavBarFlag=function(){siteDataLocal.getItem(t)&&siteDataLocal.getItem(t).length!=0||siteDataLocal.setItem(t,1)},n.prototype._getHeaderModule=function(){return this._headerModule?this._headerModule:(this._headerModuleContainer&&(this._headerModule=this._headerModuleContainer.getModule()),this._headerModule)},n.prototype._getWideHeaderModule=function(){return this._wideHeaderModule?this._wideHeaderModule:(this._wideHeaderModuleContainer&&(this._wideHeaderModule=this._wideHeaderModuleContainer.getModule()),this._wideHeaderModule)},n.prototype._getWrapperElement=function(){return this._wrapperElement?this._wrapperElement:(this._wrapperElement=document.getElementById("wrapper"),this._wrapperElement)},n.prototype.initialize=function(n,i,r,f){var v,p=y;this._headerModuleContainer||(this._initialLoad=!0,this._moduleReadyEventCallback=r,this._moduleReadyCallbackScope=f,this._containerElem=n,this._headerModuleContainer=new ns_gen5_ui.ModuleContainer,this._headerAtozClickDelegate=new ns_gen5_util.Delegate(this,this._headerAtozClickHandler),this._headerModuleContainer.addEventListener(b,this._headerAtozClickDelegate),this._headerProductLauncherClickDelegate=new ns_gen5_util.Delegate(this,this._headerProductLauncherClickHandler),this._headerModuleContainer.addEventListener(k,this._headerProductLauncherClickDelegate),this._headerHomeClickDelegate=new ns_gen5_util.Delegate(this,this._headerHomeClickHandler),this._headerModuleContainer.addEventListener(u,this._headerHomeClickDelegate),this._headerModuleContainer.addEventListener(h,this._headerHomeClickDelegate),this._headerJoinClickDelegate=new ns_gen5_util.Delegate(this,this._headerJoinClickHandler),this._headerModuleContainer.addEventListener(e,this._headerJoinClickDelegate),this._headerMyBetsClickDelegate=new ns_gen5_util.Delegate(this,this._headerMyBetsClickHandler),this._headerModuleContainer.addEventListener(o,this._headerMyBetsClickDelegate),this._headerInPlayClickDelegate=new ns_gen5_util.Delegate(this,this._headerInPlayClickHandler),this._headerModuleContainer.addEventListener(s,this._headerInPlayClickDelegate),this._headerModuleReadyDelegate=new ns_gen5_util.Delegate(this,this._headerModuleReadyHandler),this._headerModuleContainer.addEventListener(a,this._headerModuleReadyDelegate),this._headerGenericLinkClickDelegate=new ns_gen5_util.Delegate(this,this._headerGenericLinkClickHandler),this._headerModuleContainer.addEventListener(c,this._headerGenericLinkClickDelegate),this._headerAccountLinkClickDelegate=new ns_gen5_util.Delegate(this,this._headerAccountLinkClickHandler),this._headerModuleContainer.addEventListener(l,this._headerAccountLinkClickDelegate),this._preferenceUpdatedShowPopupDelegate=new ns_gen5_util.Delegate(this,this._preferenceUpdatedShowPopupHandler),this._headerModuleContainer.addEventListener(PREFERENCE_UPDATED_SHOW_POPUP,this._preferenceUpdatedShowPopupDelegate),this._OpenMyAlertsClickDelegate=new ns_gen5_util.Delegate(this,this._openMyAlertsClickHandler),this._headerModuleContainer.addEventListener(OPEN_MEMBERS_DROPDOWN,this._OpenMyAlertsClickDelegate),window.location.hash.length>0?(v=new Hash(window.location.hash),v.Type&&v.Type.length>0&&(p=v.Type=="Coupon"&&v.Key&&v.Key.indexOf("-")==-1?"InPlay":v.Type)):p="Home",this._productNavBarDisplayed=siteDataLocal.getItem(t)?"0":"1",this._headerModuleContainer.initObject={topicId:i,product:p,useAnimations:window.mobileBusinessRules.clientEnhancedMode(),appType:window.sProps.appType,productNavBarDisplayed:this._productNavBarDisplayed},this._headerModuleContainer.load("HeaderModule"),this._headerModuleContainer.initialize(),this._containerElem.appendChild(this._headerModuleContainer.getElement()))},n.prototype._headerProductUpdateHandler=function(){if(this._initialLoad){this._initialLoad=!1;return}this.removeProductNav()},n.prototype._headerProductLauncherClickHandler=function(){var n=this._getWrapperElement(),t=this._getHeaderModule();n.className.indexOf("state-ProductLauncherActive")==-1?n.className=n.className+" state-ProductLauncherActive":(n.className=n.className.replace(" state-ProductLauncherActive",""),n.className=n.className.replace(" state-ProductLauncherActiveByDefault",""),this._setProductNavBarFlag())},n.prototype.initializeWide=function(n,t,i,r){var h,p=y;this._wideHeaderModuleContainer||(this._wideModuleReadyEventCallback=i,this._wideModuleReadyCallbackScope=r,this._containerElem=n,this._wideHeaderModuleContainer=new ns_gen5_ui.ModuleContainer,this._wideHeaderJoinClickDelegate=new ns_gen5_util.Delegate(this,this._headerJoinClickHandler),this._wideHeaderModuleContainer.addEventListener(e,this._wideHeaderJoinClickDelegate),this._wideHeaderMyBetsClickDelegate=new ns_gen5_util.Delegate(this,this._headerMyBetsClickHandler),this._wideHeaderModuleContainer.addEventListener(o,this._wideHeaderMyBetsClickDelegate),this._wideHeaderInPlayClickDelegate=new ns_gen5_util.Delegate(this,this._headerInPlayClickHandler),this._wideHeaderModuleContainer.addEventListener(s,this._wideHeaderInPlayClickDelegate),this._wideHeaderHomeClickDelegate=new ns_gen5_util.Delegate(this,this._headerHomeClickHandler),this._wideHeaderModuleContainer.addEventListener(u,this._wideHeaderHomeClickDelegate),this._wideHeaderGenericLinkClickDelegate=new ns_gen5_util.Delegate(this,this._headerGenericLinkClickHandler),this._wideHeaderModuleContainer.addEventListener(c,this._wideHeaderGenericLinkClickDelegate),this._wideHeaderModuleReadyDelegate=new ns_gen5_util.Delegate(this,this._wideHeaderModuleReadyHandler),this._wideHeaderModuleContainer.addEventListener(a,this._wideHeaderModuleReadyDelegate),this._wideHeaderAccountLinkClickDelegate=new ns_gen5_util.Delegate(this,this._headerAccountLinkClickHandler),this._wideHeaderModuleContainer.addEventListener(l,this._wideHeaderAccountLinkClickDelegate),window.location.hash.length>0&&(h=new Hash(window.location.hash),h.Type&&h.Type.length>0&&(h.Type=="Coupon"&&h.Key&&h.Key.indexOf("-")==-1?p=f:(h.Type==f||h.Type==v)&&(p=h.Type))),this._wideHeaderModuleContainer.load("HeaderModule"),this._wideHeaderModuleContainer.initObject={topicId:t,product:p,useAnimations:window.mobileBusinessRules.clientEnhancedMode(),appType:window.sProps.appType},this._wideHeaderModuleContainer.initialize(),this._containerElem.appendChild(this._wideHeaderModuleContainer.getElement()))},n.prototype.removeProductNav=function(){var n=this._getWrapperElement();return n.className.indexOf("state-ProductLauncherActive")>-1?(n.className=n.className.replace(" state-ProductLauncherActive",""),n.className=n.className.replace(" state-ProductLauncherActiveByDefault",""),this._animateProductNavHide(),!0):!1},n.prototype.betsCountChanged=function(n){var t;this._headerModuleContainer&&(t=this._headerModuleContainer.getModule(),t&&t.updateMyBetsCount(n));this._wideHeaderModuleContainer&&(t=this._wideHeaderModuleContainer.getModule(),t&&t.updateMyBetsCount(n))},n.prototype.toggleMemberMenu=function(n){var t;this._headerModuleContainer&&(t=this._headerModuleContainer.getModule(),t&&(n?t.addStyle("hm-HeaderLink_MemberMenuActive"):t.removeStyle("hm-HeaderLink_MemberMenuActive")));this._wideHeaderModuleContainer&&(t=this._wideHeaderModuleContainer.getModule(),t&&(n?t.addStyle("hm-WideHeaderPod_MemberMenuActive"):t.removeStyle("hm-WideHeaderPod_MemberMenuActive")))},n.prototype.enableMyBetsButton=function(){var n;this._headerModuleContainer&&(n=this._headerModuleContainer.getModule(),n&&n.enableMyBetsButton());this._wideHeaderModuleContainer&&(n=this._wideHeaderModuleContainer.getModule(),n&&n.enableMyBetsButton())},n.prototype.disableMyBetsButton=function(){var n;this._headerModuleContainer&&(n=this._headerModuleContainer.getModule(),n&&n.disableMyBetsButton());this._wideHeaderModuleContainer&&(n=this._wideHeaderModuleContainer.getModule(),n&&n.disableMyBetsButton())},n.prototype.toggleBalance=function(){var n;this._headerModuleContainer&&(n=this._headerModuleContainer.getModule(),n&&n.toggleBalance());this._wideHeaderModuleContainer&&(n=this._wideHeaderModuleContainer.getModule(),n&&n.toggleBalance())},n.prototype.suppress=function(){var n=document.getElementById(p);n&&n.className.indexOf(i)==-1&&(n.className=n.className+" "+i)},n.prototype.suppressWide=function(){var n=document.getElementById(w);n&&n.className.indexOf(r)==-1&&(n.className=n.className+" "+r)},n.prototype.unSuppress=function(){var n=document.getElementById(p);n&&n.className.indexOf(i)>-1&&(n.className=n.className.replace(" "+i,""))},n.prototype.unSuppressWide=function(){var n=document.getElementById(w);n&&n.className.indexOf(r)>-1&&(n.className=n.className.replace(" "+r,""))},n.prototype.repositionAnimatedBar=function(){var t=this._getHeaderModule(),n;t&&t.ready&&t.repositionAnimatedBar();n=this._getWideHeaderModule();n&&n.ready&&n.repositionAnimatedBar()},n}();b365.SidebarController=function(){function n(){t=this}var u=window.ns_gen5_util.Delegate,t,i="InstantGamesModule_GameClick",r="800";return n.prototype._containerElem=null,n.prototype._sidebarInstantGamesClickhandler=function(n){var t=n.data.gameId,i;t&&t>0&&(!window.editBetController||window.editBetController.addSelectionsEnabled!==!0||window.editBetController.skipNavCheck||window.editBetController.isWhiteListedNav("InstantGameLaunch",t)?window.instantGamesController.launchGame(t,!0,"3"):(i=function(){window.instantGamesController.launchGame(t,!0,"3")},this.closeSidebar(),window.editBetController.showNavMessage(i)))},n.prototype.initialize=function(n,t){var u,e="Sports",o="0",s="0",h,f;this._containerElem=n;f=new ns_gen5_ui.ModuleContainer;this._sidebarInstantGamesClickDelegate=new ns_gen5_util.Delegate(this,this._sidebarInstantGamesClickhandler);f.addEventListener(i,this._sidebarInstantGamesClickDelegate);window.location.hash.length>0&&(u=new Hash(window.location.hash),(u.Type=="Offer"||u.Type=="InPlay"||u.Type==="MyBets")&&(e=u.Type),u.Type=="Coupon"&&u.Key&&u.Key.indexOf("-")==-1&&(e="InPlay"),o=u.Key,h=new CouponKey(u.Key),h.SpecialEventId>0&&(o=r));window.mobileBusinessRules.disableFastClickForSportsUIModules()&&(s="1");f.load("SidebarModule");f.initObject={topicId:t,product:e,classification:o,disableFastClick:s,isDualScrollEnabled:!window.mobileBusinessRules.notWideViewDevice(),isCssScrollingEnabled:!window.mobileBusinessRules.noCssScrollingForSidebar(),isModernFlexBoxEnabled:window.Modernizr.flexbox};f.initialize();f.addEventListener("navExternal",new ns_gen5_util.Delegate(this,function(n){navToExternal(n.data)}));this._containerElem.appendChild(f.getElement())},n.prototype.stateChanged=function(n,t){ns_moblib_util_managers.LayoutManager.SwitchProductOrClassificationFromMSH(n,t)},n.prototype.openSidebar=function(n){var t;siteViewController&&!siteViewController.isWideView&&ns_moblib_util_managers.FloatingNativeVideoController.HideFloatingNativeVideo();typeof window.bsApp!="undefined"&&window.bsApp!=null&&window.bsApp.bsContext.ClientEnhancedMode()&&window.betslipTabController.hide();window.editBetController&&window.editBetController.addSelectionsEnabled===!0&&window.editBetController.hide();(typeof n=="undefined"||n===null)&&(n=document.getElementById("page"));window.mobileBusinessRules.noCssScrollingForSidebar()&&n.className.indexOf("noCssScrollingForSidebar")==-1&&(n.className=n.className+" noCssScrollingForSidebar");window.mobileBusinessRules.sidebarClickHandlerFallback()&&(t=document.getElementById("wrapper"),t.className=t.className+" sw-Open")},n.prototype.closeSidebar=function(){var n=document.getElementById("page"),t=document.getElementsByClassName("sb-SidebarModule")[0],i;siteViewController&&!siteViewController.isWideView&&ns_moblib_util_managers.FloatingNativeVideoController.ShowFloatingNativeVideo();typeof window.bsApp!="undefined"&&window.bsApp!=null&&window.bsApp.bsContext.ClientEnhancedMode()&&window.betslipTabController.show();window.editBetController&&window.editBetController.addSelectionsEnabled===!0&&window.editBetController.show();window.mobileBusinessRules.sidebarClickHandlerFallback()&&(i=document.getElementById("wrapper"),i.className=i.className.replace(" sw-Open",""));window.mobileBusinessRules.noCssScrollingForSidebar()&&(n.className.indexOf("noCssScrollingForSidebar")>-1&&(n.className=n.className.replace(" noCssScrollingForSidebar","")),document.body.scrollTop=0);n.style.height="";n.style.overflow="";t&&t.wrapper&&t.wrapper.setAttribute("style","");ns_gen5_ui.Application.currentApplication.width<950&&ns_moblib_util_managers.LayoutManager.HideNavigation()},n}();DeviceSettings=function(){this.isIPhone=!1;this.isIPad=!1;this.isIPod=!1;this.iosDevice=!1;this.isAndroid=!1;this.isAndroidNativeBrowser=!1;this.isBlackBerry=!1;this.isPlayBook=!1;this.isWindowsPhone=!1;this.isWindowsDesktop=!1;this.isFirefox=!1;this.isSilk=!1;this.cssTransitionsSupported=null;this.ajaxCacheBreakRequired=!1;this.isChrome=!1;this.isSamsungBrowser=!1;this.isWebview=!1;this.isInternetExplorer=!1;this.isMicrosoftEdge=!1;this.isUcBrowser=!1;this.osVersion="0";this.browserVersion="0";this.browserType="";this.osType="";this.isOpera=!1;this.isPresto=!1;this.isBlackBerry10=!1;this.isWebkitBrowser=!1;this.isOperaMini=!1;this.isNexus7=!1;this.isNexus10=!1;this.isIPhone6=!1;this.isIPhone6Plus=!1;this.appVersion="";this.isQqBrowser=!1;this.isDolphinBrowser=!1;this.isSamsungGalaxyS2=!1;this.isSamsungGalaxyS3=!1;this.isSamsungGalaxyS3Mini=!1;this.isAndroidTablet=!1;this.isAndroidMobile=!1;this.isDesktop=!1;this.isMac=!1;this.isWindows=!1;this.deviceType="";this.initialise=function(n){var t,r,u,f,s="(\\(bb)([1-9][0-9]).*(mobile)",h,o,e,i;if(t=n&&n.length>0?n.toLowerCase():navigator.userAgent.toLowerCase(),this.isDesktop=typeof window.orientation!="undefined"?!1:!0,this.isMac=navigator.platform.toUpperCase().indexOf("MAC")>=0,this.isWindows=navigator.platform.toUpperCase().indexOf("WIN")>=0,this.isSamsungGalaxyS2=t.indexOf("gt-i9100")>-1,this.isSamsungGalaxyS3=t.indexOf("gt-i9300")>-1||t.indexOf("gt-i9305")>-1,this.isSamsungGalaxyS3Mini=t.indexOf("gt-i9305")>-1||t.indexOf("gt-i8190")>-1,this.getPartialUserAgent=function(){return t.match(/((iphone os|ipad) ?([0-9])?)|((android) [2-9]\.[0-9])/gi)},t.indexOf("windows nt")>-1&&t.indexOf("edge")>-1){this.osType="windesktop";this.isWindowsDesktop=!0;this.isMicrosoftEdge=!0;this.browserType="mse";this.osVersion=t.substr(t.indexOf("windows nt")+11);this.osVersion=this.osVersion.substr(0,this.osVersion.indexOf(";"));this.browserVersion=t.substr(t.indexOf("edge")+5);this.setDeviceType();return}if(this.isWindowsPhone=t.indexOf("windows phone")>-1||t.indexOf("microsoft build")>-1,this.isWindowsPhone){if(this.osType="winphone",t.indexOf("edge")>-1){this.isMicrosoftEdge=!0;this.browserType="mse";this.osVersion=t.substr(t.indexOf("windows phone")+14);this.osVersion=this.osVersion.substr(0,this.osVersion.indexOf(";"));this.browserVersion=t.substr(t.indexOf("edge")+5);this.setDeviceType();return}this.isInternetExplorer=!0;this.browserType="ie";h="ontouchstart"in window||"ontouchstart"in document.documentElement;try{window.atob?(this.osVersion=t.substr(t.indexOf("windows phone")+14),this.osVersion=this.osVersion.substr(0,this.osVersion.indexOf(";")),h||this.osVersion=="8.1"?(this.osVersion="8.1",this.browserVersion=11):(this.osVersion="8.0",this.browserVersion=10)):(this.osVersion="7.0",this.browserVersion=9,this.ajaxCacheBreakRequired=!0)}catch(c){this.osVersion=0;this.browserVersion=0}this.setDeviceType();return}if(this.isAndroid=t.indexOf("android")>-1,this.isAndroid&&(t.toUpperCase().indexOf("MOBILE")>=0?this.isAndroidMobile=!0:this.isAndroidTablet=!0),this.isAndroid){if(r=t.match(/android([\s\/]?)+([\d\.]+)/i),this.osType="android",this.browserType="safari",t.indexOf("b365sports")>-1)for(this.appVersion=t.split("b365sports/")[1].split("."),e=this.appVersion.length,i=0;i<e;i++)parseInt(this.appVersion[i])<10&&(this.appVersion[i]="0"+this.appVersion[i]);else this.appVersion="";r&&r.length>2&&(this.osVersion=r[2]);this.isChrome=t.indexOf("chrome")>-1;this.isWebview=t.indexOf("version/")>-1;this.isSamsungBrowser=t.indexOf("samsungbrowser")>-1||t.indexOf("samsung")>-1&&this.isWebview&&t.indexOf("b365sports")===-1;this.isChrome&&(this.browserVersion=parseFloat(t.match(/Chrome\/(\d*)\./i)[1]),this.browserType="chrome");t.indexOf("ucbrowser")>-1&&(this.isUcBrowser=!0,this.browserType="ucbrowser");(t.indexOf("dolfin")>-1||t.indexOf("dolphin")>-1)&&(this.isDolphinBrowser=!0);t.indexOf("qqbrowser")>-1&&(this.isQqBrowser=!0);this.isAndroidNativeBrowser=t.indexOf("mozilla/5.0")>-1&&t.indexOf("android ")>-1&&t.indexOf("applewebkit")>-1&&!(t.indexOf("chrome")>-1)}if(this.isSilk=t.toLowerCase().indexOf("silk")>-1,this.isSilk&&this.isAndroid===!1&&(r=t.match(/silk([\s\/]?)+([\d\.]+)/i),r&&r.length>2&&(this.osVersion=r[2]),this.browserType="silk"),u=t.match(/(mobile|tablet).+(rv)(:|;)(\d{1,}.?\d?).+(gecko)/i),u&&u.length>0&&(this.isFirefox=!0,this.browserVersion=u[4],this.browserType="firefox"),this.isIPhone=navigator.platform==="iPhone"||t.toLowerCase().indexOf("iphone")>=0,this.isIPad=navigator.platform==="iPad"||t.toLowerCase().indexOf("ipad")>=0,this.isIPod=navigator.platform==="iPod"||t.toLowerCase().indexOf("ipod")>=0,this.iosDevice=this.isIPhone||this.isIPad||this.isIPod,this.iosDevice){if(this.osVersion=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||0,this.osType="ios",this.browserType="safari",this.isChrome=t.indexOf("crios")>-1,this.isChrome&&(this.browserType="chrome"),t.indexOf("bet365wrapper")>0)for(this.appVersion=t.split("bet365wrapper/")[1].split("."),e=this.appVersion.length,i=0;i<e;i++)parseInt(this.appVersion[i])<10&&(this.appVersion[i]="0"+this.appVersion[i]);else this.appVersion=this.osVersion>=10&&window.sProps.appType==="iosapp"?["03","03","11","03"]:"";t.indexOf("ucbrowser")>-1&&(this.isUcBrowser=!0,this.browserType="ucbrowser")}this.isIPhone&&this.osVersion>=8&&(window.devicePixelRatio===3&&(this.isIPhone6Plus=!0),window.devicePixelRatio==2&&(o=window.devicePixelRatio*window.clientViewport().width,(o==1334||o==750)&&(this.isIPhone6=!0)));this.isWebkitBrowser=/AppleWebKit\//.test(navigator.userAgent);(t.indexOf("blackberry")>=0&&t.indexOf("webkit")>=0||t.toLowerCase().search(s)>-1)&&(this.isBlackBerry=!0,this.osType="blackberry",this.browserType="blackberry",this.isBlackBerry10=!!t.match(/bb10;/i),f=t.toLowerCase().match(s),f&&!isNaN(f[2])&&(this.osVersion=f[2]),this.isWebkitBrowser&&(this.browserVersion=parseFloat(t.match(/Version\/(\d*)\./i)[1])));t.indexOf("playbook")>=0&&t.indexOf("rim tablet")>=0&&(this.isPlayBook=!0,this.osType="playbook",this.browserType="playbook");this.isOpera=t.indexOf("opr/")>-1;this.isOpera&&(this.browserVersion=parseFloat(t.match(/opr\/(\d*)\./i)[1]),this.browserType="Opera");this.isPresto=(t.toLowerCase().indexOf("opera mobi")>-1||t.toLowerCase().indexOf("opera tablet")>-1)&&t.toLowerCase().indexOf("presto")>-1;this.isPresto&&(this.browserVersion=parseFloat(t.match(/presto\/(\d*)\./i)[1]),this.browserType="operamobilepresto");Object.prototype.toString.call(window.operamini)==="[object OperaMini]"&&(this.isOperaMini=!0,this.browserType="operaMini");this.isNexus7=t.toLowerCase().indexOf("nexus 7")>-1;this.isNexus10=t.toLowerCase().indexOf("nexus 10")>-1;this.setDeviceType()};this.setDeviceType=function(){window.location.host.split(".").pop()==="it"&&(this.deviceType="OtherMobileBrowser",this.iosDevice&&this.appVersion!==""&&(this.deviceType="iOSMobileApp"),this.iosDevice&&this.appVersion==""&&(this.deviceType="iOSMobileBrowser"),this.isDesktop&&this.appVersion==""&&this.isMac&&(this.deviceType="iOSDesktopBrowser"),this.isIPad&&this.appVersion!==""&&(this.deviceType="iOSTabletApp"),this.isDesktop&&this.isAndroid&&(this.deviceType="AndroidDesktopBrowser"),this.isAndroidMobile&&this.appVersion!==""&&(this.deviceType="AndroidMobileApp"),!this.isDesktop&&this.isAndroid&&this.appVersion==""&&(this.deviceType="AndroidMobileBrowser"),this.isAndroidTablet&&this.appVersion!==""&&(this.deviceType="AndroidTabletApp "),this.isWindowsPhone&&(this.deviceType="WindowMobileBrowser"),this.isWindowsPhone||!this.isWindows||!this.isDesktop||this.isAndroid||this.iosDevice||(this.deviceType="WindowsDesktopBrowser"))}};BusinessRules=function(){};BusinessRules.prototype.clientEnhancedMode=function(){return!window.sProps.instantBet};BusinessRules.prototype._enableInplayFavourites=null;BusinessRules.prototype.enableInplayFavourites=function(){var n,t,i,r;return this._enableInplayFavourites!==null?this._enableInplayFavourites:(n=parseFloat(window.device.osVersion),t=/(gt-i8190)/g,i=navigator.userAgent.toLowerCase(),r=i.search(t)>-1,this._enableInplayFavourites=!!(!r&&(window.device.iosDevice&&n>=7||window.device.isAndroid&&n>=4||window.device.isMicrosoftEdge)),this._enableInplayFavourites)};BusinessRules.prototype._shouldValidatePinOnEntry=null;BusinessRules.prototype.shouldValidatePinOnEntry=function(){return this._shouldValidatePinOnEntry!==null?this._shouldValidatePinOnEntry:(this._shouldValidatePinOnEntry=!(window.device.isAndroidNativeBrowser&&!parseFloat(window.device.osVersion>4.3)),this._shouldValidatePinOnEntry)};BusinessRules.prototype._supportsInstantGames=null;BusinessRules.prototype.supportsInstantGames=function(){var n,t,r,i,u=window.location.hostname.split(".").pop(),f,e,o,s,h;return this._supportsInstantGames!==null?this._supportsInstantGames:["com","es","dk","ee","mx"].indexOf(u)==-1?this._supportsInstantGames=!1:(n=parseFloat(window.device.osVersion),t=!1,i=navigator.userAgent.toLowerCase(),o=/(htc one|htc_one)/g,s=i.search(o)>-1,r=window.sProps.instantGames.blackListCountries.indexOf(Number(window.sProps.sc.ct))>-1||sProps.user.restrictedBettingEnabled,f=/me302c/g,e=i.search(f)>-1,h=i.search(/sm-g900/g)>-1,r||(window.device.iosDevice?window.sProps.appType==="iosapp"?n>8.1&&typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage&&webkit.messageHandlers.callbackHandler.postMessage(["launchGameAvailable","window.instantGamesController.iOSLaunchGameSupportedCallBack();"]):t=window.device.isChrome&&n>=9||!window.device.isChrome&&n>=7:window.device.isAndroid&&!e&&(window.sProps.appType!=="androidapp"||s?t=n>=4&&(window.device.isAndroidNativeBrowser||window.device.isChrome):(t=n>=4.4&&typeof bet365AndroidApp!="undefined"&&typeof bet365AndroidApp.launchGame!="undefined"&&bet365AndroidApp.launchGame!=null,t&&u=="es"&&h&&n>=6&&(t=!1)))),this._supportsInstantGames=t&&!r,this._supportsInstantGames)};BusinessRules.prototype._supportsQuickBet=null;BusinessRules.prototype.supportsQuickBet=function(){var n,t;return this._supportsQuickBet!==null?this._supportsQuickBet:(n=window.location.href.split("/")[2].slice(-2),t=n==="gr"&&sProps.curCode!=="EUR",this._supportsQuickBet=!t,this._supportsQuickBet)};BusinessRules.prototype._showStakePadToolTips=null;BusinessRules.prototype.showStakePadToolTips=function(){return this._showStakePadToolTips!==null?this._showStakePadToolTips:(this._showStakePadToolTips=window.device.isAndroid&&window.device.isAndroidNativeBrowser?!1:!0,this._showStakePadToolTips)};BusinessRules.prototype._notWideViewDevice=null;BusinessRules.prototype.notWideViewDevice=function(){var n,t;return this._notWideViewDevice!==null?this._notWideViewDevice:(n=/(gt-p5110|gt-p7500|gt-n5110|gt-n8000|gt-n8010)/g,t=navigator.userAgent.toLowerCase(),isSamsungTab2=t.search(n)>-1&&!window.device.isChrome,this._notWideViewDevice=window.device.isPlayBook||isSamsungTab2||window.device.isUcBrowser||window.sProps.appType==="windowsuniversalapp",this._notWideViewDevice)};BusinessRules.prototype._slowAnimationDevice=null;BusinessRules.prototype.slowAnimationDevice=function(){var n,t,i;return this._slowAnimationDevice!==null?this._slowAnimationDevice:(n=/(gt-p5110|gt-p7500|sm-t800|gt-p3110|gt-n5110)/g,t=navigator.userAgent.toLowerCase(),i=t.search(n)>-1&&!window.device.isChrome,this._slowAnimationDevice=i,this._slowAnimationDevice)};BusinessRules.prototype._showPartialCashOutWhenAvailable=null;BusinessRules.prototype.showPartialCashOutWhenAvailable=function(){var n,t;return this._showPartialCashOutWhenAvailable!==null?this._showPartialCashOutWhenAvailable:(n=parseFloat(window.device.osVersion),t=!1,window.matchMedia&&(t=window.matchMedia("(-webkit-min-device-pixel-ratio: 2)").matches),this._showPartialCashOutWhenAvailable=!!(!window.sProps.instantBet&&(window.device.iosDevice&&n>5&&(t&&!window.device.isIPod||window.device.isIPad)||window.device.isAndroid&&n>3||window.device.isMicrosoftEdge||window.device.isWindowsPhone&&n>=8)),this._showPartialCashOutWhenAvailable)};BusinessRules.prototype._usePrematchHandlers=null;BusinessRules.prototype.usePrematchHandlers=function(){var n;return this._usePrematchHandlers!==null?this._usePrematchHandlers:(n=parseFloat(window.device.osVersion),this._usePrematchHandlers=window.device.iosDevice||window.device.isAndroid&&window.device.isAndroidNativeBrowser&&n>=4,this._usePrematchHandlers)};BusinessRules.prototype._usePodContentScroller=null;BusinessRules.prototype.usePodContentScroller=function(){var n;return this._usePodContentScroller!==null?this._usePodContentScroller:(n=parseFloat(window.device.osVersion),this._usePodContentScroller=window.device.iosDevice&&n>=5||window.device.isAndroid&&n>3||window.device.isMicrosoftEdge||window.device.isWindowsPhone&&n>=8,this._usePodContentScroller)};BusinessRules.prototype._useOrientationChange=null;BusinessRules.prototype.useOrientationChange=function(){return this._useOrientationChange!==null?this._useOrientationChange:(this._useOrientationChange=window.device&&window.device.isNexus7?!1:"onorientationchange"in window,this._useOrientationChange)};BusinessRules.prototype._matchLiveDuplicateCanavas=null;BusinessRules.prototype.matchLiveDuplicateCanavas=function(){var n;return this._matchLiveDuplicateCanavas!==null?this._matchLiveDuplicateCanavas:(n=parseFloat(window.device.osVersion),this._matchLiveDuplicateCanavas=window.device.isAndroid&&n>4&&window.device.isAndroidNativeBrowser,this._matchLiveDuplicateCanavas)};BusinessRules.prototype._forceTransparentOverlay=null;BusinessRules.prototype.forceTransparentOverlay=function(){var n,t;return this._forceTransparentOverlay!==null?this._forceTransparentOverlay:(n=/(gt-p5110|gt-p7500)/g,t=navigator.userAgent.toLowerCase(),isSamsungTab2=t.search(n)>-1&&!window.device.isChrome,this._forceTransparentOverlay=window.device.isAndroid&&window.device.isChrome&&window.device.browserVersion==34||isSamsungTab2,this._forceTransparentOverlay)};BusinessRules.prototype._useTouchEvents=null;BusinessRules.prototype.useTouchEvents=function(){var n;return this._useTouchEvents!==null?this._useTouchEvents:(n=parseInt(window.device.osVersion,10),this._useTouchEvents=window.device&&(window.device.isBlackBerry&&n<10||window.device.iosDevice&&n==6||window.device.isAndroid&&n>=4&&!window.device.isChrome||window.device.isWindowsPhone||window.navigator.msPointerEnabled&&!window.device.isWindowsPhone)?!1:!0,this._useTouchEvents)};BusinessRules.prototype._forceOrientationChangeDelay=null;BusinessRules.prototype.forceOrientationChangeDelay=function(){var n;return this._forceOrientationChangeDelay!==null?this._forceOrientationChangeDelay:(n=parseInt(window.device.osVersion,10),this._forceOrientationChangeDelay=device.isAndroidNativeBrowser||device.isNexus7&&sProps.appType=="androidapp"||window.device.isAndroid&&n>=6,this._forceOrientationChangeDelay)};BusinessRules.prototype._canSupportCTC=null;BusinessRules.prototype.canSupportCTC=function(){var i;if(this._canSupportCTC!==null)return this._canSupportCTC;var r=window.location.href.split("/")[2].slice(-2)==="au",t=parseFloat(window.device.osVersion),n=window.device.appVersion;return siteDataLocal.getItem("appType")==="iosapp"&&t>=7&&t<8?(this._canSupportCTC=!1,this._canSupportCTC):(n&&(n.length>3&&(n=n.slice(0,3)),n=n.join("")),i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,this._canSupportCTC=r&&sProps.clickToCall.Enabled&&!window.device.isUcBrowser&&!window.device.isPresto&&!window.device.isOpera&&!window.device.isMicrosoftEdge&&!(window.device.isSamsungBrowser&&t<6)&&(siteDataLocal.getItem("appType")===""&&i&&window.device.isAndroid&&window.device.isChrome&&t>=4||siteDataLocal.getItem("appType")===""&&i&&window.device.isFirefox&&parseFloat(window.device.browserVersion)>23||siteDataLocal.getItem("appType")==="iosapp"&&t>=6&&n>20102||siteDataLocal.getItem("appType")==="androidapp"&&n>20100),this._canSupportCTC)};BusinessRules.prototype._canSupportBetCall=null;BusinessRules.prototype.canSupportBetCall=function(){return this._canSupportBetCall!==null?this._canSupportBetCall:(this._canSupportBetCall=window.location.href.split("/")[2].slice(-2)==="au",this._canSupportBetCall&&window.device.isIPad&&(this.canSupportBetCallTwilio()||(this._canSupportBetCall=!1)),this._canSupportBetCall)};BusinessRules.prototype._canSupportBetCallTwilio=null;BusinessRules.prototype.canSupportBetCallTwilio=function(){var t,n,i,r,f,u;return this._canSupportBetCallTwilio!==null?this._canSupportBetCallTwilio:(t=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler),t.IsApp&&t.isFeatureSupported("Twilio"))?(this._canSupportBetCallTwilio=!0,this._canSupportBetCallTwilio):(n=window.device.appVersion,i=parseFloat(window.device.osVersion),siteDataLocal.getItem("appType")==="iosapp"&&i>=7&&i<8)?(this._canSupportBetCallTwilio=!1,this._canSupportBetCallTwilio):(r=navigator.userAgent.toLowerCase(),r.indexOf("sm-n950")>-1)?(this._canSupportBetCallTwilio=!1,this._canSupportBetCallTwilio):(n&&(n.length>3&&(n=n.slice(0,3)),n=n.join("")),f=null,u=window.device.isAndroid&&(window.sProps.appType==="androidapp"||siteDataLocal.getItem("appType")=="androidapp")&&bet365AndroidApp&&bet365AndroidApp.getspeakerstate||window.device.iosDevice&&(window.sProps.appType==="iosapp"||siteDataLocal.getItem("appType")=="iosapp")&&n>=30314,this._canSupportBetCallTwilio=u||this.canSupportCTC()&&this.canSupportBetCall()&&siteDataLocal.getItem("appType")!="androidapp"&&siteDataLocal.getItem("appType")!="iosapp",this._canSupportBetCallTwilio)};BusinessRules.prototype.couldSupportTouch=function(){var t=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler),n,i;return t.IsApp&&t.isFeatureSupported("Biometric")?!0:(n=window.device.appVersion,i=n?n[0]:0,window.sProps.appType==="iosapp"&&parseInt(window.device.osVersion,10)>=8&&i>2)?!0:!1};BusinessRules.prototype.deviceNavScrollerType=function(){return 2};BusinessRules.prototype._racingSplashIScroll=null;BusinessRules.prototype.racingSplashIScroll=function(){return this._racingSplashIScroll!==null?this._racingSplashIScroll:(this._racingSplashIScroll=!1,this._racingSplashIScroll)};BusinessRules.prototype._mybetsFallbackMode=null;BusinessRules.prototype.mybetsFallbackMode=function(){return this._mybetsFallbackMode!==null?this._mybetsFallbackMode:(this._mybetsFallbackMode=!0,window.device.isAndroid&&parseFloat(window.device.osVersion)>4?this._mybetsFallbackMode=!1:window.device.iosDevice&&parseFloat(window.device.osVersion)>5?this._mybetsFallbackMode=!1:window.device.isWindowsPhone&&parseFloat(window.device.osVersion)>8&&(this._mybetsFallbackMode=!1),this._mybetsFallbackMode)};BusinessRules.prototype._racingSplashDisplayWatchYourLiveRacesSection=null;BusinessRules.prototype.racingSplashDisplayWatchYourLiveRacesSection=function(){return this._racingSplashDisplayWatchYourLiveRacesSection!==null?this._racingSplashDisplayWatchYourLiveRacesSection:(this._racingSplashDisplayWatchYourLiveRacesSection=window.supportsVideoStreaming()&&window.sProps.appType!=="windowsuniversalapp",this._racingSplashDisplayWatchYourLiveRacesSection)};BusinessRules.prototype._useSliderFallbackMode=null;BusinessRules.prototype.useSliderFallbackMode=function(){return this._useSliderFallbackMode!==null?this._useSliderFallbackMode:(this._useSliderFallbackMode=window.device.isIPhone&&parseFloat(window.device.osVersion)<8||window.device.isWindowsPhone&&parseFloat(window.device.osVersion)<10,this._useSliderFallbackMode)};BusinessRules.prototype._preventFullScreen=null;BusinessRules.prototype.preventFullScreenChecks=function(){if(this._preventFullScreen!==null)return this._preventFullScreen;this._preventFullScreen=!1;var t=navigator.userAgent.toLowerCase(),n=t.match(/android([\s\/]?)+([\d\.]+)/i);return n&&n.length>2&&parseFloat(n[2])>=4&&parseFloat(n[2])<4.1&&t.indexOf("chrome")>-1&&(this._preventFullScreen=!0),this._preventFullScreen};BusinessRules.prototype._racingSplashDisplayNextThreeRacesSection=null;BusinessRules.prototype.racingSplashDisplayNextThreeRacesSection=function(){return this._racingSplashDisplayNextThreeRacesSection!==null?this._racingSplashDisplayNextThreeRacesSection:(this._racingSplashDisplayNextThreeRacesSection=!0,(window.device.isMicrosoftEdge||window.device.isWindowsPhone)&&(this._racingSplashDisplayNextThreeRacesSection=!1),this._racingSplashDisplayNextThreeRacesSection)};BusinessRules.prototype._disableFastClickForSportsUIModules=null;BusinessRules.prototype.disableFastClickForSportsUIModules=function(){var n;return this._disableFastClickForSportsUIModules!==null?this._disableFastClickForSportsUIModules:(this._disableFastClickForSportsUIModules=!1,n=parseInt(window.device.osVersion,10),device.isAndroid&&n<=4?this._disableFastClickForSportsUIModules=!0:device.iosDevice&&(n==6||n==7)?this._disableFastClickForSportsUIModules=!0:device.isFirefox&&(this._disableFastClickForSportsUIModules=!0),this._disableFastClickForSportsUIModules)};BusinessRules.prototype._sidebarClickHandlerFallback=null;BusinessRules.prototype.sidebarClickHandlerFallback=function(){return this._sidebarClickHandlerFallback!==null?this._sidebarClickHandlerFallback:(this._sidebarClickHandlerFallback=window.Modernizr.w3cflexbox===!1&&window.Modernizr.flextweener===!1&&window.Modernizr.flexlegacy||device.isWindowsPhone,this._sidebarClickHandlerFallback)};BusinessRules.prototype._noCssScrollingForSidebar=null;BusinessRules.prototype.noCssScrollingForSidebar=function(){return this._noCssScrollingForSidebar!==null?this._noCssScrollingForSidebar:(this._noCssScrollingForSidebar=!1,device.isAndroid&&parseFloat(device.osVersion)<3?this._noCssScrollingForSidebar=!0:device.isBlackBerry&&(this._noCssScrollingForSidebar=!0),this._noCssScrollingForSidebar)};BusinessRules.prototype._supportsStickyHeader=null;BusinessRules.prototype.supportsStickyHeader=function(){return this._supportsStickyHeader!==null?this._supportsStickyHeader:(this._supportsStickyHeader=!0,device.isAndroid&&parseFloat(device.osVersion)<3?this._supportsStickyHeader=!1:device.isBlackBerry&&(this._supportsStickyHeader=!1),this._supportsStickyHeader)};BusinessRules.prototype._noSVGSupport=null;BusinessRules.prototype.noSVGSupport=function(){return this._noSVGSupport!==null?this._noSVGSupport:(this._noSVGSupport=!1,window.device.isBlackBerry10&&(this._noSVGSupport=!0),this._noSVGSupport)};BusinessRules.prototype._noCanvasAnimationSupport=null;BusinessRules.prototype.noCanvasAnimationSupport=function(){if(this._noCanvasAnimationSupport!==null)return this._noCanvasAnimationSupport;this._noCanvasAnimationSupport=!1;var n=navigator.userAgent.toLowerCase();return window.device.isAndroidNativeBrowser&&n.indexOf("gt-n5110")>-1&&(this._noCanvasAnimationSupport=!0),this._noCanvasAnimationSupport};BusinessRules.prototype._enableEditBet=null;BusinessRules.prototype.enableEditBet=function(){var n,t,i,r,u;return this._enableEditBet!==null?this._enableEditBet:(n=window.location.href.split("/")[2].slice(-2),u=sProps.sc.ct==="52"||sProps.sc.ct==="51"||n==="it",t=n==="gr"&&window.sProps.curCode!=="EUR",i=window.device.isWindowsPhone&&parseFloat(window.device.osVersion)<=8,r=window.device.iosDevice&&parseFloat(window.device.osVersion)<8,this._enableEditBet=!u&&!t&&!i&&!r,this._enableEditBet)};BusinessRules.prototype._useFallbackLoginButton=null;BusinessRules.prototype.useFallbackLoginButton=function(){return this._useFallbackLoginButton!==null?this._useFallbackLoginButton:(this._useFallbackLoginButton=window.device.iosDevice&&window.device.isUcBrowser,this._useFallbackLoginButton)};BusinessRules.prototype._supportsStickyVideo=null;BusinessRules.prototype.supportsStickyVideo=function(){var t,i,n;return this._supportsStickyVideo!==null?this._supportsStickyVideo:(this._supportsStickyVideo=!1,t=parseFloat(window.device.osVersion),window.device.iosDevice&&t>=10&&(i=document.createElement("a"),n=i.style,n.cssText="position:sticky;position:-webkit-sticky;",browserSupportStickyVideo=n.position.indexOf("sticky")!==-1,browserSupportStickyVideo&&(this._supportsStickyVideo=!0)),this._supportsStickyVideo)};BusinessRules.prototype._supportsFloatingNativeVideo=null;BusinessRules.prototype.supportsFloatingNativeVideo=function(){var n=parseFloat(window.device.osVersion);return this._supportsFloatingNativeVideo=window.device.iosDevice&&n>=10&&sProps.appInitResult&&sProps.appInitResult.nativeVideo&&sProps.appInitResult.nativeVideo.nativePlayer&&!window.device.isIPad?!0:!1,this._supportsFloatingNativeVideo};BusinessRules.prototype._supportsSISVideo=null;BusinessRules.prototype.supportsSISVideo=function(){if(sProps.siteFeatures.iOSApp.nativeVideoEnabled){var n=parseFloat(window.device.osVersion);window.device.iosDevice&&n>=8.1&&sProps.appInitResult&&sProps.appInitResult.nativeVideo&&sProps.appInitResult.nativeVideo.sis&&(this._supportsSISVideo=!0)}else this._supportsSISVideo=!1;return this._supportsSISVideo};BusinessRules.prototype._supportsHomePagePreload=null;BusinessRules.prototype.supportsHomePagePreLoad=function(){if(this._supportsHomePagePreload!==null)return this._supportsHomePagePreload;var n=parseFloat(window.device.osVersion);return this._supportsHomePagePreload=window.device.isAndroid&&n<5?!1:window.device.iosDevice&&n<6?!1:device.isBlackBerry||device.isPresto||device.isOperaMini?!1:!0,this._supportsHomePagePreload};BusinessRules.prototype._setDeviceType=null;BusinessRules.prototype.setDeviceType=function(){return this._setDeviceType!==null?this._setDeviceType:(this._setDeviceType=window.location.host.split(".").pop()==="it",this._setDeviceType)};BusinessRules.prototype.isMatchLiveClassIdSupported=function(){return!device.isBlackBerry&&agent.indexOf("xoom")===-1&&!(device.isAndroid&&agent.indexOf("gt-p")>-1)&&!device.isPresto&&!device.isOperaMini};BusinessRules.prototype.isVendorPayAvailable=function(){if(!sProps.user.isLoggedIn)return!1;var n=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler);return n.isFeatureSupported("applePay")||n.isFeatureSupported("GooglePay")};var mobileBusinessRules=new BusinessRules,current_hash="",hashChangeTimer,suppress_hashchange=!1;hashHistory=[];Hash.prototype.toString=function(){var n=buildHashString(this.Type!==undefined&&this.Type!==null?this.Type:"",this.Key!==undefined&&this.Key!==null?this.Key:"",this.InPlay!==undefined&&this.InPlay!==null?this.InPlay:"0",this.LangID!==undefined&&this.LangID!==null?this.LangID:sProps.LangID,this.animType!==undefined&&this.animType!==null?this.animType:"");return n.length>0&&(n="#"+n),n};CouponKey.prototype.toPushFixtureId=function(n,t){return pushFixtureId=this.c1Id.toString()+this.c1IdTable.toString()+this.c2Id.toString()+this.c2IdTable.toString()+"C"+this.classification+"_"+n+"_"+t};CouponKey.prototype.matchLiveFixtureId=function(n,t){var i,r=this.classification==2110?2:this.classification;return r==7?(i=$("#mlContainer").attr("data-parentfixtureid"),i+"LS_"+n+"_0"):this.c1Id.toString()+this.c1IdTable.toString()+this.c2Id.toString()+this.c2IdTable.toString()+"M"+r+"_"+n+"_"+t};window.Modernizr=function(n,t,i){function y(n){c.cssText=n}function o(n,t){return typeof n===t}function it(n,t){return!!~(""+n).indexOf(t)}function ht(n,t){var u,r;for(u in n)if(r=n[u],!it(r,"-")&&c[r]!==i)return t=="pfx"?r:!0;return!1}function vt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:o(u,"function")?u.bind(r||t):u;return!1}function s(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+et.join(r+" ")+r).split(" ");return o(t,"string")||o(t,"undefined")?ht(u,t):(u=(n+" "+ot.join(r+" ")+r).split(" "),vt(u,t,i))}function yt(){r.input=function(i){for(var r=0,u=i.length;r<u;r++)a[i[r]]=!!(i[r]in f);return a.list&&(a.list=!!(t.createElement("datalist")&&n.HTMLDataListElement)),a}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));r.inputtypes=function(n){for(var u=0,r,o,s,h=n.length;u<h;u++)f.setAttribute("type",o=n[u]),r=f.type!=="text",r&&(f.value=ut,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&f.style.WebkitAppearance!==i?(e.appendChild(f),s=t.defaultView,r=s.getComputedStyle&&s.getComputedStyle(f,null).WebkitAppearance!=="textfield"&&f.offsetHeight!==0,e.removeChild(f)):/^(search|tel)$/.test(o)||(r=/^(url|email)$/.test(o)?f.checkValidity&&f.checkValidity()===!1:f.value!=ut)),st[n[u]]=!!r;return st}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r={},w=!0,e=t.documentElement,h="modernizr",rt=t.createElement(h),c=rt.style,f=t.createElement("input"),ut=":)",ct={}.toString,l=" -webkit- -moz- -o- -ms- ".split(" "),ft="Webkit Moz O ms",et=ft.split(" "),ot=ft.toLowerCase().split(" "),b={svg:"http://www.w3.org/2000/svg"},u={},st={},a={},k=[],d=k.slice,v,g=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),s=t.body,o=s||t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:h+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',h,'">',n,"<\/style>"].join(""),f.id=h,(s?f:o).innerHTML+=l,o.appendChild(f),s||(o.style.background="",o.style.overflow="hidden",v=e.style.overflow,e.style.overflow="hidden",e.appendChild(o)),a=i(f,n),s?f.parentNode.removeChild(f):(o.parentNode.removeChild(o),e.style.overflow=v),!!a},lt=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t)&&i(t).matches||!1:(g("@media "+t+" { #"+h+" { position: absolute; } }",function(t){r=(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position=="absolute"}),r)},at=function(){function r(r,u){u=u||t.createElement(n[r]||"div");r="on"+r;var f=r in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(r,""),f=o(u[r],"function"),o(u[r],"undefined")||(u[r]=i),u.removeAttribute(r))),u=null,f}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),nt={}.hasOwnProperty,tt,p;tt=o(nt,"undefined")||o(nt.call,"undefined")?function(n,t){return t in n&&o(n.constructor.prototype[t],"undefined")}:function(n,t){return nt.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=d.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(d.call(arguments))),Object(u)===u)?u:e:t.apply(n,i.concat(d.call(arguments)))},r});u.flexbox=function(){return s("flexWrap")};u.flexboxlegacy=function(){return s("boxDirection")};u.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:g(["@media (",l.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=n.offsetTop===9}),i};u.rgba=function(){return y("background-color:rgba(150,255,150,.5)"),it(c.backgroundColor,"rgba")};u.borderradius=function(){return s("borderRadius")};u.cssanimations=function(){return s("animationName")};u.cssgradients=function(){var n="background-image:";return y((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+l.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),it(c.backgroundImage,"gradient")};u.csstransitions=function(){return s("transition")};u.audio=function(){var i=t.createElement("audio"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n};u.svg=function(){return!!t.createElementNS&&!!t.createElementNS(b.svg,"svg").createSVGRect};u.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==b.svg};u.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(ct.call(t.createElementNS(b.svg,"clipPath")))};for(p in u)tt(u,p)&&(v=p.toLowerCase(),r[v]=u[p](),k.push((r[v]?"":"no-")+v));return r.input||yt(),r.addTest=function(n,t){if(typeof n=="object")for(var u in n)tt(n,u)&&r.addTest(u,n[u]);else{if(n=n.toLowerCase(),r[n]!==i)return r;t=typeof t=="function"?t():t;typeof w!="undefined"&&w&&(e.className+=" "+(t?"":"no-")+n);r[n]=t}return r},y(""),rt=f=null,function(n,t){function p(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function c(){var n=r.elements;return typeof n=="string"?n.split(" "):n}function o(n){var t=h[n[s]];return t||(t={},e++,n[s]=e,h[e]=t),t}function l(n,r,u){if(r||(r=t),i)return r.createElement(n);u||(u=o(r));var f;return f=u.cache[n]?u.cache[n].cloneNode():y.test(n)?(u.cache[n]=u.createElem(n)).cloneNode():u.createElem(n),f.canHaveChildren&&!v.test(n)&&!f.tagUrn?u.frag.appendChild(f):f}function w(n,r){if(n||(n=t),i)return n.createDocumentFragment();r=r||o(n);for(var f=r.frag.cloneNode(),u=0,e=c(),s=e.length;u<s;u++)f.createElement(e[u]);return f}function b(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(i){return r.shivMethods?l(i,n,t):t.createElem(i)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-]+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(r,t.frag)}function a(n){n||(n=t);var u=o(n);return!r.shivCSS||f||u.hasCSS||(u.hasCSS=!!p(n,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),i||b(n,u),n}var u=n.html5||{},v=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,y=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,s="_html5shiv",e=0,h={},i,r;(function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";f="hidden"in n;i=n.childNodes.length==1||function(){t.createElement("a");var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()}catch(r){f=!0;i=!0}})();r={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:u.shivCSS!==!1,supportsUnknownElements:i,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:a,createElement:l,createDocumentFragment:w};n.html5=r;a(t)}(this,t),r._version="2.8.3",r._prefixes=l,r._domPrefixes=ot,r._cssomPrefixes=et,r.mq=lt,r.hasEvent=at,r.testProp=function(n){return ht([n])},r.testAllProps=s,r.testStyles=g,r.prefixed=function(n,t,i){return t?s(n,t,i):s(n,"pfx")},e.className=e.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(w?" js "+k.join(" "):""),r}(this,this.document),function(n,t,i){function h(n){return"[object Function]"==y.call(n)}function c(n){return"string"==typeof n}function l(){}function w(n){return!n||"loaded"==n||"complete"==n||"uninitialized"==n}function e(){var n=a.shift();v=1;n?n.t?s(function(){("c"==n.t?u.injectCss:u.injectJs)(n.s,0,n.a,n.x,n.e,1)},0):(n(),e()):v=0}function ut(n,i,f,h,c,l,y){function k(t){if(!nt&&w(p.readyState)&&(tt.r=nt=1,!v&&e(),p.onload=p.onreadystatechange=null,t)){"img"!=n&&s(function(){g.removeChild(p)},50);for(var u in r[i])r[i].hasOwnProperty(u)&&r[i][u].onload()}}var y=y||u.errorTimeout,p=t.createElement(n),nt=0,b=0,tt={t:f,s:i,e:c,a:l,x:y};1===r[i]&&(b=1,r[i]=[]);"object"==n?p.data=i:(p.src=i,p.type=n);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){k.call(this,b)};a.splice(h,0,tt);"img"!=n&&(b||2===r[i]?(g.insertBefore(p,d?null:o),s(k,y)):r[i].push(p))}function ft(n,t,i,r,u){return v=0,t=t||"j",c(n)?ut("c"==t?et:nt,n,t,this.i++,i,r,u):(a.splice(this.i++,0,n),1==a.length&&e()),this}function b(){var n=u;return n.loader={load:ft,i:0},n}var f=t.documentElement,s=n.setTimeout,o=t.getElementsByTagName("script")[0],y={}.toString,a=[],v=0,k="MozAppearance"in f.style,d=k&&!!t.createRange().compareNode,g=d?f:o.parentNode,f=n.opera&&"[object Opera]"==y.call(n.opera),f=!!t.attachEvent&&!f,nt=k?"object":f?"script":"img",et=f?"script":nt,tt=Array.isArray||function(n){return"[object Array]"==y.call(n)},p=[],r={},it={timeout:function(n,t){return t.length&&(n.timeout=t[0]),n}},rt,u;u=function(n){function a(n){for(var n=n.split("!"),f=p.length,t=n.pop(),e=n.length,t={url:t,origUrl:t,prefixes:n},u,r,i=0;i<e;i++)r=n[i].split("="),(u=it[r.shift()])&&(t=u(t,r));for(i=0;i<f;i++)t=p[i](t);return t}function f(n,t,u,f,e){var o=a(n),s=o.autoCallback;o.url.split(".").pop().split("?").shift();o.bypass||(t&&(t=h(t)?t:t[n]||t[f]||t[n.split("/").pop().split("?")[0]]),o.instead?o.instead(n,t,u,f,e):(r[o.url]?o.noexec=!0:r[o.url]=1,u.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":i,o.noexec,o.attrs,o.timeout),(h(t)||h(s))&&u.load(function(){b();t&&t(o.origUrl,e,f);s&&s(o.origUrl,e,f);r[o.url]=2})))}function s(n,t){function a(n,o){if(n){if(c(n))o||(i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}),f(n,i,t,0,e);else if(Object(n)===n)for(r in v=function(){var t=0,i;for(i in n)n.hasOwnProperty(i)&&t++;return t}(),n)n.hasOwnProperty(r)&&(!o&&!--v&&(h(i)?i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}:i[r]=function(n){return function(){var t=[].slice.call(arguments);n&&n.apply(this,t);u()}}(s[r])),f(n[r],i,t,r,e))}else o||u()}var e=!!n.test,o=n.load||n.both,i=n.callback||l,s=i,u=n.complete||l,v,r;a(e?n.yep:n.nope,!!o);o&&a(o)}var e,t,o=this.yepnope.loader;if(c(n))f(n,0,o,0);else if(tt(n))for(e=0;e<n.length;e++)t=n[e],c(t)?f(t,0,o,0):tt(t)?u(t):Object(t)===t&&s(t,o);else Object(n)===n&&s(n,o)};u.addPrefix=function(n,t){it[n]=t};u.addFilter=function(n){p.push(n)};u.errorTimeout=1e4;null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",rt=function(){t.removeEventListener("DOMContentLoaded",rt,0);t.readyState="complete"},0));n.yepnope=b();n.yepnope.executeStack=e;n.yepnope.injectJs=function(n,i,r,f,h,c){var a=t.createElement("script"),v,y,f=f||u.errorTimeout;a.src=n;for(y in r)a.setAttribute(y,r[y]);i=c?e:i||l;a.onreadystatechange=a.onload=function(){!v&&w(a.readyState)&&(v=1,i(),a.onload=a.onreadystatechange=null)};s(function(){v||(v=1,i(1))},f);h?a.onload():o.parentNode.insertBefore(a,o)};n.yepnope.injectCss=function(n,i,r,u,f,h){var u=t.createElement("link"),c,i=h?e:i||l;u.href=n;u.rel="stylesheet";u.type="text/css";for(c in r)u.setAttribute(c,r[c]);f||(o.parentNode.insertBefore(u,o),s(i,0))}}(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};Modernizr.addTest("placeholder",function(){return!!("placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea")))});Modernizr.addTest("csscalc",function(){var n="width:",t=document.createElement("div");return t.style.cssText=n+Modernizr._prefixes.join("calc(10px);"+n),!!t.style.length});b365Mobile=window.b365Mobile||{};b365Mobile.SiteViewController=function(){function n(){}var r={narrow:"0",wide:"1"},o=47,u="wrapper",f="#"+u,e="active",i={SiteLoad:{narrowViewMaxWidth:767},Main:{narrowViewMaxWidth:639},LHS:{narrowViewMaxWidth:950},Header:{narrowViewMaxWidth:950},MatchLive:{narrowViewMaxWidth:768}},t={Narrow:{Name:"Narrow",CssClass:"narrowView"},Medium:{Name:"Medium",CssClass:"mediumView"},Wide:{Name:"Wide",CssClass:"wideView"}};return n.prototype.isInPlayPullCoupon=null,n.prototype.currentScreenWidth=null,n.prototype.isInitialViewNarrow=null,n.prototype.isInitialViewWide=null,n.prototype.isNarrowView=null,n.prototype.isNavNarrowView=null,n.prototype.isMediumView=null,n.prototype.isWideView=null,n.prototype.hasWideViewHeader=null,n.prototype.isMatchLiveNarrowView=null,n.prototype.isMatchLiveWideView=null,n.prototype._widthState=null,n.prototype._tempState=null,n.prototype._initialView=null,n.prototype._isWideViewRestricted=null,n.prototype._isNarrowOnly=null,n.prototype._previousSidebarHeight=0,n.prototype.init=function(){var n,f,e=!1,o;return f=window.screen.width>window.screen.height?window.screen.width:window.screen.height,this._isNarrowOnly=f<i.Main.narrowViewMaxWidth+1,this._isWideViewRestricted=window.mobileBusinessRules.notWideViewDevice(),this._isNarrowOnly?(this._initialView=t.Narrow.Name,this.isInitialViewNarrow=!0,this.isInitialViewWide=!1,this.isNarrowView=!0,this.isWideView=!1):(e=!0,n=window.clientViewport().width>window.clientViewport().height?window.clientViewport().width:window.clientViewport().height,window.device.isBlackBerry10&&(n=window.screen.width<window.screen.height?window.screen.width:window.screen.height,n=n/window.devicePixelRatio),this._initialView=n<=i.SiteLoad.narrowViewMaxWidth?t.Narrow.Name:t.Wide.Name,this.isInitialViewNarrow=this._initialView===t.Narrow.Name,this.isInitialViewWide=this._initialView===t.Wide.Name,this.isNarrowView=this._widthState==r.narrow?!0:!1,this.isWideView=this._widthState==r.wide?!0:!1,o=document.getElementById(u)),this._widthState=null,this._tempState=null,e},n.prototype._setNarrowView=function(){this._widthState=r.narrow;this.isNarrowView=!0;this.isWideView=!1;$(document.body).removeClass(t.Wide.CssClass).addClass(t.Narrow.CssClass)},n.prototype._setWideView=function(){this._widthState=r.wide;this.isNarrowView=!1;this.isWideView=!0;$(document.body).removeClass(t.Narrow.CssClass).addClass(t.Wide.CssClass)},n.prototype._setWrapperNarrowView=function(){var i=$(f),n;i.hasClass(t.Narrow.CssClass)||(n=document.getElementById("Site"),this.isMediumView=!1,n&&(window.device.isIPad&&parseFloat(window.device.osVersion)>5&&parseFloat(window.device.osVersion)<7&&(n.scrollTop=0),n.style.width=""),i.removeClass(t.Medium.CssClass).removeClass(t.Wide.CssClass).addClass(t.Narrow.CssClass).removeClass(e))},n.prototype._setWrapperMediumView=function(){var i=document.getElementById(u),r,n;i.className.indexOf(t.Medium.CssClass)<0&&(r=i.className,n=document.getElementById("Site"),this.isMediumView=!0,n&&window.device.isIPad&&parseFloat(window.device.osVersion)>5&&parseFloat(window.device.osVersion)<7&&(n.scrollTop=0),i.className=(r.replace(t.Wide.CssClass,"").replace(t.Narrow.CssClass,"").replace(e,"")+" "+t.Medium.CssClass).trim(),n&&(n.style.width=""))},n.prototype._setWrapperWideView=function(){var n=document.getElementById(u),i;n.className.indexOf(t.Wide.CssClass)<0&&(this.isMediumView=!1,i=n.className,n.className=(i.replace(t.Narrow.CssClass,"").replace(t.Medium.CssClass,"").replace(e,"")+" "+t.Wide.CssClass).trim());(this.isWideView||n.className.indexOf(t.Wide.CssClass)<0)&&(this._setWideViewSiteWidth(),this._setWideViewSiteHeight());(typeof window.sidebarController!="undefined"||window.sidebarController!=null)&&window.sidebarController.closeSidebar()},n.prototype._setHeaderNarrowView=function(){$(f).css("height","");this.isNavNarrowView=!0},n.prototype._setHeaderWideView=function(){this.isNavNarrowView=!1},n.prototype._setWideViewSiteWidth=function(){var n,t=0,i,u=clientViewport().width,r;Modernizr.csscalc||(this.isMediumView===!1&&(n=$(".sb-SidebarModule"),t=n.width()),i=u-t,r=document.getElementById("Site"),r.style.width=i+"px")},n.prototype._setWideViewSiteHeight=function(){var n=document.getElementById(u),i=this;!this._isWideViewRestricted&&n.className.indexOf(t.Wide.CssClass)>=0&&(window.device.isFirefox?window.setTimeout(function(){n&&(n.style.height=clientViewport().height-o+"px")},350):n&&(n.style.height=clientViewport().height-o+"px"))},n.prototype._hasModeChanged=function(n){return this._tempState=n<=i.Main.narrowViewMaxWidth?r.narrow:r.wide,this._tempState!==this._widthState},n.prototype.setView=function(){var n,t=document.getElementById("PageFooter");if(this._isNarrowOnly){if(n=clientViewport().width,n===this.currentScreenWidth)return;this.currentScreenWidth=n;this.hasWideViewHeader=!1;this._setNarrowView();this._setWrapperNarrowView();this._setHeaderNarrowView();this.isMatchLiveNarrowView=!0;this.isMatchLiveWideView=!1}else{if(n=clientViewport().width,this.hasWideViewHeader=n<=i.Header.narrowViewMaxWidth?!1:!0,n===this.currentScreenWidth)return;this.currentScreenWidth=n;this._hasModeChanged(n)&&(this._tempState==r.narrow?this._setNarrowView():this._setWideView());n<=i.LHS.narrowViewMaxWidth?this.isWideView?this._setWrapperMediumView():this._setWrapperNarrowView():this._setWrapperWideView();n<=i.Header.narrowViewMaxWidth?this._setHeaderNarrowView():this._setHeaderWideView();n<=i.MatchLive.narrowViewMaxWidth?(this.isMatchLiveNarrowView=!0,this.isMatchLiveWideView=!1):(this.isMatchLiveNarrowView=!1,this.isMatchLiveWideView=!0)}this.setMatchLiveView();t&&t.className.indexOf("MyBets")>-1&&this.myBetsInitialised()},n.prototype.updateView=function(){this.isWideView&&this._setWideViewSiteWidth()},n.prototype.setWideViewSiteHeightFullHeight=function(){var n=$(f);n.hasClass(t.Wide.CssClass)&&(n.height("100%"),window.device.isIPad&&$("#Site").removeClass("webkitTouchOn").addClass("webkitTouchOff"))},n.prototype.revertWideViewSiteHeightFullHeight=function(){this._setWideViewSiteHeight();window.device.isIPad&&$("#Site").removeClass("webkitTouchOff").addClass("webkitTouchOn")},n.prototype.isInPlayPage=function(n){var t=new Hash(window.location.hash);return n==="InPlay"||n==="Coupon"&&t.Key&&t.Key.indexOf("-")==-1},n.prototype.hideSportsMenu=function(){$(document.body).addClass("hideSportsMenu")},n.prototype.showSportsMenu=function(){$(document.body).removeClass("hideSportsMenu")},n.prototype.showFooterInPlayNotice=function(){var n=document.getElementById("InPlayNotice");b365Mobile.utils.removeClass(n,"Hidden")},n.prototype.hideFooterInPlayNotice=function(){var n=document.getElementById("InPlayNotice");b365Mobile.utils.addOrAppendClass(n,"Hidden")},n.prototype.overrideMatchLiveFlags=function(n){n===MatchLiveGlobal.NARROW_VIEW?(siteViewController.isMatchLiveNarrowView=!0,siteViewController.isMatchLiveWideView=!1):(siteViewController.isMatchLiveNarrowView=!1,siteViewController.isMatchLiveWideView=!0);this.setMatchLiveView()},n.prototype.setMatchLiveView=function(){var t=document.getElementById(u),i="matchLiveWideView",r="matchLiveNarrowView",n=t.className;n=n.replace(r,"");n=n.replace(i,"");n=this.isMatchLiveWideView?(n+" "+i).trim():(n+" "+r).trim();t.className=n;this._setWrapperHeight()},n.prototype.myBetsInitialised=function(){this.isWideView&&(this.hasWideViewHeader=!1,this.hideSportsMenu(),$(f).css("height",""))},n.prototype.clearMyBetsView=function(){this.isWideView&&(this.hasWideViewHeader=clientViewport().width<=i.Header.narrowViewMaxWidth?!1:!0,this.showSportsMenu(),this._setWideViewSiteHeight())},n.prototype._setWrapperHeight=function(){var n,i;this.isWideView&&$(".sports-ui").length>0&&(n=document.getElementById(u),n&&(i=n.className.indexOf(t.Medium.CssClass)>=0,this.isMatchLiveWideView&&i&&(n.style.height=clientViewport().height+"px")))},n.prototype.setHeaderWideView=function(){this._setHeaderWideView()},n.prototype.setSiteForWideViewRestricted=function(){var i,n,r,u,t=0,e=0,f=0;this._shouldSiteForWideViewRestricted()&&(u=document.getElementById("hm-AdditionalHeight"),u&&(u.style.height="0"),i=document.getElementsByClassName("sb-SportsGroup")[0],n=document.getElementById("Main"),i&&n&&(t=this._previousSidebarHeight=i.clientHeight,e=n.clientHeight,r=document.getElementById("FooterContainer"),r&&(f=r.clientHeight),t>f&&(t-=f),n.style.minHeight=t+"px"))},n.prototype.updateSiteForWideViewRestricted=function(n){var u,t=0,r,i=0,f,e=0;this._shouldSiteForWideViewRestricted()&&(r=document.getElementById("Main"),i=document.getElementById("hm-AdditionalHeight"),i&&(i.style.height="0"),u=document.getElementsByClassName("sb-SportsGroup")[0],u&&(t=u.clientHeight),n?u&&r&&this._previousSidebarHeight<t&&(i||(i=document.createElement("div"),i.id="hm-AdditionalHeight",i.style.width="100%",r.parentElement.insertBefore(i,r.nextSibling)),t-=this._previousSidebarHeight,t>0&&(i.style.height=t+"px")):this._previousSidebarHeight>t&&(f=document.getElementById("FooterContainer"),f&&(e=f.clientHeight),t-=e,t>0&&(r.style.minHeight=t+"px")))},n.prototype._shouldSiteForWideViewRestricted=function(){var n,t=!0;return!this._isWideViewRestricted||!this.isWideView?!1:(n=new Hash(window.location.hash),n&&n.Type&&n.Type==="MyBets"?t=!1:n&&n.Type&&n.Type==="InPlay"?t=!1:n&&n.Type&&n.Type==="Coupon"&&n.Key&&n.Key.indexOf("-")===-1&&(t=!1),!t)?!1:!0},n}();b365Mobile.utils=function(){return{preventDefaultEvents:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},stopEventPropagation:function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},createCookie:function(n,t,i){var r="";i&&(date=new Date,date.setTime(date.getTime()+i*864e5),r="; expires="+date.toGMTString());device.isOperaMini&&(t=t.replace(/"/g,"'"));document.cookie=n+"="+t+r+"; path=/"},getCookie:function(n){for(var i,u,r=document.cookie.split(";"),t=0,f=r.length;t<f;t++)if(i=r[t].substr(0,r[t].indexOf("=")),u=r[t].substr(r[t].indexOf("=")+1),i=i?i.replace(/^\s+|\s+$/g,""):"",i==n)return device.isOperaMini?unescape(u).replace(/'/g,'"'):unescape(u)},getValueFromCookie:function(n,t){var f=this.getCookie(n),u,r,i;if(f)for(u=f.split("&"),r=u.length-1;r>-1;r--)if(i=u[r].split("="),i&&i.length==2&&i[0]==t)return i[1];return""},getSupportedCssProperty:function(n){for(var r=document.documentElement,t=0,i=n.length;t<i;t++)if(typeof r.style[n[t]]=="string")return n[t]},setPropertyOnObject:function(n,t,i){var r=!1;return n.hasOwnProperty(t)&&(n[t]=i,r=!0),r},getPropertyFromObject:function(n,t){var i=null;return n.hasOwnProperty(t)&&(i=n[t]),i},stripLineBreaksAndTabs:function(n){return n.replace(/[\r\n\t]+/g,"")},getElementsByClass:function(n,t,i,r){var e,f,o,u,s,h,c;for(t==null&&(t=document),i==null&&(i="*"),e=[],f=t.getElementsByTagName(i),o=" "+n+" ",u=0,h=0,s=f.length;u<s;u++)c=" "+f[u].className+" ",(c.indexOf(o)!=-1||r)&&(e[h++]=f[u]);return e},stripServerNameFromAjaxResponse:function(n){var t=n;return b365Mobile.utils.IsNullOrEmpty(n)||(t=n.split("<!--")[0]),t},IsNullOrEmpty:function(n){return n==null||n.length==0||n=="undefined"},RemoveElement:function(n){var r=!1,t=document.getElementById(n),i;return t&&(i=t.parentNode,i&&i.removeChild(t),r=!0),r},changeElemTypeState:function(n,t){var r=b365Mobile.utils.getElementsByClass("",null,n,!0),i,u;if(r.length>0)for(i=0,u=r.length;i<u;i++)r[i].disabled=t},removeViewportWidth:function(){var n;Modernizr.viewportwidth&&(n=document.getElementById("viewport"),n.setAttribute("content","initial-scale=1.0, maximum-scale=1.0, user-scalable=0"))},isInLandscapeMode:function(){var n=!1;return(window.orientation==-90||window.orientation==90)&&(n=!0),n},openMail:function(n,t,i){i.length>0&&(i="?Subject="+i);location.href="mailto:"+t+i},openTel:function(n,t){location.href="tel:"+t},OfferTC:function(n,t){n&&t&&document.getElementById(n)&&document.getElementById(t)&&(document.getElementById(n).style.display="block",document.getElementById(t).style.display="none",scrollToTop(),b365Mobile.footer.setFooter())},redirectToNoCookies:function(){window.location.href=device.iosDevice?"NoCookiesiOS.aspx":"NoCookiesAndroid.aspx"},preLoadLoaded:function(){var i,t,n;window.preloadLoaded||(typeof initAppSubScription=="function"&&window.sProps.appType!=="windowsuniversalapp"&&initAppSubScription(),window.preloadLoaded=!0,i=$("#Site"),t=$("#preLoadOuter"),$(document.documentElement).removeClass("preload"),$(document.body).removeClass("preload"),t.hide(),$(".Logos, .b365FooterLogo","#PageFooter").addClass("set"),$(".Footer__BulgariaGamblingCommisionLogo__Icon","#PageFooter").addClass("BulgariaGamblingLogo"),$(".OverlaySpinnerBoxCache").addClass("load"),window.headerController&&window.headerController.repositionAnimatedBar(),n=[],siteViewController._isNarrowOnly||n.push(window.mobileLazyLoaders.lazyLoaderTypes.wideView),n.push(window.mobileLazyLoaders.lazyLoaderTypes.v6CSS),window.mobileLazyLoaders.addAndLoadFiles(n,function(){}))},addOrAppendClass:function(n,t){var i="";if(n){if(n.getAttribute("class")!==null&&(i=n.getAttribute("class")),i===""){n.className=t;return}i.indexOf(t)>-1||(n.className=i+" "+t)}},removeClass:function(n,t){var i="";if(n&&(n.getAttribute("class")!==null&&(i=n.getAttribute("class")),i!=="")){if(i===t){n.removeAttribute("class");return}if(i.indexOf(t+" ")===0||i.indexOf(" "+t)===0){i=i.replace(t+" ","");n.className=i;return}i.indexOf(" "+t)!==-1&&(i=i.indexOf(" "+t+" ")>-1?i.replace(" "+t+" "," "):i.replace(" "+t,""),n.className=i)}},hasClass:function(n,t){var i;return!n||!t?!1:(t=t.trim(),!t.length)?!1:(i=n.getAttribute("class"),!i)?!1:i.split(" ").indexOf(t)>-1},contentWidth:function(n){var t=window.getComputedStyle(n),i=n.clientWidth;return t.boxSizing!=="border-box"?i:i-(parseInt(t.paddingLeft)+parseInt(t.paddingRight))},arrayUnique:function(n){for(var r={},u=[],f=n.length,e=0,i,t=0;t<f;t++)i=n[t],r[i]!==1&&(r[i]=1,u[e++]=i);return u},arrayRemove:function(n,t){for(var u=t.length,r,i=0;i<u;i++)r=n.indexOf(t[i]),r>-1&&n.splice(r,1);return n},isGuid:function(n){var t=/[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/i.exec(n);return t!=null}}}();var sProps=sProps||{},hrScroll,In,Out,OVERLAY_ELEMENT_ID="overlay",OVERLAYPOP_ELEMENT_ID="overlaypopup",status=0,agent=navigator.userAgent.toLowerCase();window.menu_ip="";var pageType="",ipRefresh,bsRetainSelection=!1,device,currentTitle,hideLoadScreen=!1,localStorageEnabled=!0,b365=b365||{},b365Mobile=b365Mobile||{},b365Sport=b365Sport||{},b365MobileApp=b365MobileApp||{},mips=-1,mipsli=-1,siteConfigQSParams,homePagePodConfigQSParams,lastDropDownMenuOption,meetingTimeTimeRefresh=!1,screenWidth=screen.width,HTML5StorageIsAvailable=null,prodNav,userPrefs,UserTeamPreferences,LiveUpdateUserPreference,inPlayFavourites,lvl2BreadcrumbHash,betslipBarCache,ipSubMenu,prematchHandlers,homePageExtraOffers={renderer:null},homePageInPlayPodController,virtual,virtualClock,mobileNavScroller,mobileSubNavScroller,headerController,wideHeaderController,sidebarController,memberMenuController,tournament,editBetController,editBetAdvertController,preMatchStatsController,MembersUrls={login:"/members/lp/default.aspx",logout:"/members/lp/logout/default.aspx",notifications:"/members/services/notifications/process",secondaryOrKyc:"/he/helpers/secondary.aspx"},MyBetsSiteDelegatesJS,MyBetsSiteCountersJS,MyBetsJS,MyBetsAutoRefresh,MyBetsConfirmAutoRefresh,MyBetsTitaniumDownRefresh,MyBetsScrollTimeout,MyBetsCloseBetsEnabled,MyBetsOpenBetsEnabled,MyBetsBetCount;String.prototype.format=function(){for(var n=this,t=arguments.length;t--;)n=n.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return n};b365.Attribute=function(){function n(){}return n.ADDITIONAL_DATA="AD",n.ADDITIONAL_STATS="AS",n.ANIMATION_ICON="AM",n.ANIMATION_ID="AI",n.ANIMATION_SOUND="AS",n.ANIMATION_TEXT="AT",n.ANIMATION_TOPIC="AO",n.AUDIO_AVAILABLE="AU",n.ARCHIVE_VIDEO_AVAILABLE="AV",n.ARCHIVE_FIXTURE_INFO="AF",n.ASIAN_HOVER="AH",n.AUDIO_ICON="IA",n.AUDIO_ID="SD",n.BASE_LINE="BL",n.BASE_ODDS="BO",n.BET_TOTE_TYPE="TC",n.BANKER_OPTION="OB",n.BOOK_CLOSES="BC",n.BETSLIP_PARAMETER="BETSLIP",n.BETSLIP_STAKE_PARAMETER="BETSLIP_STAKE",n.BREADCRUMB_TRAIL="TB",n.BREADCRUMB_LEVEL_1="L1",n.BUTTON_BAR="BB",n.BUTTON_BAR_INDEX="BI",n.C1_ID="C1",n.C1_TABLE="T1",n.C2_ID="C2",n.C2_TABLE="T2",n.CHANGE_STAMP="SA",n.CHANNEL="CN",n.CHECK_BOX="XB",n.CLASS_ID="CI",n.CLASS_ORDER="CR",n.CLASSIFICATION="CL",n.CLASSIFICATIONS="CS",n.BET_CALL_FEATURE_DISABLED="CM",n.BET_CALL_V2_DISABLED="MB",n.BET_CALL_V2_TWILIO_DISABLED="MT",n.CUSTOMER_TO_CUSTOMER_CALLING_FEATURE_DISABLED="MC",n.CUSTOMER_TO_REPRESENTATIVE_CALLING_FEATURE_DISABLED="MR",n.CLOTH_NUMBER="NC",n.CLOSE_BETS_DISABLED="CB",n.OPEN_BETS_PRESENTATION_PULL_DISABLED="OP",n.CLOSE_BETS_PRESENTATION_PULL_DISABLED="CP",n.COLUMN="CO",n.COLUMN_NUMBER="CN",n.COMMENT="CM",n.COMMENT_V4="MC",n.COMPETITION_NAME="CT",n.COMPETITION_KEY="CK",n.CONTROLLER="XL",n.COUNTDOWN="TD",n.CURRENT_INFO="CU",n.CURRENT_INFO_V4="UC",n.CURRENT_PROGRESS="CP",n.COMPETITION_DROPDOWN="CD",n.DATA_1="D1",n.DATA_2="D2",n.DATA_3="D3",n.DATA_4="D4",n.DATA_5="D5",n.DECIMAL_PLACES="DP",n.DEFAULT_OPEN="DO",n.DEFAULT_OPEN_HOMEPAGE="HO",n.DEFAULT_OPEN_LEFT="LO",n.DEFAULT_OPEN_RIGHT="RO",n.DESCRIPTION="DE",n.DIARY="DY",n.DIARY_AUDIO_AVAILABLE="IA",n.DIARY_DAY="DA",n.DIARY_NAME="DN",n.DIARY_REFRESH="DR",n.DISABLE_COLUMN_DISTRIBUTION="DX",n.DISPLAY_CLOCK="DC",n.DISPLAY_DATE="DD",n.DISPLAY_SCORE="DS",n.DRAW_NUMBER="DN",n.EMPTY="EM",n.EMPTY_TOPIC_ID="TO",n.END_TIME="ET",n.ERROR_CODE="EC",n.EXCLUDED_COUNTRY_CODES="EC",n.FILTERING="FF",n.EMBEDDED_STREAMING="ES",n.EVENT="EV",n.EVENT_COUNT="LC",n.EVENT_ID="EI",n.EVENT_TIME="EA",n.EVENT_TYPE="ET",n.EXCLUDE_COLUMN_NUMBERS="XC",n.EXCLUDED_COUNTRIES="CB",n.EXTRA_INFO_NODE="XI",n.EXTRA_DATA_1="EX",n.EXTRA_DATA_2="ED",n.EXTRA_SCORES="ES",n.EXTRA_STATS_AVAILABLE="EL",n.FIXTURE_PARENT_ID="FI",n.FORCE_DISPLAY="FD",n.HANDICAP="HA",n.GROUP="GR",n.HANDICAP_FORMATTED="HD",n.HASH="HS",n.HORSE_AGE="HY",n.HORSE_WEIGHT="HW",n.IBOX="IB",n.ICON="IC",n.ID="ID",n.ID2="I2",n.IMAGE="IM",n.INCLUDE_OVERVIEW_MARKET="IM",n.IMAGE_ID="IG",n.IN_PLAY="IF",n.IN_PLAY_AVAILABLE_FLAG="IP",n.IN_PLAY_LAUNCHER_DISPLAY_MODE="DM",n.INFO="IN",n.INRUNNING_INFO="IR",n.JOCKEY="JY",n.KIT_COLORS="KC",n.KIT_ID="KI",n.LABEL="LA",n.LOTTO_MAX_WINNINGS="MW",n.LIVE_IN_PLAY="LP",n.MATCH_LENGTH="ML",n.MATCHLIVE_AVAILABLE="SV",n.MATCHLIVE_ANIMATION="VC",n.MATCHLIVE_PERIOD="MD",n.PENALTY_GOALS="PG",n.MATCHLIVE_ADDITIONAL_INFO="PG",n.MATCHLIVE_STATS_1="S1",n.MATCHLIVE_STATS_2="S2",n.MATCHLIVE_STATS_3="S3",n.MATCHLIVE_STATS_4="S4",n.MATCHLIVE_STATS_5="S5",n.MATCHLIVE_STATS_6="S6",n.MATCHLIVE_STATS_7="S7",n.MATCHLIVE_STATS_8="S8",n.NON_MATCH_BASED="NM",n.PARTICIPANTS_EXCEEDED="PE",n.PERIOD="PE",n.MAX_BET="MB",n.MARKET="MA",n.MARKET_COUNT="MC",n.MARKET_GROUP="MG",n.MARKET_GROUP_PAIR_ID="4Q",n.MARKET_TYPE="MT",n.MARKET_STYLE="MY",n.MARKET_BAR="HM",n.MATCH_POSTPONED="MP",n.MATCH_FLAG="MF",n.MEDIA_ID="MS",n.MERGE_MARKET="MM",n.MINI_DIARY="CI",n.MINI_DIARY_C1="C1",n.MINI_DIARY_C2="C2",n.MINI_DIARY_C3="C3",n.LOTTO_GAME_MARKET="GM",n.LOTTO_GAME_CODE="GC",n.MINI_DIARY_T1="T1",n.MINI_DIARY_T2="T2",n.MINI_DIARY_T3="T3",n.MULTI_EVENT="ME",n.MULTILINE="MU",n.NAME="NA",n.NAME2="N2",n.NEUTRAL_VENUE="NV",n.NEUTRAL_VENUE_TEXT="NT",n.NEXT_HEADER="NH",n.NGENERA="NG",n.NON_RUNNER="NR",n.RACE_OFF="RO",n.R4_COMMENT="RI",n.RUNNER_STATUS="RS",n.ODDS="OD",n.ODDS_OVERRIDE="OO",n.ORDER="OR",n.OTHERS_AVAILABLE="OT",n.PARENT_ID="IP",n.PARTICIPANT="PA",n.PLAYING_INDICATOR="PI",n.PAGE_DATA="PD",n.PAGE_DATA_1="PC",n.POD="PD",n.POD_STACK="PS",n.POD_STACK_ORDER="PO",n.PREMIUM_VERSION="PV",n.PREVIOUS_SET_SCORE="LS",n.PRODUCT_TYPE="PT",n.HEADER_IMAGE="HI",n.POD_HEADER_TEXT="HT",n.RACE_DETAILS="RD",n.INFO_POD_DETAIL_1="ST",n.INFO_POD_DETAIL_2="BT",n.BLURB_HEADER="BH",n.INFO_POD_TYPE="PD",n.INFO_POD_LINK_1_ID="LA",n.INFO_POD_LINK_1_DISPLAY_TEXT="LB",n.INFO_POD_LINK_1_C1_ID="LC",n.INFO_POD_LINK_1_C1_ID_TABLE="LD",n.INFO_POD_LINK_1_C2_ID="LE",n.INFO_POD_LINK_1_C2_ID_TABLE="LF",n.POD_ENCODED_URL_1="LM",n.POD_ENCODED_URL_2="LN",n.PREFERENCE_ID="PR",n.INFO_POD_LINK_2_ID="LG",n.INFO_POD_LINK_2_DISPLAY_TEXT="LH",n.INFO_POD_LINK_2_C1_ID="LI",n.INFO_POD_LINK_2_C1_ID_TABLE="LJ",n.INFO_POD_LINK_2_C2_ID="LK",n.INFO_POD_LINK_2_C2_ID_TABLE="LL",n.INFO_POD_LINK_1_C3_ID="LP",n.INFO_POD_LINK_1_C3_ID_TABLE="LQ",n.INFO_POD_LINK_1_C3_SECTION_ID="LR",n.INFO_POD_IMAGE_URL="IN",n.POD_OPEN="PP",n.POD_TYPE="PT",n.PAGE_TYPE="PG",n.PUSH_BALANCE_ENABLED="PB",n.ITEM_ORDER="IO",n.POINTS="PO",n.PUSH_FLAG="PF",n.LEAGUE_TOPIC="TL",n.LIVE_MARKETS="LM",n.RESULT_CODE="RC",n.STAT_LOCATION="SZ",n.STAT_TIME="TM",n.STAT_PERIOD="SP",n.EXTRA_TIME_LENGTH="XT",n.REGION="RG",n.SOCCER_LEAGUE="LG",n.SCORE="SC",n.SCORES_CELL="SL",n.SCORES_COLUMN="SC",n.SECONDARY_EVENT="SE",n.SELECTED="LS",n.SECONDARY_UK_EVENT="MO",n.SHORT_SCORE="SS",n.SHORT_POINTS="XP",n.SHOW_ON_HOMEPAGE="HP",n.SPOTLIGHT_FORM="SF",n.START_TIME="SM",n.STAT="ST",n.STAT_GROUP="SG",n.STATS_CELL="AE",n.STATS_COLUMN="AC",n.STATS_PANE="AP",n.STATS_TAB="AT",n.STYLE="SY",n.SUCCESS="SU",n.SUSPENDED="SU",n.SUSPENDED_SELECTION="SS",n.TAX_DETAILS="TD",n.TAX_RATE="TR",n.TOPIC_REFERENCE="TR",n.TAX_METHOD="TX",n.TEAM="TE",n.TEAM_GROUP="TG",n.TEAM_COLOR="TC",n.TEAM_MATCHTOTAL_QUOTE="XI",n.TEAM_TOUCHDOWN_QUOTE="AD",n.TEAM_FIELDGOAL_QUOTE="AS",n.TEXT_1="T1",n.TEXT_2="T2",n.TEXT_3="T3",n.TEXT_4="T4",n.TEXT_5="T5",n.TIME_ADDED="TA",n.TEAM_ODDS_H="EX",n.TEAM_ODDS_A="ED",n.TIME_STAMP="TP",n.TIMEZONE_ADJUSTMENT="ZA",n.TMR_MINS="TM",n.TMR_SECS="TS",n.TMR_SERVER="TI",n.TMR_TICKING="TT",n.TMR_UPDATED="TU",n.TOPIC_ID="IT",n.TOPIC_LIST="TL",n.TOPIC_LIST_EXCLUSIONS="TX",n.UPDATE_FREQUENCY="UF",n.VIDEO_AVAILABLE="VI",n.VIDEO_STREAM="VS",n.VISIBLE="VL",n.WIZE_GUY="WG",n.WINNING_MARGIN="WM",n.BANNER_STYLE="BS",n.INFO_BANNER_SUBHEAD2="HU",n.INFO_POD_IMAGE_PATH1="IS",n.INFO_POD_IMAGE1="IQ",n.INFO_POD_IMAGE2="IU",n.POD_BODY_TEXT_1="ST",n.POD_BODY_TEXT_2="HV",n.PULL_BET_DATA="BD",n.RESULTS_TEXT="RT",n.TRAINER_NAME="TN",n.DRAW_NUMBER_PULL="SN",n.FORM_PULL="FO",n.IMAGE_ID_PULL="SI",n.CLOTH_NUMBER_PULL="PN",n.JOCKEY_PULL="JN",n.BET_TYPE_PULL="CC",n.LAST_RACES="LR",n.VIRTUAL_DATA="VD",n.VIRTUAL_RACE="VR",n.ODDS_HISTORY="OH",n.PARTICIPANT_STATUS="PS",n.PARTICIPANT_STYLE="PY",n.PHONE_ONLY="PH",n.PHONE_ONLY_LIST="TO",n.CURRENT_PERIOD="CP",n.WIN_365="3W",n.PLACE_365="3P",n.APN_FLUC="FL",n.FIXED_WIN="FW",n.FIXED_PLACE="FP",n.SUSPEND_ARRAY="SA",n.ETOTE_LINK_DATA="EE",n.TOTE_NAMES="TS",n.EXTRA_PARTICIPANTS="EP",n.AUS_TOTE_COMBINATION="PI",n.SECTION_ID="SI",n.PARTICIPANT_COUNT="PC",n.BUTTON_SPLIT_INDEX="BI",n.MARKET_GROUP_USER_PREFERENCE="PR",n.COMPETITION_CODE="CC",n.GLOBAL_CONFIG="CG",n.SCOREBOARD_TYPE="SB",n.SCOREBOARD_STYLE="BS",n.ERROR_LOGGING="ER",n.MATCHLIVE_COORDINATES="XY",n.NO_OFFER="PX",n.RANGE="RA",n.OPEN_BETS="OP",n.BET="BE",n.CONFIG="CF",n.STAKE="ST",n.BET_RETURNS="RE",n.VALUE="VA",n.OPEN_BETS_ENABLED="OB",n.CLOSE_BETS_ENABLED="CB",n.OPEN_BETS_COUNT="BO",n.CLOSE_BETS_COUNT="BC",n.REGULAR_SINGLE="RS",n.PARTIAL_CASHOUT_AVAILABLE="PC",n.CLOSE_BET_RETURNS="CR",n.BET_HISTORY="HI",n.EACH_WAY="EW",n.PULL_DELAY="PD",n.CUP_ICON="CI",n.PADDOCK_VIDEO_AVAILABLE="_V",n.MORE_MARKETS="MR",n.FIXTURE_STARTED="FS",n}();ns=ns||{};ns.mobile=ns.mobile||{};ns.mobile.betslip=ns.mobile.betslip||{};ns.mobile.betslip.Widget=function(){function n(){}return n.prototype.addToBetSlip=function(n){var t=this;bsApp.addBet(n);t.refreshBetslip()},n.prototype.refreshBetslip=function(){setTimeout(function(){window.quickBetController&&window.quickBetController.isVisible||bsApp.refreshSlip()},350)},n}();TouchBuster.prototype.preventGhostTouch=function(n,t){this._enabled&&(this._coordinates.push(n,t),window.setTimeout($.proxy(this.pop,this),2500))};TouchBuster.prototype.pop=function(){this._coordinates.splice(0,2)};TouchBuster.prototype.clearEvents=function(){var n=this;n._enabled&&(n._coordinates=[])};TouchBuster.prototype.onTouch=function(n){for(var r,u,t=0,i=this._coordinates.length;t<i;t+=2)r=this._coordinates[t],u=this._coordinates[t+1],Math.abs(n.clientX-r)<25&&Math.abs(n.clientY-u)<25&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,n.preventDefault?n.preventDefault():n.returnValue=!1)};b365.PrematchHandlers=function(){function n(){}return n.prototype._handler=null,n.prototype._handleClick=function(n){if(window.enhancedPodClickHandler(n))return n.stopPropagation(),n.preventDefault(),!1;window.mainClicked(n)},n.prototype.addHandlers=function(){var n;this._handler===null&&(n=document.getElementById("LoadZone"),n&&(this._handler=$.proxy(this._handleClick,this),n.addEventListener("click",this._handler)))},n.prototype.removeHandlers=function(){this._handler!=null&&(wrapperElement=document.getElementById("LoadZone"),wrapperElement.removeEventListener("click",this._handler),this._handler=null)},n}(),function(n){n.fn.touchwipe=function(t){var i={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},userClick:function(){},preventDefaultEvents:!0,handler:null};return t&&n.extend(i,t),this.each(function(){function u(){this.removeEventListener("touchmove",f);n=null;t=!1}function f(f){if(i.preventDefaultEvents&&f.preventDefault(),t){var s=f.touches[0].pageX,h=f.touches[0].pageY,e=n-s,o=r-h;Math.abs(e)>=i.min_move_x?(u(),e>0?i.wipeLeft():i.wipeRight()):Math.abs(o)>=i.min_move_y&&(u(),o>0?i.wipeDown():i.wipeUp())}}function e(i){i.touches.length==1&&(n=i.touches[0].pageX,r=i.touches[0].pageY,t=!0,this.addEventListener("touchmove",f,!1))}function o(){i.userClick()}var n,r,t=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",e,!1);i.handler&&i.handler._element&&i.handler.destroy();i.handler=this.addEventListener("click",o,!1)}),this}}(jQuery);ResponsiveClickHandler.prototype.destroy=function(){for(var n=this._events.length-1;n>=0;n-=1)this._events[n].destroy();this._events=this._touchEvents=this._element=this._handler=this.ResponsiveClickHandler=null};ResponsiveClickHandler.prototype.reset=function(){if(this._touchEvents)for(var n=this._touchEvents.length-1;n>=0;n-=1)this._touchEvents[n].destroy();this._touchEvents=[]};ResponsiveClickHandler.prototype.addListener=function(n,t,i,r){if(n.addEventListener)return n.addEventListener(t,i,r),{destroy:function(){n.removeEventListener(t,i,r)}};var u=function(){i.handleEvent(window.event,i)};return n.attachEvent("on"+t,u),{destroy:function(){n.detachEvent("on"+t,u)}}};ResponsiveClickHandler.prototype.handleEvent=function(n){switch(n.type){case this._touchStartEvent:if(n.pointerType&&(n.pointerType=="touch"||n.pointerType==2)||typeof n.pointerType=="undefined"){this.onTouchStart(n);this._optionalTouchStartCallBack&&this._optionalTouchStartCallBack(n)}break;case this._touchMoveEvent:if(n.pointerType&&(n.pointerType=="touch"||n.pointerType==2)||typeof n.pointerType=="undefined"){this.onTouchMove(n);this._optionalTouchMoveCallBack&&this._optionalTouchMoveCallBack(n)}break;case this._touchEndEvent:this.onClick(n);this._optionalTouchEndCallBack&&this._optionalTouchEndCallBack(n);break;case"click":this.onClick(n)}};ResponsiveClickHandler.prototype.onTouchStart=function(n){if(n&&n.srcElement&&n.srcElement.getAttribute("data-nav")==="externalLink")return!0;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;this._touchEvents.push(this.addListener(this._element,this._touchEndEvent,this,this._useCapture));this._touchEvents.push(this.addListener(document.body,this._touchMoveEvent,this,this._useCapture));this._startX=n.touches?n.touches[0].clientX:n.clientX;this._startY=n.touches?n.touches[0].clientY:n.clientY};ResponsiveClickHandler.prototype.onTouchMove=function(n){var t=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY;(Math.abs(t-this._startX)>10||Math.abs(i-this._startY)>10)&&this.reset()};ResponsiveClickHandler.prototype.onClick=function(n){var t;return!this._handler&&n.type==this._touchEndEvent?(n.target.removeEventListener(this._touchEndEvent,this.handleEvent,this._useCapture),!1):(t=this._handler.call(this._element,n),n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,this.reset(),window.touchBuster&&n.type==this._touchEndEvent&&window.touchBuster.preventGhostTouch(this._startX,this._startY),t)};agent=navigator.userAgent.toLowerCase();jQuery.fn.outerHTML=function(n){return n?this.before(n).remove():jQuery("<p>").append(this.eq(0).clone()).html()};String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")};String.prototype.startsWith=function(n){return this.match("^"+n)==n};String.prototype.endsWith=function(n){return this.match(n+"$")==n};b365Mobile.appUpdatePopup=function(){function n(){}return n.majorVersionChange,n.secondAndroidDialog=!1,n.init=function(t){var r,f;if(!sProps.appInitResult||!sProps.appInitResult.app||!sProps.appInitResult.app.installer){var u=t,i=sProps.latestAndroidVersion.split("."),e=i.length;for(r=0;r<e;r++)parseInt(i[r])<10&&(i[r]="0"+i[r]);f=i.join("")>u.join("");f&&(i[0]>u[0]&&(n.majorVersionChange=!0),n.createUpdatePopup("AndroidLatestApp1",b365.ml.androidNewVersionMsg),setTimeout(function(){Overlay(1,0,0,!0)},500),CreatePopupBox("updateAppPopUp1",andDialogDiv.outerHTML,!1))}},n.updateLaterHandler=function(){n.majorVersionChange?(n.closeAndroidUpdate(1),n.createUpdatePopup("AndroidLatestApp2",b365.ml.androidUpdateMsg),CreatePopupBox("updateAppPopUp2",andDialogDiv.outerHTML,!1),n.secondAndroidDialog=!0):(n.closeAndroidUpdate(1),Overlay(0))},n.createUpdatePopup=function(n,t){andDialogDiv=document.createElement("div");andDialogDiv.setAttribute("id",n);andDialogDiv.setAttribute("class","androidMsgContainer");andDialogBody=document.createElement("p");andDialogBody.setAttribute("class","androidMsgBody");andDialogBody.innerHTML=t;andDialogDiv.appendChild(andDialogBody);updateNowButton=document.createElement("button");updateNowButton.setAttribute("class","updateAppNowBtn");updateNowButton.setAttribute("data-nav","updateNow");updateNowButton.innerText=b365.ml.androidDownloadBtn;andDialogDiv.appendChild(updateNowButton);n==="AndroidLatestApp1"?(updateLaterButton=document.createElement("button"),updateLaterButton.setAttribute("class","updateLaterBtn"),updateLaterButton.setAttribute("data-nav","updateLater"),updateLaterButton.innerText=b365.ml.androidUpdateLaterBtn,andDialogDiv.appendChild(updateLaterButton)):(updateNowButton.setAttribute("class","updateAppNowBtn btnFullWidth"),continueBrowserButton=document.createElement("a"),continueBrowserButton.setAttribute("class","continueBrowserBtn"),continueBrowserButton.setAttribute("data-nav","continueToBrowser"),continueBrowserButton.innerText=b365.ml.androidBrowserBtn,andDialogDiv.appendChild(continueBrowserButton));Overlay(1,0,0,!0)},n.updateAndroidAppHandler=function(){window.open("https://app.downloaded365.com/Mobile/bet365.apk","Bet365 App Update","",!1)},n.continueToBrowserHandler=function(){return window.open("https://mobile.bet365.com/","_blank"),!1},n.closeAndroidUpdate=function(n){var t=document.getElementById("updateAppPopUp"+n),i=document.getElementById("Site");i.removeChild(t);Overlay(0)},n}();b365.LazyLoaders=function(){function n(){}var i={css:[window.resolveCSSPath({path:"v6/display/podContentScroller/PodContentScroller.css"})],javaScript:[window.resolveScriptPath({path:"v6/display/podContentScroller.js"})]},r={css:[window.resolveCSSPath({path:"css/schedule.css"})],javaScript:[window.resolveScriptPath({path:"inplay/schedule.js"})]},u={css:[window.resolveCSSPath({path:"v6/all.css"})],javaScript:[]},f={css:[window.resolveCSSPath({path:"v6/v6couponsplash.css"})],javaScript:[window.resolveScriptPath({path:"coupons.js"})]},e={css:[],javaScript:[window.resolveScriptPath({path:"iscroll-lite.js"})]},o={css:[],javaScript:[window.resolveScriptPath({path:"V6/v6ScrollerSetup.js"})]},s={css:[],javaScript:[window.resolveScriptPath({path:"V6/v6Racing.js"})]},h={css:[],javaScript:[window.resolveScriptPath({path:"V6/v6Soccer.js"})]},c={css:[window.resolveCSSPath({path:"display/wideView.css"})],javaScript:[]},l={css:[],javaScript:[window.resolveScriptPath({path:"matchLive/matchLiveGlobal.js"})]},a={css:[],javaScript:[window.resolveScriptPath({path:"b365Apps.js"})]},v={css:[],javaScript:[window.resolveScriptPath({path:"forms.js"})]},y={css:[window.resolveCSSPath({path:"v6/v6couponsplash.css"})],javaScript:[window.resolveScriptPath({path:"splash.js"})]},p={css:[],javaScript:[window.resolveScriptPath({path:"genericHandlers/prematchHandlers.js"})]},w={css:[window.resolveCSSPath({path:"v6/v6virtuals.css"}),window.resolveCSSPath({path:"v6/v6couponsplash.css"})],javaScript:[window.resolveScriptPath({path:"V6/v6Virtuals.js"})]},b={css:[],javaScript:[window.resolveScriptPath({path:"V6/LeagueTable.js"})]},k={css:[],javaScript:[window.resolveScriptPath({path:"ippg.js"})]},rt={css:[],javaScript:[window.resolveScriptPath({path:"matchlivelib.min.js",key:"MatchLiveLib"},window.ResolveScriptPathScheme.SportsUIModule)]},d={css:[window.resolveCSSPath({path:"mobile/lotto/lotto.css",key:"betslip"})],javaScript:[window.resolveScriptPath({path:"lottobetslip.js",key:"betslip"})]},g={css:[window.resolveCSSPath({path:"v6/base.css"})],javaScript:[]},nt={css:[window.resolveCSSPath({path:"v6/all.css"}),window.resolveCSSPath({path:"v6/v6couponsplash.css"})],javaScript:[window.resolveScriptPath({path:"coupons.js"}),window.resolveScriptPath({path:"/v6/v6ScrollerSetup.js"}),window.resolveScriptPath({path:"/v6/v6Racing.js"}),window.resolveScriptPath({path:"/v6/v6Soccer.js"}),window.resolveScriptPath({path:"splash.js"})]},tt={css:[window.resolveCSSPath({path:"mobile/base/base.css",key:"betslip"})],javaScript:[window.resolveScriptPath({path:"betslip.js",key:"betslip"}),window.resolveScriptPath({path:"{0}-ml.js",key:"betslip"}).replace("{0}",sProps.LanguagPrefix)]},it={css:[window.resolveCSSPath({path:"display/offers.css"})],javaScript:[window.resolveScriptPath({path:"extraOffers.js"})]},ut={css:[],javaScript:[window.resolveScriptPath({path:"editBet.js"})]},ft={css:[],javaScript:[window.resolveScriptPath({path:"editBetAdvert.js"})]},et={css:[],javaScript:[window.resolveScriptPath({path:"preMatchStatsController.js"})]},t={debugMode:{css:["css/italyStreaming/italyStreaming.css"],javaScript:["js/italyStreaming/italyStreamingUI.js"]},liveMode:{css:[window.resolveCSSPath({path:"css/italyStreaming.css"})],javaScript:[window.resolveScriptPath({path:"italyStreaming.js"})]}};return n.prototype.lazyLoaderTypes={podContentScroller:1,inPlaySchedule:2,v6CSS:3,couponCode:4,iScroll:6,v6Scroller:7,v6Racing:8,v6Soccer:9,wideView:10,matchLiveGlobal:11,b365Apps:12,forms:13,splash:15,prematchHandlers:16,v6Virtuals:20,matchLiveLib:21,v6CouponLeagueTable:23,lotto:24,homePageOffers:26,editBets:27,editBetsAdvert:28,betslipStyles:29,betslip:30,siteLoadStyles:31,postSiteLoadScripts:32,postSiteLoadStyles:33,preMatchStats:34,ippg:35,italyStreaming:36},n.prototype._podContentScrollerLoaded=!1,n.prototype._inPlayScheduleLoaded=!1,n.prototype._v6CSSLoaded=!1,n.prototype._couponCodeLoaded=!0,n.prototype._iScrollLoaded=!1,n.prototype._v6ScrollerSetupLoaded=!0,n.prototype._v6RacingLoaded=!0,n.prototype._v6SoccerLoaded=!0,n.prototype._wideViewLoaded=!1,n.prototype._matchLiveGlobalLoaded=!1,n.prototype._b365AppsLoaded=!1,n.prototype._formsLoaded=!1,n.prototype._splashLoaded=!0,n.prototype._preMatchHandlersJSLoaded=!0,n.prototype._betMessagePopupLoaded=!1,n.prototype._betCallLoaded=!1,n.prototype._v6VirtualsLoaded=!1,n.prototype._matchLiveLoaded=!1,n.prototype._bettingBannersLoaded=!1,n.prototype._v6CouponLeagueTable=!1,n.prototype._betslipLottoJSLoaded=!1,n.prototype._homePageOffersLoaded=!1,n.prototype._siteLoadScriptsLoaded=!1,n.prototype._siteLoadStylesLoaded=!1,n.prototype._postSiteLoadScriptsLoaded=!1,n.prototype._postSiteLoadStylesLoaded=!1,n.prototype._betslipScriptsLoaded=!1,n.prototype._betslipStylesLoaded=!1,n.prototype._editBetsLoaded=!1,n.prototype._archiveStreamingScriptsLoaded=!1,n.prototype._editBetsAdvertLoaded=!1,n.prototype._preMatchStatLoaded=!1,n.prototype._ippg=!1,n.prototype._doCallBack=function(n,t,i){t?i?n.apply(i,t):n.apply(null,t):n()},n.prototype._getLinkElementByHref=function(n){for(var i=document.getElementsByTagName("link"),r,t=i.length-1;t>=0;t--)if(r=i[t],r.href.indexOf(n)>0)return i=null,r;return i=null,null},n.prototype._addPodContentScroller=function(){if(this._podContentScrollerLoaded)return{css:[],javaScript:[]};var n={css:i.css,javaScript:i.javaScript};return this._podContentScrollerLoaded=!0,n},n.prototype._addInPlaySchedule=function(){if(this._inPlayScheduleLoaded)return{css:[],javaScript:[]};var n={css:r.css,javaScript:r.javaScript};return this._inPlayScheduleLoaded=!0,n},n.prototype._addV6CSS=function(){if(this._v6CSSLoaded)return{css:[],javaScript:[]};var n={css:u.css,javaScript:u.javaScript};return this._v6CSSLoaded=!0,n},n.prototype._addCoupon=function(){if(this._couponCodeLoaded)return{css:[],javaScript:[]};var n={css:f.css,javaScript:f.javaScript};return this._couponCodeLoaded=!0,n},n.prototype._addIScroll=function(){if(this._iScrollLoaded)return{css:[],javaScript:[]};var n={css:e.css,javaScript:e.javaScript};return this._iScrollLoaded=!0,n},n.prototype._addV6ScrollerSetup=function(){if(this._v6ScrollerSetupLoaded)return{css:[],javaScript:[]};var n={css:o.css,javaScript:o.javaScript};return this._v6ScrollerSetupLoaded=!0,n},n.prototype._addV6Racing=function(){if(this._v6RacingLoaded)return{css:[],javaScript:[]};var n={css:s.css,javaScript:s.javaScript};return this._v6RacingLoaded=!0,n},n.prototype._addV6Soccer=function(){if(this._v6SoccerLoaded)return{css:[],javaScript:[]};var n={css:h.css,javaScript:h.javaScript};return this._v6SoccerLoaded=!0,n},n.prototype._addWideView=function(){if(this._wideViewLoaded)return{css:[],javaScript:[]};var n={css:c.css,javaScript:c.javaScript};return this._wideViewLoaded=!0,n},n.prototype._addMatchLiveGlobal=function(){if(this._matchLiveGlobalLoaded)return{css:[],javaScript:[]};var n={css:l.css,javaScript:l.javaScript};return this._matchLiveGlobalLoaded=!0,n},n.prototype._addB365Apps=function(){if(this._b365AppsLoaded)return{css:[],javaScript:[]};var n={css:a.css,javaScript:a.javaScript};return this._b365AppsLoaded=!0,n},n.prototype._addForms=function(){if(this._formsLoaded)return{css:[],javaScript:[]};var n={css:v.css,javaScript:v.javaScript};return this._formsLoaded=!0,n},n.prototype._addSplash=function(){if(this._splashLoaded)return{css:[],javaScript:[]};var n={css:y.css,javaScript:y.javaScript};return this._splashLoaded=!0,n},n.prototype._addPreMatchHandlers=function(){if(this._preMatchHandlersJSLoaded)return{css:[],javaScript:[]};var n={css:p.css,javaScript:p.javaScript};return this._preMatchHandlersJSLoaded=!0,n},n.prototype._addV6Virtuals=function(){if(this._v6VirtualsLoaded)return{css:[],javaScript:[]};var n={css:w.css,javaScript:w.javaScript};return this._v6VirtualsLoaded=!0,n},n.prototype._addIPPG=function(){if(this._ippg)return{css:[],javaScript:[]};var n={css:k.css,javaScript:k.javaScript};return this._ippg=!0,n},n.prototype._addV6CouponLeagueTable=function(){if(this._v6CouponLeagueTable)return{css:[],javaScript:[]};var n={css:b.css,javaScript:b.javaScript};return this._v6CouponLeagueTable=!0,n},n.prototype._addMatchLiveLib=function(){if(this._matchLiveLoaded)return{css:[],javaScript:[]};var n={css:[],javaScript:rt.javaScript};return this._matchLiveLoaded=!0,n},n.prototype._addLottoBetslip=function(){if(this._betslipLottoJSLoaded)return{css:[],javaScript:[]};var n={css:d.css,javaScript:d.javaScript};return this._betslipLottoJSLoaded=!0,n},n.prototype._addSiteLoadScripts=function(){if(this._siteLoadScriptsLoaded)return{css:[],javaScript:[]};var n={css:[],javaScript:g.javaScript};return this._siteLoadScriptsLoaded=!0,n},n.prototype._addSiteLoadStyles=function(){if(this._siteLoadStylesLoaded)return{css:[],javaScript:[]};var n={css:g.css,javaScript:[]};return this._siteLoadStylesLoaded=!0,n},n.prototype._addPostSiteLoadScripts=function(){if(this._postSiteLoadScriptsLoaded)return{css:[],javaScript:[]};var n={css:[],javaScript:nt.javaScript};return this._postSiteLoadScriptsLoaded=!0,n},n.prototype._addPostSiteLoadStyles=function(){if(this._postSiteLoadStylesLoaded)return{css:[],javaScript:[]};var n={css:nt.css,javaScript:[]};return this._postSiteLoadStylesLoaded=!0,n},n.prototype._addBetslipScripts=function(){if(this._betslipScriptsLoaded)return{css:[],javaScript:[]};var n={css:[],javaScript:tt.javaScript};return this._betslipScriptsLoaded=!0,n},n.prototype._addBetslipStyles=function(){if(this._betslipStylesLoaded)return{css:[],javaScript:[]};var n={css:tt.css,javaScript:[]};return this._betslipStylesLoaded=!0,n},n.prototype._addHomePageOffers=function(){if(this._homePageOffersLoaded)return{css:[],javaScript:[]};var n={css:it.css,javaScript:it.javaScript};return this._homePageOffersLoaded=!0,n},n.prototype._addEditBet=function(){if(this._editBetsLoaded)return{css:[],javaScript:[]};var n={css:[],javaScript:ut.javaScript};return this._editBetsLoaded=!0,n},n.prototype._addEditBetAdvert=function(){if(this._editBetsAdvertLoaded)return{css:[],javaScript:[]};var n={css:[],javaScript:ft.javaScript};return this._editBetsAdvertLoaded=!0,n},n.prototype._preMatchStats=function(){if(this._preMatchStatsLoaded)return{css:[],javaScript:[]};var n={css:[],javaScript:et.javaScript};return this._preMatchStatsLoaded=!0,n},n.prototype.italyStreaming=function(){var n;return this.italyStreamingLoaded?{css:[],javaScript:[]}:(n={css:[],javaScript:[]},window.sProps.dm==="true"?(n.javaScript=n.javaScript.concat(t.debugMode.javaScript),n.css=n.css.concat(t.debugMode.css)):(n.javaScript=n.javaScript.concat(t.liveMode.javaScript),n.css=n.css.concat(t.liveMode.css)),n)},n.prototype.loadPageCSS=function(n,t,i,r){for(var f=[],o=this,u=0,e=n.length;u<e;u++)n[u].indexOf("/betslip/styles/")>-1?(n[u]=n[u].replace("/betslip/styles/",""),f.push(window.resolveCSSPath({path:n[u],key:"betslip"}))):n[u].indexOf("matchlive/")>-1?f.push(window.resolveCSSPath({path:n[u],key:"matchlive"})):f.push(window.resolveCSSPath({path:n[u]}));window.LazyLoad.css(f,function(){window.LazyLoad.clearStyleSheets();t&&o._doCallBack(t,i,r)})},n.prototype.unloadPageCSS=function(n,t,i,r){for(var f,o=[],u=0,e=n.length;u<e;u++)n[u].indexOf("/betslip/")>-1?(n[u]=n[u].replace("/betslip/",""),o.push(window.resolveCSSPath({path:n[u],key:"betslip"}))):o.push(window.resolveCSSPath({path:n[u]}));for(u=0,e=o.length;u<e;u++)f=this._getLinkElementByHref(o[u]),f!=null&&f.parentNode.removeChild(f);t&&this._doCallBack(t,i,r)},n.prototype.addAndLoadFiles=function(n,t,i,r){for(var u,o=this,f={css:[],javaScript:[]},e=0,s=n.length;e<s;e++){u={css:[],javaScript:[]};switch(n[e]){case this.lazyLoaderTypes.podContentScroller:u=this._addPodContentScroller();break;case this.lazyLoaderTypes.inPlaySchedule:u=this._addInPlaySchedule();break;case this.lazyLoaderTypes.v6CSS:u=this._addV6CSS();break;case this.lazyLoaderTypes.couponCode:u=this._addCoupon();break;case this.lazyLoaderTypes.iScroll:u=this._addIScroll();break;case this.lazyLoaderTypes.v6Scroller:u=this._addV6ScrollerSetup();break;case this.lazyLoaderTypes.v6Racing:u=this._addV6Racing();break;case this.lazyLoaderTypes.v6Soccer:u=this._addV6Soccer();break;case this.lazyLoaderTypes.wideView:u=this._addWideView();break;case this.lazyLoaderTypes.matchLiveGlobal:u=this._addMatchLiveGlobal();break;case this.lazyLoaderTypes.b365Apps:u=this._addB365Apps();break;case this.lazyLoaderTypes.forms:u=this._addForms();break;case this.lazyLoaderTypes.splash:u=this._addSplash();break;case this.lazyLoaderTypes.prematchHandlers:u=this._addPreMatchHandlers();break;case this.lazyLoaderTypes.v6Virtuals:u=this._addV6Virtuals();break;case this.lazyLoaderTypes.v6CouponLeagueTable:u=this._addV6CouponLeagueTable();break;case this.lazyLoaderTypes.ippg:u=this._addIPPG();break;case this.lazyLoaderTypes.matchLiveLib:u=this._addMatchLiveLib();break;case this.lazyLoaderTypes.lotto:u=this._addLottoBetslip();break;case this.lazyLoaderTypes.betslip:u=this._addBetslipScripts();break;case this.lazyLoaderTypes.betslipStyles:u=this._addBetslipStyles();break;case this.lazyLoaderTypes.postSiteLoadScripts:u=this._addPostSiteLoadScripts();break;case this.lazyLoaderTypes.postSiteLoadStyles:u=this._addPostSiteLoadStyles();break;case this.lazyLoaderTypes.siteLoadStyles:u=this._addSiteLoadStyles();break;case this.lazyLoaderTypes.homePageOffers:u=this._addHomePageOffers();break;case this.lazyLoaderTypes.editBets:u=this._addEditBet();break;case this.lazyLoaderTypes.editBetsAdvert:u=this._addEditBetAdvert();break;case this.lazyLoaderTypes.preMatchStats:u=this._preMatchStats();break;case this.lazyLoaderTypes.italyStreaming:u=this.italyStreaming()}u.css.length>0&&(f.css=f.css.concat(u.css));u.javaScript.length>0&&(f.javaScript=f.javaScript.concat(u.javaScript))}f.css.length>0||f.javaScript.length>0?f.css.length>0&&f.javaScript.length>0?window.LazyLoad.css(f.css,function(){window.LazyLoad.clearStyleSheets();window.LazyLoad.js(f.javaScript,function(){t&&o._doCallBack(t,i,r)})}):f.css.length>0&&f.javaScript.length==0?window.LazyLoad.css(f.css,function(){window.LazyLoad.clearStyleSheets();t&&o._doCallBack(t,i,r)}):f.javaScript.length>0&&f.css.length==0&&window.LazyLoad.js(f.javaScript,function(){t&&o._doCallBack(t,i,r)}):t&&this._doCallBack(t,i,r)},n}();mobileLazyLoaders=new b365.LazyLoaders;b365.SectionHistory=function(n){var i=1800,t=this;t.keyList=[];t.addItem=function(t,i,r){var e=[],h=r?0:1,o,s,f,u;for(o=localStorageEnabled?getb365SessionStorageItem(n+"_"+t):document.getElementById("SectionState").value,s=new SectionHistoryItem(t,i,h,n),o&&(e=JSON.parse(b365Mobile.utils.stripLineBreaksAndTabs(o)));e.length>32;)e.shift();for(f=[],u=0;u<e.length;u=u+1)e[u].itemId!=i&&f.push(e[u]);if(s.itemId.indexOf("/TAB/")>0)for(u=0;u<f.length;u=u+1)f[u].itemId.indexOf("/TAB/")>0&&f.splice(u,1);f.push(s);localStorageEnabled?sessionStorage.setb365ItemNoCookie(n+"_"+t,JSON.stringify(f)):document.getElementById("SectionState").value=JSON.stringify(f)};t.removeItem=function(t){sessionStorage.removeb365Item(n+"_"+t)};t.getHistoryList=function(t){var o,f=[],e="",r,u;for(o=localStorageEnabled?getb365SessionStorageItem(n+"_"+t):document.getElementById("SectionState").value,o&&(f=JSON.parse(b365Mobile.utils.stripLineBreaksAndTabs(o))),r=f.length-1;r>=0&&e.length<i;--r)u=f[r].itemId,u.indexOf("/TAB/")==-1&&(u=u+"/"+f[r].state),e+=(e.length>0?";":"")+u;return e}};b365.SplashHistory=function(){return new b365.SectionHistory("Splash")};b365.CouponHistory=function(){return new b365.SectionHistory("Coupon")};b365Mobile.SectionHistory=function(n){var i=1800,t=this;t.keyList=[];t.addItem=function(t,i,r){var e=[],h=r?1:0,o,s,f,u;for(o=localStorageEnabled?getb365SessionStorageItem(n+"_"+t):document.getElementById("SectionState").value,s=new SectionHistoryItem(t,i,h,n),o&&(e=JSON.parse(b365Mobile.utils.stripLineBreaksAndTabs(o)));e.length>32;)e.shift();for(f=[],u=0;u<e.length;u=u+1)e[u].itemId!=i&&f.push(e[u]);if(s.itemId.indexOf("/TAB/")>0)for(u=0;u<f.length;u=u+1)f[u].itemId.indexOf("/TAB/")>0&&f.splice(u,1);f.push(s);localStorageEnabled?sessionStorage.setb365ItemNoCookie(n+"_"+t,JSON.stringify(f)):document.getElementById("SectionState").value=JSON.stringify(f)};t.removeItem=function(t){localStorageEnabled&&sessionStorage.removeb365Item(n+"_"+t)};t.getHistoryList=function(t){var o,r,u,f,e;for(o=localStorageEnabled?getb365SessionStorageItem(n+"_"+t):document.getElementById("SectionState").value,r=[],o&&(r=JSON.parse(b365Mobile.utils.stripLineBreaksAndTabs(o))),u="",f=r.length-1;f>=0&&u.length<i;--f)e=r[f].itemId,e.indexOf("/TAB/")==-1&&(e=e+"/"+r[f].state),u+=(u.length>0?";":"")+e;return u}};b365Mobile.RacingFormState=function(){return new b365Mobile.SectionHistory("Form")};b365Mobile.SplashHistory=function(){return new b365Mobile.SectionHistory("Splash")};b365Mobile.CouponHistory=function(){return new b365Mobile.SectionHistory("Coupon")};b365Mobile.HomeInplayPodHistory=function(){return new b365Mobile.SectionHistory("HomeInplayPodHistory")};b365Mobile.TournamentHistory=function(){return new b365Mobile.SectionHistory("Tournament")};b365.SiteDataSession=function(){var n=this,t;n.siteData=new SiteDataSessionItem;n.init=function(){if(getb365SessionStorageItem("siteStateSession")){var i=JSON.parse(b365Mobile.utils.stripLineBreaksAndTabs(getb365SessionStorageItem("siteStateSession")));for(t in i)n.siteData.hasOwnProperty(t)&&b365Mobile.utils.setPropertyOnObject(n.siteData,t,i[t])}};n.store=function(){setb365SessionStorageItem("siteStateSession",JSON.stringify(n.siteData))};n.setItem=function(t,i){b365Mobile.utils.setPropertyOnObject(n.siteData,t,encodeURIComponent(i))&&n.store()};n.getItem=function(t){return decodeURIComponent(b365Mobile.utils.getPropertyFromObject(n.siteData,t))};n.set_racingCouponSortCriteria=function(t){isNaN(t)||(n.siteData._racingCouponSortCriteria=t,n.store())};n.get_racingCouponSortCriteria=function(){return n.siteData._racingCouponSortCriteria};n.set_betslipCouponLinkText=function(t){n.setItem("_betslipCouponLinkText",t)};n.get_betslipCouponLinkText=function(){return n.getItem("_betslipCouponLinkText")};n.set_betslipCouponLinkHash=function(t){n.setItem("_betslipCouponLinkHash",t)};n.get_betslipCouponLinkHash=function(){return n.getItem("_betslipCouponLinkHash")};n.set_betslipCouponLinkClassId=function(t){n.setItem("_betslipCouponLinkClassId",t)};n.get_betslipCouponLinkClassId=function(){return n.getItem("_betslipCouponLinkClassId")}};b365.SiteDataLocal=function(){var n=this,t;n.siteData=new SiteDataLocalItem;n.init=function(){var i,r,u;if(getb365LocalStorageItem("siteDataLocal")){t=JSON.parse(b365Mobile.utils.stripLineBreaksAndTabs(getb365LocalStorageItem("siteDataLocal")));for(i in t)t.hasOwnProperty(i)&&(r=i,u=t[i],n.siteData.hasOwnProperty(r)&&n.setItem(r,u))}};n.store=function(){setb365LocalStorageItem("siteDataLocal",JSON.stringify(n.siteData))};n.setItem=function(t,i){b365Mobile.utils.setPropertyOnObject(n.siteData,t,i)&&n.store()};n.getItem=function(t){return b365Mobile.utils.getPropertyFromObject(n.siteData,t)}};typeof Storage!="undefined"&&(Storage.prototype.useCookiesOverride=function(){return device.isAndroid&&device.isOpera&&device.browserVersion>21},Storage.prototype.getItemForUrl=function(n){return this.getb365Item(n)!=null?this.getb365Item(n):""},Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype.setItem=function(n,t){this.removeItem(n);this._setItem(n,t)},Storage.prototype.getb365Item=function(n){var t="",i=sessionStorage.getItem("storageTest");if("localStorage"in window&&(i||isHTML5StorageEnabled()))try{t=this.getItem(n)}catch(r){t=b365Mobile.utils.getCookie(n)}else t=b365Mobile.utils.getCookie(n);return t},Storage.prototype._setb365Item=Storage.prototype.setItem,Storage.prototype.setb365Item=function(n,t){var i=sessionStorage.getItem("storageTest");if("localStorage"in window&&(i||isHTML5StorageEnabled()))try{this.removeItem(n);this._setb365Item(n,t)}catch(r){setCookieFallBack(n,t)}else setCookieFallBack(n,t)},Storage.prototype.removeb365Item=function(n){this.removeItem(n)},Storage.prototype.setb365ItemNoCookie=function(n,t){var i=sessionStorage.getItem("storageTest");if("localStorage"in window&&(i||isHTML5StorageEnabled()))try{this.removeItem(n);this._setb365Item(n,t)}catch(r){}}),function(n){var t=this;n.fn.setKitAttrs=function(t,i){return this.each(function(){n(this).attr("data-kitimg",t).attr("data-kitcolour",i)})};n.fn.applyKitColour=function(r,u,f){var e=this.length;return this.each(function(){var o,s,h;for(o=location.origin,o+=n(this).attr("data-kitimg"),s=this,i=0,il=window.manifest.manifest.items.add.length;i<il;i++)if(window.manifest.manifest.items.add[i]["@key"]=="site"){h=window.manifest.manifest.items.add[i].script["@version"];break}device.ajaxCacheBreakRequired||(o=o+"?_="+h);n.ajax({url:o,type:"GET",dataType:"text",cache:!device.ajaxCacheBreakRequired}).done(function(i){n(s)[0].innerHTML=i;t.applyColour(n(s)[0]);e-=1;u&&f&&n(s).find("svg").attr("width",u+"px").attr("height",f+"px");e===0&&typeof r=="function"&&r()})})};t.applyColour=function(t){var r=n(t).data("kitcolour").split(","),u,e,i,o,s,f;if(r.length!==0){for(u=n(t)[0],e=!1,n(u).find('[class="colorcode8"]').attr("opacity",0),i=0,o=r.length;i<o;i++)s='[class="colorcode'+(i+1).toString()+'"]',f=n(u).find(s),f.length>0&&f.attr("fill")!==r[i]&&(f.attr("fill",r[i]),e=!0);e&&(n(t)[0]=u);n(document).trigger("kitcolourapplied")}}}(jQuery);MatchLiveMobile={enhancedMode:!1,setupEvents:function(){$(document).off("matchliveinitattempt").on("matchliveinitattempt",MatchLiveMobile.initAttempt)},initAttempt:function(n){var i,r,u,t;if(t=n.data||(n.originalEvent?n.originalEvent.data:null),!t){if(i=$("#mlContainer").data("couponkey"),b365Mobile.utils.IsNullOrEmpty(i))return;r=new CouponKey(i);t={languageId:sProps.LangID,classificationId:r.classification,matchLiveTopicId:r.matchLiveFixtureId(sProps.LangID,sProps.ZoneID)}}MatchLiveMobile.allowConnection(t.classificationId)&&!_matchLive&&$("#matchLive").length>0&&(u=360,MatchLiveMobile.setupCss(t.classificationId),MatchLiveGlobal.initMatchLive(t.languageId,t.classificationId,t.matchLiveTopicId,u))},pushLoggingEnabled:function(){return $("#mlContainer").attr("data-pushloggingenabled")==1?!0:!1},allowConnection:function(n){var r,t,i,u;if(!mobileBusinessRules.isMatchLiveClassIdSupported&&(n==2||n==2110))return!1;if(window.device.isWindowsPhone&&parseFloat(window.device.osVersion)>=8)return n==7?!1:(this.enhancedMode=!0,!0);if(window.device.isWindowsPhone||window.device.isFirefox||window.device.isPresto||window.device.isOperaMini)return!1;if(window.device.iosDevice)return parseFloat(window.device.osVersion)>=5?!0:!1;if(window.device.isAndroid){if(parseFloat(window.device.osVersion)<3)return!1;if(parseFloat(window.device.osVersion)>=4.3)return!0}return t=window.clientViewport().width,i=window.clientViewport().height,u=MatchLiveMobile.deviceMinWidth(),r=window.device.isBlackBerry?t:t<=i?t:i,r>=u},deviceMinWidth:function(){var n=320;return window.b365Mobile.utils.isInLandscapeMode()&&window.device.isAndroid&&parseFloat(window.device.osVersion||"")<2.3&&(n-=25),n},setupCss:function(n){typeof SportClassification!="undefined"?n==SportClassification.TENNIS?window.mobileLazyLoaders.unloadPageCSS(["matchlive/liquid_basic.css"]):window.mobileLazyLoaders.unloadPageCSS(["matchlive/basic.css"]):(window.mobileLazyLoaders.unloadPageCSS(["matchlive/liquid_basic.css"]),window.mobileLazyLoaders.unloadPageCSS(["matchlive/basic.css"]))},panelLoaded:function(){window.b365Mobile.footer.setFooter()},scoreboard:{showLineup:function(n){sportsUIController.showMatchLiveLineUps(n)},showStats:function(){sportsUIController.showMatchLiveStats()}}};MatchLiveConnection={setupConnection:function(){var i=$("#mlContainer"),t=$(i).attr("data-couponkey"),r=b365Mobile.utils.getCookie("pstk"),n={couponKey:t,pushUrl:sProps.pushUrl,httpsPushUrl:sProps.httpsPushUrl,sessionId:r,langId:sProps.LangID===0?1:sProps.LangID,zoneId:sProps.ZoneID,classificationId:t.split("-")[0],liquidWidthLimit:360};MatchLiveMobile.setupCss(n.classificationId);MatchLiveGlobal.initMatchLive(n.langId,n.zoneId,n.couponKey,n.pushUrl,n.httpsPushUrl,n.sessionId,n.liquidWidthLimit)}},function(n){function ui(n){try{var t=$("<div>"+n+"<\/div>");n=t.html();t=null}catch(i){}return n}function b(n,t,i,r){for(var f=n.length,u=0;u<f;u++)if(n[u].childNodes.length>0&&b(n[u].childNodes,t,i,r),n[u]&&n[u].tagName!=="undefined"&&n[u].tagName==="INPUT")switch(n[u].type){case"button":t[t.length]={id:n[u].id,disabled:n[u].disabled};break;case"checkbox":n[u].value==="banker"?r[r.length]={id:n[u].id,disabled:n[u].disabled,checked:n[u].checked}:i[i.length]={id:n[u].id,disabled:n[u].disabled,checked:n[u].checked}}}function fi(n){try{var t=$("<div>"+n+"<\/div>"),i=Locator.languageResource,r;return $('.section-lines-container[data-plbtid="'+kt+'"] .Odds',t).text(i.getValue("Win")),$('.section-lines-container[data-plbtid="'+dt+'"] .Odds',t).text(i.getValue("Place")),$('.section-lines-container[data-plbtid="'+gt+'"] .Odds',t).text(i.getValue("Win")),$('.section-lines-container[data-plbtid="'+ni+'"] .Odds',t).text(i.getValue("Place")),$('.section-lines-container[data-plbtid="'+ti+'"] .Odds',t).text(i.getValue("Win")),$('.section-lines-container[data-plbtid="'+ii+'"] .Odds',t).text(i.getValue("Place")),r=t.html(),t=null,r}catch(u){return null}}function et(n,t,i,r){try{for(var o=$(n),e=r.length,h,f,s,u=0;u<e;u++)r[u].checked&&(h=document.getElementById(r[u].id),f=o.find("#"+r[u].id),f.attr("checked",h.checked),f.attr("disabled",h.disabled));for(e=i.length,u=0;u<e;u++)f=o.find('[id="'+i[u].id+'"]'),f!==null&&f!==undefined&&(f.attr("checked",i[u].checked),f.attr("disabled",i[u].disabled));for(e=t.length,u=0;u<e;u++)s=o.find("#"+t[u].id),s!==null&&s!==undefined&&s.attr("disabled",t[u].disabled);return o[0]}catch(c){return null}}function ot(i){var e=null;if((!o||i)&&t!==""){var y=t.indexOf("clt=")>-1||t.toLowerCase().indexOf("cache")>-1,g=!y||device&&device.ajaxCacheBreakRequired,l={headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"GET",url:t},r,f,u;g&&(l.cache=!1);o=!0;hrScroll&&(e=hrScroll.getCurrentScrollerPosition());Modernizr.v6scrolling?Modernizr.needsiscroll?window.iscrollers&&window.iscrollers.InfoSlider&&(u=window.iscrollers.InfoSlider.x):(r=document.getElementById("InfoSlider"),r&&(f=r.getElementsByClassName("scrollcontainer")[0],f&&(u=f.scrollLeft))):u=$("#InfoSlider").data("current-page");window.b365Mobile.ItalianExotics&&window.b365Mobile.ItalianExotics.saveCurrentSliderPositions();a=$.ajax(l).done(function(t){var g=$("#"+ri);if(g.length>0){typeof s!="undefined"&&s!==null&&s();var at=$("#mlContainer").is(":visible"),rt=[],ut=[],ft=[],l=b365Mobile.hash.getCurrentClassificationId(),vt=b365Mobile.hash.getCurrentKey(),nt=!1,tt=!1,ot=[],a=document.getElementById("CpNavigationOption"),dt,gt,ni,yt=!1,y,st,pt=document.getElementById("Main"),wt=document.getElementById("Site"),f,it="Watching",ht=0,bt=!0,ct,lt,kt=b365Mobile.hash.getCurrentKey().split("-");if(vt&&vt.length>0&&(nt=kt[18]==="1"),nt&&(a=document.getElementsByClassName("msvs-Cast_Table")[0]),l===c&&(a=document.getElementsByClassName("USRacing")[0]),l===h&&kt[1]==="102"&&(a=document.getElementsByClassName("InternationalRacing")[0]),(nt||l===h||l===k||l===c||l===d)&&(a&&a.childNodes.length>0&&(ot=a.childNodes,tt=!0),yt=!0),at&&(t=ui(t)),(window.location.hostname.split(".").pop()!=="au"||!window.b365Mobile.account.isUserLoggedIn()&&sProps.ISOCode!=="AU"||window.b365Mobile.account.isUserLoggedIn()&&sProps.sc.ct!=="13")&&(t=fi(t)),tt&&b(ot,rt,ut,ft),tt&&(st=et(t,rt,ut,ft),st&&(t=st.innerHTML)),t.substring(0,18)==="load-next-virtual#"){if(addScrollerContent([]))return;t=t.substring(18)}f=document.getElementById("VLink");f&&(pt.className.indexOf(it)>-1||wt.className.indexOf(it)>-1)&&(ht=f.getAttribute("data-mediaid"));f&&(bt=f.className.indexOf("video")>-1);g[0].innerHTML=t;evalScripts(g[0]);nt||window.italyStreaming||(ht>0?(f=document.getElementById("VLink"),f&&f.getAttribute("data-mediaid")!==ht&&b365Mobile.InPlayEventView.switchVideoOnMediaIdChange()):bt&&(f=document.getElementById("VLink"),f&&f.getAttribute("data-mediaid")&&f.className.indexOf("watch")>-1&&(ct=f.getAttribute("data-paddock"),lt=f.getBoundingClientRect(),ct&&ct==="1"&&lt.width!=0&&lt.height!=0&&b365Mobile.InPlayEventView.displayPaddockStreamAvailableMessage(f))));typeof b365Sport.LiveMatchAlert!="undefined"&&b365Sport.LiveMatchAlert!==null&&b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav(!0);rt=null;ut=null;ft=null;at=null;tt=null;l=null;ot=null;a=null;dt=null;gt=null;ni=null;window.betDataHelper&&window.betDataHelper.loadJson(!0);$(document).trigger("matchlivecouponrefresh");(new CouponBetSelect).highlightSelectedBets();v&&v();p&&p();w&&!i&&w();b365Mobile.Racing&&b365Mobile.Racing.isInitialised&&b365Mobile.Racing.couponUpdate()}(pt.className.indexOf(it)>-1||wt.className.indexOf(it)>-1||"italyStreaming"in window&&window.italyStreaming)&&(y=$("#VLink"),y&&y.text(y.data("done")).addClass("playing").attr("data-nav","StopStream"),y=null);"italyStreaming"in window&&window.italyStreaming&&window.italyStreaming.attemptToPlayLiveVideo();yt&&(hrScroll&&hrScroll.reinitializeRefreshAreaSlider(e),Modernizr.v6scrolling||Modernizr.needsiscroll||!b365Mobile.ScrollerSetup||b365Mobile.ScrollerSetup.applyFallbackScrollingStylesToRaceInfoRow($(".Slider")),Modernizr.v6scrolling?Modernizr.needsiscroll?window.iscrollers&&window.iscrollers.InfoSlider&&window.iscrollers.InfoSlider.scrollTo(u,0):r&&(r=document.getElementById("InfoSlider").getElementsByClassName("scrollcontainer")[0],r.scrollLeft=u):($("#InfoSlider").data("current-page",u),b365Mobile.ScrollerSetup.setUpScrollingFallback($("#InfoSlider"))));i&&(n.start(!0),document.querySelectorAll(".V6.RacingCoupon.virtual").length>0&&window.EventTimer&&window.EventTimer.Start());g=null;o=!1}).fail(function(t,r){o=!1;r!=="abort"&&n.start(i)})}}function st(){r=ut[0];rt=n.applyAustralianResultCouponFix(r)?"&res=au":"";f=ft.getHistoryList(r);formValue=b365Mobile.racingFormState.getHistoryList(r);formValue&&(f+=";"+formValue);t=b365Mobile.navigation.getCouponUpdatePath(r);t+="?key="+r+rt;t+="&lng="+i.LangID+"&zone="+i.ZoneID+"&ot="+i.ot;t+="&isocode="+i.ISOCode+"&tzi="+i.tzi+(i.scFMFV?"&"+i.scFMFV:"");t+="&sct="+f;sProps.scProps!==undefined&&sProps.scProps.length>0&&(t+="&"+sProps.scProps);e=n.getCouponSortParameter(r,!0);e!==""&&e!==null&&(t+="&sort="+e);f===""&&(t+="&clt=9996");document.getElementById("NowLive")&&(t+="&uqws=1");t+="&apptype="+siteDataLocal.getItem("appType");t+="&appversion="+siteDataLocal.getItem("appVersion")}var h=2,k=4,ht=2110,ct=2111,c=73,d=88,lt="4000",g="4010",at="4015",nt="4020",vt="4025",l="4026",yt="4028",pt="4065",wt="4270",tt="4290",bt="4515",kt="20205",dt="20206",gt="40234",ni="40235",ti="880205",ii="880206",ri="LoadZone",u,t,it,rt,ut,r,f,ft,i,e,a,o=!1,s,v,y,p,w;n.initialise=function(n,r,u,f,e,o,h,c,l){(t="",it=n,ft=r,i=u,s=f,v=e,p=o,w=h,y=c,document.getElementById("AutoRefresh"))&&l&&this.start(!0)};n.start=function(t){var i=document.getElementById("AutoRefresh");if(i){if(i.value.length==0)return n.stop(),i=null,!0}else return!0;window.couponController.stop();ut=i.value.split("|");i=null;t?u=window.setTimeout(function(){window.mobileNavScroller&&window.mobileNavScroller.recordCurrentOffset();st();ot(!0)},it):(st(),ot(!1))};n.stop=function(){u!==null&&(clearTimeout(u),u=null);a!==undefined&&a.abort()};n.getCouponSortParameter=function(n,t){var e=new y(n,t),i=parseInt(e.get_classificationId(),10),o=i===ht||i===ct,u,s,r,f;return i!==h&&i!==c&&!o&&i!==k&&i!==d?"":(u=e.get_pageTemplateId(),s=t&&u==="0"||o,!s&&!new RegExp("^("+lt+"|"+g+"|"+at+"|"+nt+"|"+vt+"|"+l+"|"+l+"|"+yt+"|"+wt+"|"+tt+"|"+pt+")$").test(u.toString()))?"":document.querySelectorAll(".V6.RacingCoupon.virtual").length>0?"":(r,f=$("#sortButton"),r=f.length>0?f.attr("data-sortid"):siteDataSession.get_racingCouponSortCriteria(),r&&!isNaN(r)&&Number(r)>0?r:"")};n.applyAustralianResultCouponFix=function(n){if(location.host.indexOf(".com.au")===-1)return!1;var t=new y(n);return t.get_isValid()&&t.get_isResults()?new RegExp("^("+g+"|"+nt+"|"+l+"|"+bt+"|"+tt+")$").test(t.get_pageTemplateId().toString()):!1};n.PostprocessRestoreInputStates=function(){return et};n.PreprocessUIToExtractCheckboxAndButtonStates=function(){return b}}(window.couponController=window.couponController||{});b365Mobile.InPlayEventView=function(){"use strict";return{videoElement:null,videoOverlayElement:null,videoContainerElement:null,videoLoadingTimeoutHandle:null,loaded:!1,reportClientErrors:!1,isWatching:!1,stickyVideoModule:null,showInlineVideoLoading:function(n){this.isWatching=!0;$("#Main").addClass("Watching");$("#Site").addClass("Watching");typeof MatchLiveGlobal!="undefined"&&MatchLiveGlobal.dispose();var t=$("#VLink");t.text(t.data("done")).addClass("playing").attr("data-nav","StopStream");n?this.insertVideoContainerElemItaly():this.insertVideoContainerElem()},insertVideoContainerElem:function(){var i=$("#videoPlayerWrapper #mlContainer").attr("style");i&&i.indexOf("display: none;")>-1&&$("#videoPlayerWrapper").remove();var r=$("#videoPlayerWrapper").get(0),n=$(".EmbeddedVideoAnchorElement"),t;t=r?r:"<div id='videoPlayerWrapper'><div id='embeddedVideoPlayer' class='V6 videoPlayer messageholder'><div class='message spinner'><\/div><\/div><\/div>";!n||n.length<1?(n=$(".scn-HeaderNavigation"),n.parent().after(t)):n.after(t)},insertVideoContainerElemItaly:function(){var t=document.getElementById("videoPlayerWrapper");if(t){var n,i=t,r=$("#embeddedVideoPlayer").get(0),u="<div id='embeddedVideoPlayer' class='V6 videoPlayer messageholder'><div class='message spinner'><\/div><\/div>";r?(n=r,i.appendChild(n)):(n=u,i.innerHTML=u)}},handleOrientationChange:function(){var n;this.isWatching&&(this.insertVideoContainerElem(),n=$("#VLink"),n&&n.text(n.data("done")).addClass("playing").attr("data-nav","StopStream"),n=null,$("#Main").addClass("Watching"),$("#Site").addClass("Watching"))},showInlineVideo:function(n,t,i,r){var u=$("#embeddedVideoPlayer").get(0),f,e,o;n?(t.ExternalPlayer?this.createIFrameVideoPlayer(u,t.URL):Modernizr.flash?this.createFlashVideoPlayer(u,t.URL,t.StreamName,i):Modernizr.inlinehls?this.createHtml5VideoPlayer(u,t.URL,i):this.openExternalPlayer(u,t.URL),t.PaddockStreaming===!0&&t.UserQualifyBet!==!0&&this.addQualifyingBetMessage(u,t.PaddockMessage),f=this,this.stickyVideoModule?(o=new ns_gen5_ui.Component,ns_gen5_ui.Component.Wrapper.call(o,document.getElementById("videoPlayerWrapper")),this.stickyVideoModule.init(o,r)):(e=new ns_gen5_ui.ModuleContainer,e.invoke(function(n){f.stickyVideoModule=n;var t=new ns_gen5_ui.Component;ns_gen5_ui.Component.Wrapper.call(t,document.getElementById("videoPlayerWrapper"));f.stickyVideoModule.init(t,r)}),e.load(ns_moblib_util.ModuleName.STICKY_VIDEO_MODULE))):t?this.createMessage(u,t):this.stopInlineVideo()},stopInlineVideo:function(){var t,i,n;this.removeHandlers();this.videoElement&&(this.videoElement.removeAttr("src"),this.videoElement.load());this.removeQualifyingBetMessage();n=$("#VLink");t=n.attr("data-paddock")==="1";i=t?"StreamInline":"Stream";n.text(n.data("text")).removeClass("playing").attr("data-nav",i);$("#videoPlayerWrapper").remove();window.mobileLazyLoaders.loadPageCSS(["matchlive/liquid_basic.css","matchlive/sports/2/liquid_style.css"]);setTimeout(function(){var r=document.getElementById("mlContainer"),t,n,i;r&&(!1 in window||"italyStreaming"in window&&!window.italyStreaming)&&(t=r.getAttribute("data-couponkey"),t&&t.length>0&&(n=new CouponKey(t),MatchLiveMobile.allowConnection(n.classification)&&(i=n.classification==2110?2:n.classification,MatchLiveMobile.setupCss(i),MatchLiveGlobal.initMatchLive(sProps.LangID,i,n.matchLiveFixtureId(sProps.LangID,sProps.ZoneID),360))));(!1 in window||"italyStreaming"in window&&!window.italyStreaming)&&($("#Main").removeClass("Watching"),$("#Site").removeClass("Watching"))},0);this.isWatching=!1;this.stickyVideoModule&&this.stickyVideoModule.reset()},switchVideoOnMediaIdChange:function(){var u=new ns_gen5_util.Delegate(b365Mobile.InPlayEventView,b365Mobile.InPlayEventView.showInlineVideo),t=window.mobileBusinessRules.preventFullScreenChecks(),n=document.getElementById("VLink"),i=n.getAttribute("data-paddock"),r=!1;siteViewController.isWideView&&$("#videoPlayerWrapper").remove();this.showInlineVideoLoading();this.removeQualifyingBetMessage();i&&i==="1"&&(r=!0,t=!0);StreamVideo(n.getAttribute("data-cid"),n.getAttribute("data-mediaid"),n.getAttribute("data-fixid"),n.getAttribute("data-stpid"),$(n).hasClass("watch"),t,u,r)},createMessage:function(n,t){var e=$(".message",n),i="",r,f,u,o;if(e){if(t.ErrorMessage&&t.ErrorMessage!="")i=t.ErrorMessage;else if(r=siteViewController.isWideView?t.WideViewPopupMessage:t.PopupMessage,r.indexOf("||")>-1){for(r=t.WideViewPopupMessage.split("||"),i+="<div>",u=0,o=r.length;u<o;u++)f=r[u],f&&(i+=r.length>1?"<div class=message"+u.toString()+">"+f+"<\/div>":"<div class=message>"+f+"<\/div>");i+="<\/div>"}else i=t.PopupMessage;e.removeClass("spinner").append(i)}},clearMessage:function(n){var t=n.getElementsByClassName("message");t.length>0&&(t[0].innerHTML="")},openExternalPlayer:function(n,t){$(".message",n).removeClass("spinner");window.location.href=t},createIFrameVideoPlayer:function(n,t){$(n).removeClass("messageholder").empty().append("<iframe src='"+t+"'><\/iframe>")},createHtml5VideoPlayer:function(n,t,i){$(n).removeClass("messageholder").empty().append("<video x-webkit-airplay='deny' preload='auto' poster='http://' controls='controls' playsinline webkit-playsinline src='"+t+"'><\/video>");var r=this;r.videoElement=$("video",n);i&&r.initialisePreventFullScreen()},initialisePreventFullScreen:function(){var n=this;n.loaded=!1;n.reportClientErrors=!1;n.videoElement.removeAttr("controls");n.videoElement.prev()&&n.videoElement.prev().attr("id")!="VideoOverlayWait"&&($('<div id="VideoOverlay" class="play"><\/div>').insertBefore(n.videoElement),$('<div id="VideoOverlayWait" class="wait"><\/div>').insertBefore(n.videoElement));$("#VideoOverlay").length>0&&(n.videoOverlayElement=$("#VideoOverlay"));$("#embeddedVideoPlayer").length>0&&(n.videoContainerElement=$("#embeddedVideoPlayer"));n.addHandlers()},addHandlers:function(){var n=this;if(n.videoOverlayElement&&n.videoOverlayElement.length>0)n.videoOverlayElement.off("click.videooverlay").on("click.videooverlay",$.proxy(n.onVideoOverLayClick,n));if(n.videoElement&&n.videoElement.length>0){n.videoElement.off("play").on("play",$.proxy(n.videoPlay,n));n.videoElement.off("pause").on("pause",$.proxy(n.videoPause,n));n.videoElement.off("playing").on("playing",$.proxy(n.videoPlaying,n));n.videoElement.off("loadstart").on("loadstart",$.proxy(n.videoLoadStart,n));n.videoElement.off("stalled").on("stalled",$.proxy(n.videoStalled,n));n.videoElement.off("error").on("error",$.proxy(n.videoError,n));n.videoElement.off("waiting").on("waiting",$.proxy(n.videoWaiting,n));n.videoElement.off("webkitbeginfullscreen").on("webkitbeginfullscreen",$.proxy(n.onVideoBeginsFullScreen,n))}},removeHandlers:function(){var n=this;n.videoOverlayElement&&n.videoOverlayElement.length>0&&n.videoOverlayElement.off("click.videooverlay");n.videoContainerElement&&n.videoContainerElement.length>0&&n.videoContainerElement.off("click.videocontainer");n.videoElement&&n.videoElement.length>0&&(n.videoElement.off("play"),n.videoElement.off("pause"),n.videoElement.off("playing"),n.videoElement.off("loadstart"),n.videoElement.off("stalled"),n.videoElement.off("error"),n.videoElement.off("waiting"),n.videoElement.off("webkitbeginfullscreen"))},videoPlay:function(){var n=this;n.addVideoOverlay(!0)},videoPause:function(){var n=this;n.videoOverlayElement&&n.videoOverlayElement.length>0&&n.videoOverlayElement.addClass("play")},videoPlaying:function(){var n=this;setTimeout($.proxy(n.playingMethod,n),2e3)},videoLoadStart:function(){var n=this;n.addVideoOverlay(!0);n.videoLoadingTimeoutHandle=setTimeout($.proxy(n.readyToPlayMethod,n),3e3)},videoStalled:function(){var n=this;n.videoLoadingTimeoutHandle&&clearTimeout(n.videoLoadingTimeoutHandle);n.readyToPlayMethod()},videoError:function(){var n=this,t;n.reportClientErrors&&(n.addVideoOverlay(!1),$(document).off("click.videooverlay","#VideoOverlay"),n.videoOverlayElement.length>0&&(n.videoOverlayElement.removeAttr("class"),t=n.getErrorMessageFromCode(n.videoElement[0].error.code),n.showMessageOnOverlay(t)))},videoWaiting:function(){var n=this;n.logNetworkReadyAndErrorValues();n.videoElement&&n.videoElement.length>0&&n.videoElement[0].networkState==n.NETWORK_STATE.NO_SOURCE&&($(document).off("click.videooverlay","#VideoOverlay"),n.showMessageOnOverlay("Unable to connect to this stream, please try again later"))},videoTimeUpdate:function(){var n=this;n.logNetworkReadyAndErrorValues()},onVideoBeginsFullScreen:function(){return!1},addQualifyingBetMessage:function(n,t){var i=document.createElement("DIV"),r=document.createElement("DIV"),f=document.createTextNode(t),u=document.getElementById("embeddedVideoPlayer");r.id="embeddedVideoPlayerMessageInner";r.className="embeddedVideoPlayerMessageInner";r.appendChild(f);i.id="embeddedVideoPlayerMessage";i.className="embeddedVideoPlayerMessage";i.appendChild(r);n.parentNode.appendChild(i);u&&u.className.indexOf(" qualifyingBetMessage")==-1&&(u.className=u.className+" qualifyingBetMessage")},removeQualifyingBetMessage:function(){var t=document.getElementById("embeddedVideoPlayerMessage"),n=document.getElementById("embeddedVideoPlayer");t&&t.parentNode.removeChild(t);n&&n.className.indexOf(" qualifyingBetMessage")>-1&&(n.className=n.className.replace(" qualifyingBetMessage",""))},displayPaddockStreamAvailableMessage:function(n){var r,t,i,u;n&&(r=n.getAttribute("data-paddockmsg"),r&&r.length>0&&(t=document.createElement("DIV"),i=document.createElement("DIV"),u=document.createTextNode(r),i.id="paddockMessageInner",i.className="paddockMessageInner",i.appendChild(u),t.id="paddockMessage",t.className="paddockMessage",t.appendChild(i),n.parentNode.appendChild(t),setTimeout(function(){t&&(i.removeChild(u),t.removeChild(i),n.parentNode.removeChild(t))},5e3)))},onVideoOverLayClick:function(){var n=this;n.videoOverlayElement&&n.videoOverlayElement.length>0&&n.videoOverlayElement.hasClass("play")?n.videoElement&&n.videoElement.length>0&&!n.loaded?n.videoElement[0].load():n.videoElement&&n.videoElement.length>0&&n.videoElement[0].play():n.videoElement&&n.videoElement.length>0&&n.videoElement[0].pause()},showMessageOnOverlay:function(n){var t=this,i=$("div#message");i.lenght>0&&i.remove();t.videoOverlayElement&&t.videoOverlayElement.length>0&&t.videoOverlayElement.removeAttr("class").html('<div id="message">'+n+"<\/div>").addClass("error")},getErrorMessageFromCode:function(){return""},logNetworkReadyAndErrorValues:function(){var n=this},addVideoOverlay:function(n){var t=this,r="VideoOverlay",i;if(n?(r+="Wait",i=$("#VideoOverlay"),i.length>0&&(i.off("click.videooverlay"),i.remove())):(i=$("#VideoOverlayWait"),i.length>0&&i.remove()),t.videoElement&&t.videoElement.length>0&&$("#cont").is(":visible")===!1)if(t.videoElement.prev().attr("id")!=r){if(n)$('<div id="'+r+'" class="wait"><\/div>').insertBefore(t.videoElement);else if($('<div id="'+r+'" class="play"><\/div>').insertBefore(t.videoElement),t.videoOverlayElement=$("#VideoOverlay"),t.videoOverlayElement&&t.videoOverlayElement.length>0)t.videoOverlayElement.off("click.videooverlay").on("click.videooverlay",$.proxy(t.onVideoOverLayClick,t))}else if(t.videoOverlayElement&&t.videoOverlayElement.length>0&&!n){t.videoOverlayElement.show();t.videoOverlayElement.off("click.videooverlay").on("click.videooverlay",$.proxy(t.onVideoOverLayClick,t))}},playingMethod:function(){var n=this;n.addVideoOverlay(!1);n.videoOverlayElement&&n.videoOverlayElement.length>0&&n.videoOverlayElement.removeAttr("class");n.videoElement&&n.videoElement.length>0&&n.videoElement.show()},readyToPlayMethod:function(){var n=this;n.addVideoOverlay(!1);n.loaded=!0;n.reportClientErrors=!0},NETWORK_STATE:{EMPTY:0,IDLE:1,LOADING:2,NO_SOURCE:3},READY_STATE:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},calculateVideoDimensions:function(){var n=Math.min(clientViewport().height,360);return{width:n,height:n/16*9}},createFlashVideoPlayer:function(n,t,i,r){var u=String(Math.random()).substring(2),f="flashPlaceHolder_"+u,e="flashObject_"+u;$(n).empty().append("<div id='"+f+"'><\/div>");var o=this.calculateVideoDimensions(),s={RTMPUrl:encodeURIComponent(t),StreamName:encodeURIComponent(i)},h={quality:"high",bgcolor:"#000000",allowscriptaccess:"sameDomain",allowfullscreen:r?"false":"true",wmode:"opaque"},c={id:e,name:e,align:"middle"};swfobject.embedSWF("AndroidStreamingPlayer/AndroidStreamingPlayer2.swf",f,o.width,o.height,"9.5.0","playerProductInstall.swf",s,h,c)}}}();b365Mobile.popUpOverlay=function(n){"use strict";var t=function(t,i,r,u){var e=n.findPopupBoxElement()||n.findOverlayPopupElement(),f=e?n.findOverlayPopupElement():n.findOverlayElement(),o=e?n.OVERLAYPOP_ELEMENT_ID:n.OVERLAY_ELEMENT_ID,s=n.document.getElementById("Site");return t?(f===null&&(f=n.document.createElement("div"),f.id=o,f.style.height=siteViewController.isWideView?"100%":(device.isPresto||device.isOperaMini)&&document.body.scrollHeight==0?"100%":document.body.scrollHeight+"px",f.style.width="100%",f.setAttribute("onclick","return false;"),(n.Modernizr.supportsnativescrolling||n.device.isAndroid)&&!u&&f.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)}),document.body.insertBefore(f,document.body.firstChild)),r===undefined&&(r=!0),n.mobileBusinessRules.forceTransparentOverlay()&&(r=!0),f!==undefined&&(f.className="overlay"+(r?"":" opaque")),i===undefined&&(i=!1),$("html").addClass("overlay-on"),n.overlaySpinner(f,i)):f!==null&&f!==undefined&&(f.parentNode.removeChild(f),$("html").removeClass("overlay-on")),f};return{overlay:function(n,i,r,u,f){return t(n,i,r,u,f)}}}(window);b365Mobile.navigation=function(n){"use strict";var v,y,p,e,w,b,k,i,d,g,nt,tt,it,rt,ut,o,ft,et,ot,u,s,r,h,f,c,l=!1,t,a,st="teamMatchBetting",ht=2,ct=73;return v=function(){return"V6/home/HomePage.aspx"},y=function(){return"V6/sport/splash/splash.aspx"},p=function(n){var t=n.getAttribute("data-cId");e(t)},e=function(n){newPage("Splash",n,!1,sProps.LangID)},w=function(){return"V6/sport/coupon/coupon.aspx"},b=function(){return"V6/sport/coupon/partial/PartialDefault.aspx"},k=function(){return"V6/Cache/InPlay/CouponUpdate.aspx"},ut=function(t){var r=t&&t>0,u=n.sProps&&n.sProps.enabledClassifications,i=!0;return r&&u&&t!==800&&(i=o(t)||o(ft(t))),i},o=function(t){return n.jQuery.inArray(t,n.sProps.enabledClassifications)>=0},ft=function(n){return n===ct?ht:n},i=function(t){var i=t.getAttribute("data-nav"),a=t.getAttribute("data-sportsKey"),f,c,u,v,e,r,o,s=$(t),h,l,y=0,p;if($(".showChangeMarketMenu").eq(0).removeClass("showChangeMarketMenu"),$(".clw-SwitcherMenu_Show").eq(0).removeClass("clw-SwitcherMenu_Show"),lvl2BreadcrumbHash=new Hash(n.location.hash),s.hasClass("genericRow")?(h=2,s.removeClass("genericRow"),s.addClass("genericRowActive")):s.hasClass("home")?(h=2,betslipBarCache=$("#betslipBar")):h=1,i==="couponLink"||i==="breadcrumbLink"||i==="VirtualSports"||i==="StreamCoupon"||i==="KnockoutTree"){if(t.setAttribute("data-displaystate","active"),pageType==="Tournament"&&(l=document.getElementById("TournamentMenuItem_2"),l&&l.className.indexOf("trn-MenuItem_Selected")>-1&&(y=n.tournament.getSpecialEventIdFromKey(),y>0))){n.tournament.loadPartialMatchCoupon(a);return}newPage("Coupon",a,"",sProps.LangID,h)}else if(i.indexOf("cp_")===0&&i.length>2||i.indexOf("mt_")===0&&i.length>0)openCouponFromSlider(i,t);else if(i.length>0){if(f=i.split(","),p=t.parentElement.id,t=document.getElementById(f[0]),p==="lottoGameSelector"?b365Mobile.popUpOverlay.overlay(1,1,1):b365Mobile.popUpOverlay.overlay(1,0,1),t){for(c=t.getAttribute("data-cid"),u=t.className.split(" "),v=u.length,e="",r=0;r<v;r++){o=u[r];r>0&&(e+=" ");switch(o){case"ipSplashRow":u[r]="ipSplashRowActive";break;case"ics_"+c:u[r]="icsOn_"+c;break;case"genericRow":u[r]="genericRowActive";break;case"splashSectionRow":u[r]="splashSectionRowActive";break;case"spl-tote-btn":u[r]="spl-tote-btn-sel"}o.indexOf("specialEventIcon_")===0&&(u[r]=o.replace("specialEventIcon_","specialEventIconOn_"));e+=u[r]}t.className=e}newPage(f[1],f[2],f[3],sProps.LangID);this.setCurrentTitle(i)}},d=function(n){n.getAttribute("data-menuLevel")?n.getAttribute("data-pk")&&r(n.getAttribute("data-pk")):r("");var t=new Hash(retrieveHash());lvl2BreadcrumbHash?lvl2BreadcrumbHash.Type=="Splash"||lvl2BreadcrumbHash.Type=="CouponRow"||lvl2BreadcrumbHash.Type=="Coupon"||lvl2BreadcrumbHash.Type==="MarketCount"?i(n):(t.Key&&n.setAttribute("data-sportsKey",t.Key),i(n)):t.Type&&t.Type!="Splash"&&t.Key?(n.setAttribute("data-sportsKey",t.Key),i(n)):i(n)},g=function(n){newPage("Coupon",n,"",sProps.LangID,1)},nt=function(n,t){var e=!1,o,r,u,i,f;typeof t!="undefined"&&(e=t);e===!0?(r=n.getElementsByClassName("mbMain"),u=n.getAttribute("data-sportskey"),r[0].children.length==0&&(b365Mobile.utils.addOrAppendClass(n,"Processing"),i=new NavUrl,i.baseUrl="V6/Cache/InPlay/CouponUpdate.aspx",i.sc=sProps.scProps,i.key=u,i.ot=sProps.ot,i.lng=sProps.LangID,i.sct=couponHistory.getHistoryList(u),i.item=st,f=function(){b365Mobile.utils.removeClass(n,"Processing")},ajaxPost(null,f,r[0],buildUrl(i),!0,null,null))):(r=$("div.mbMain",n),u=n.getAttribute("data-sportskey"),f=function(){r.toggleClass("bogus");n.setAttribute("data-displaystate","open");b365Mobile.utils.removeClass(n,"Processing")},n.getAttribute("data-displaystate")=="open"?(n.setAttribute("data-displaystate","closed"),r.toggleClass("bogus")):(o=r.children().length==0,o==!0?(b365Mobile.utils.addOrAppendClass(n,"Processing"),i=new NavUrl,i.baseUrl="V6/Cache/InPlay/CouponUpdate.aspx",i.sc=sProps.scProps,i.key=u,i.ot=sProps.ot,i.lng=sProps.LangID,i.sct=couponHistory.getHistoryList(u),i.item=st,ajaxPost(null,f,r[0],buildUrl(i),!0,null,null)):f.call()))},tt=function(n){n.getAttribute("data-nav")=="InPlay"&&processNav(n)},it=function(n){var t=n.getAttribute("data-sportskey");$(n).addClass("homeActive");b365Mobile.popUpOverlay.overlay(!0,!1,!0);newPage("Offer",t,!0,sProps.LangID)},rt=function(t){t.href&&(t.getAttribute("data-appLink")!==null||t.getAttribute("data-ExternalLinkType")!==null)&&(n.location.href=t.href)},et=function(){return h},ot=function(n){h=n},u=function(n){var i=new NavUrl;return i.baseUrl="V6/Sport/Coupon/CouponControls/Navigation/EnhancedMenu.aspx",i.key=n,i.LangID=sProps.LangID,i.ZoneID=sProps.ZoneID,i.lng=sProps.LangID,i.ct=sProps.sc.ct,i.ctg=sProps.sc.ctg,i.cts=sProps.sc.cts,i.mlvl=t,buildUrl(i)},r=function(n){siteDataSession.setItem("breadCrumbLevel2Key",n)},s=function(t){var f=550,u,e,o;if(t.className=t.className+" scn-EnhancedMenuPopup_Show",siteViewController.isNarrowView){b365Mobile.popUpOverlay.overlay(!0,!1,!0,!0);u=$("#overlay");u.removeAttr("onclick");u.off("click").on("click",function(){return t.className=t.className.replace(" scn-EnhancedMenuPopup_Show",""),b365Mobile.popUpOverlay.overlay(!1),r(""),!1})}else document.getElementById("wrapper").className.indexOf("wideView")>-1&&(t.className.indexOf(" scn-EnhancedMenuPopup_Tablet")==-1&&(t.className=t.className+" scn-EnhancedMenuPopup_Tablet"),e=document.getElementsByClassName("scn-HeaderNavigation_HasMenu")[0],o=e.offsetLeft+29,t.style.marginLeft=o+"px");var h=t.getAttribute("data-menuType")=="2",s=document.getElementById("scn-EnhancedMenu_Inner"),i=n.innerHeight-136;i>f&&(i=f);h?s.style.height=i+"px":s.style.maxHeight=i+"px"},{getHomePagePath:function(){return v()},isRacingClassification:function(n){return n==="2"||n==="4"||n==="73"||n==="85"||n==="88"},isClassificationValidForCountry:function(n){return ut(n)},getSplashPagePath:function(n){return y(n)},goToSplashPage:function(n){p(n)},goToSportSplashPage:function(n){e(n)},getCouponPath:function(n,t){return w(n,t)},getPartialCouponPath:function(n){return b(n)},getCouponUpdatePath:function(n){return k(n)},openStreamCoupon:function(n){h=!0;i(n)},openCoupon:function(n){i(n)},openCouponFromBreadcrumb:function(n){d(n)},openCouponForSportsDataKey:function(n){g(n)},toggleTeamFixtureSection:function(n,t){return nt(n,t)},processNav:function(t){n.processNav(t)},navigateProduct:function(n){return tt(n)},offerLink:function(n){it(n)},productLink:function(n){rt(n)},getEnhancedMenuUrl:function(n){u(n)},showEnhancedMenuLevel:function(n){showEnhancedMenuLevel(n)},getBreadCrumbLevel2Key:function(){return siteDataSession.getItem("breadCrumbLevel2Key")},setBreadCrumbLevel2Key:function(n){r(n)},openInplay:function(t){var u=getb365SessionStorageItem("Splash_IP"),i,r;u&&(i=JSON.parse(b365Mobile.utils.stripLineBreaksAndTabs(u)),r=i[0].itemId.split("_"),r[3]=t,i[0].itemId=r.join("_"),setb365SessionStorageItem("Splash_IP",JSON.stringify(i)));n.sessionStorage&&n.sessionStorage.setItem("SUI_inplay_selectedClassification",t);n.location.hash="#type=InPlay"},toggleEnhancedMenu:function(i){var w,o,b,h,e=document.getElementById("scn-EnhancedMenuPopup"),d=document.getElementById("scn-EnhancedMenuLevel1"),c=document.getElementById("scn-EnhancedMenu_AnimContainer"),g=100,k,v,y,p;e&&(i.getAttribute("data-level")==3&&(k=document.getElementById("scn-HeaderNavigation_BreadcrumbLevel2"),r(k.getAttribute("data-sportsKey"))),v=document.getElementsByClassName("showChangeMarketMenu")[0],v&&(revertChangeMarket(),v.className=v.className.replace("showChangeMarketMenu","")),y=document.getElementsByClassName("clw-SwitcherPopup_Show")[0],y&&(y.className=y.className.replace("clw-SwitcherPopup_Show","")),e.className.indexOf(" scn-EnhancedMenuPopup_Show")>-1?(e.className=e.className.replace(" scn-EnhancedMenuPopup_Show",""),b365Mobile.popUpOverlay.overlay(!1),r("")):(h=n.currentSDK,a=h,p=document.getElementById("scn-EnhancedMenu_Container"),h==f&&p&&!t?s(e):(p&&c&&(p.innerHTML="",c.className=t=="1"?c.className.replace(" scn-EnhancedMenu_AnimateRight",""):c.className.replace(" scn-EnhancedMenu_AnimateLeft","")),w=function(){if(!l&&(o=document.createElement("div"),o.className="scn-EnhancedMenu_Spinner",e.parentNode.appendChild(o),o.style.height=g+"px",l=!0,document.getElementById("wrapper").className.indexOf("wideView")>-1)){var n=document.getElementsByClassName("scn-HeaderNavigation_HasMenu")[0],t=n.offsetLeft+29;o.style.marginLeft=t+"px"}},b=function(){o&&(e.parentNode.removeChild(o),l=!1);s(e)},t=0,ajaxPost(w,b,d,u(h),0),f=h)))},openEnhancedMenuLevel:function(i){var l,v,h,o=i.getAttribute("data-sportskey"),y=i.firstElementChild.className,r=document.getElementById("scn-EnhancedMenuLevel1_Clone"),e=document.getElementById("scn-EnhancedMenu_AnimContainer"),s=document.getElementById("scn-EnhancedMenuLevel1"),p=i.getAttribute("data-menuLevel");o==f&&p==t||c||s&&(t=p,l=function(){var n=document.getElementById("scn-EnhancedMenu_Container");h=n.cloneNode(!0);r.appendChild(h);r.className+=" scn-EnhancedMenuLevel1_CloneAnimating";y+=" scn-EnhancedMenu_RowText-Spinner";t=="0"&&r.parentNode.insertBefore(r,s)},v=function(){y-=" scn-EnhancedMenu_RowText-Spinner";e.className+=t=="1"?" scn-EnhancedMenu_AnimateLeft":" scn-EnhancedMenu_AnimateRight";c=!0;setTimeout(function(){c=!1;r.removeChild(h);r.className=r.className.replace(" scn-EnhancedMenuLevel1_CloneAnimating","");t=="0"?(r.parentNode.appendChild(r,s),e.className=e.className.replace(" scn-EnhancedMenu_AnimateRight","")):e.className=e.className.replace(" scn-EnhancedMenu_AnimateLeft","")},200)},a=t=="1"?o:n.currentSDK,ajaxPost(l,v,s,u(o),0),f=o)},isStreamToPlay:function(){return et()},turnOffStreamStatus:function(){ot(!1)}}}(window);b365Mobile.ScrollableRibbon=function(){function n(n,i){var r={arrowScrolling:1,cssScrolling:2,iScrollScrolling:3},e=window.mobileBusinessRules.deviceNavScrollerType(),u=e===r.iScrollScrolling&&!i?r.cssScrolling:e,f=n.id?"#"+n.id+" ":"",o=f+".rbn-ItemList",s=u===r.arrowScrolling?f+".rbn-ArrowLeft":null,h=u===r.arrowScrolling?f+".rbn-ArrowRight":null,c=u===r.cssScrolling,l=function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){t(n)}):setTimeout(function(){t(n)},10)};u===r.arrowScrolling&&b365Mobile.utils.addOrAppendClass(n,"rbn-ArrowScrolling");this.navScroller=new window.b365Mobile.NavScroller(o,".rbn-Item",u,l,null,null,null,s,h,null,null,!1,c);t(n)}var i=function(n){var t;n&&(t=n.parentNode.querySelector(".rbn-SelectionIndicator"),t&&(t.style.left=n.offsetLeft+"px",t.style.width=b365Mobile.utils.contentWidth(n)+"px"))},t=function(n){var r=n.querySelector(".enhancedTabSelected"),t;r&&(t=n.querySelector(".rbn-SelectionIndicator"),t)&&(t.parentNode.removeChild(t),r.parentNode.appendChild(t),i(r))};return n.prototype.get_isItemElement=function(n){return b365Mobile.utils.hasClass(n,"rbn-Item")},n.prototype.get_isItemElementSelected=function(n){return b365Mobile.utils.hasClass(n,"enhancedTabSelected")},n.prototype.findSelectedItemFor=function(n){return!b365Mobile.ScrollableRibbon.prototype.get_isItemElement(n)||!n.parentElement?null:n.parentElement.querySelector(".rbn-Item.enhancedTabSelected")},n.prototype.get_Data=function(n){return n?n.getAttribute("data-key"):null},n.prototype.selectElement=function(n){var t;return!b365Mobile.ScrollableRibbon.prototype.get_isItemElement(n)||b365Mobile.ScrollableRibbon.prototype.get_isItemElementSelected(n)?!1:(t=n.parentNode.querySelector(".enhancedTabSelected"),t&&b365Mobile.utils.removeClass(t,"enhancedTabSelected"),b365Mobile.utils.addOrAppendClass(n,"enhancedTabSelected"),i(n),!0)},n.prototype.get_isScrollableRibbonCreatedForRibbonElement=function(n){return n&&n.querySelector(".navScroller")},n.prototype.dispose=function(){this.navScroller&&(this.navScroller.dispose(),this.navScroller=null)},n}();b365Mobile.MemberOperations=function(){function n(){t=this;this._lowPriorityRequests=[]}var t,u="MemberOperations/MemberOperationsService.ashx",i={Mobile:2,SportsiOSApp:15,SportsAndroidApp:16,SportsWindowsApp:17,SportsWindowsUniversalApp:18},f=i.Mobile,e="Api/1/MoS",r;return n.REQUEST_REASON_ABORT="REQUEST_REASON_ABORT",n.REQUEST_REASON_FAIL="REQUEST_REASON_FAIL",n.REQUEST_REASON_SERVERTIMEOUT="REQUEST_REASON_SERVERTIMEOUT",n.REQUEST_REASON_TIMEOUT="REQUEST_REASON_TIMEOUT",n.REQUEST_REASON_UNAUTHORISED="REQUEST_REASON_UNAUTHORISED",r=function(){return window.device.iosDevice?i.SportsiOSApp:window.device.isAndroid?i.SportsAndroidApp:window.sProps.apptype==="windowsapp"?i.SportsWindowsApp:i.SportsWindowsUniversalApp},n.prototype._getAppPaymentRequestAttributes=function(){var n,t=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler);return n=t.isFeatureSupported("applePay")?"ApplePay":t.isFeatureSupported("GooglePay")?"GooglePay":"NoVendorPaymentAvailable_",this.appPaymentRequestAttrNames={supported:n+"Supported",depositMinimum:n+"DepositMinimum"},this.appPaymentRequestAttrNames},n.prototype._post=function(i,r,f,o,s){var l,c,h;if(h=XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject("Microsoft.XMLHTTP"),o)if(window.sProps.enableLowPriorityMOSCalls==="1")c=function(n){t._lowPriorityCallback(h,f,n)};else{f&&f({Success:!1,Reason:n.REQUEST_REASON_ABORT});return}else c=f;h.onload=function(t){t.target.status===200?(l=s?{Success:!0,Response:{ResultCode:"true"}}:JSON.parse(t.target.responseText),l&&l.Response&&l.Response.Timeout&&(l={Success:!1,Reason:n.REQUEST_REASON_SERVERTIMEOUT})):l=t.target.status===401?{Success:!1,Reason:n.REQUEST_REASON_UNAUTHORISED}:{Success:!1,Reason:n.REQUEST_REASON_FAIL};c&&c(l)};h.onabort=function(){c&&c({Success:!1,Reason:n.REQUEST_REASON_ABORT})};h.ontimeout=function(){c&&c({Success:!1,Reason:n.REQUEST_REASON_TIMEOUT})};h.onerror=function(){c&&c({Success:!1,Reason:n.REQUEST_REASON_FAIL})};h.open("POST","{0}/{1}".format(s?e:u,i));s&&h.setRequestHeader("Content-Type","application/json");h.timeout=1e4;h.send(JSON.stringify(r));o&&this._lowPriorityRequests.push(h)},n.prototype._lowPriorityCallback=function(n,t,i){var r=this._lowPriorityRequests.indexOf(n);r!==-1&&this._lowPriorityRequests.splice(r,1);t&&t(i)},n.prototype.CancelLowPriorityCalls=function(){for(var n;n=this._lowPriorityRequests.pop();)n.abort()},n.prototype.FetchAuthenticationMethods=function(n){var i={CountryCode:b365Mobile.account.isUserLoggedIn()?window.sProps.sc.ct:sProps.geoLocCode?sProps.geoLocCode:window.sProps.ISOCode,UserAgent:window.agent};t._post("AuthenticationMethods",i,n)},n.prototype.SetPin=function(n,i,r,u,f){if(!i||!r)return null;var e={pin:n,DeviceId:i,StandardAuthenticationToken:r,AuthenticationMethod:u};t._post("SetPin",e,f)},n.prototype.FetchValidationRules=function(n,i,r,u){var f={StandardAuthenticationToken:n,DeviceId:i,AuthenticationMethod:r};return t._post("PinValidationRules",f,u)},n.prototype.RevertAuthToken=function(n,i,r){if(!n||!i)return null;var u={AuthenticationToken:i,DeviceId:n};return t._post("RevertAuthorisationToken",u,r)},n.prototype.FetchMenuStateDetails=function(n,u,f,e){var o,s;if(f||u)return this.platformId&&this.platformId!==i.Mobile||(this.platformId=r()),o={UserAttributes:[],UserDataRequestArguments:[]},f&&o.UserAttributes.push("MessageCount"),u&&o.UserAttributes.push("QuickDepositSupported"),e&&(s=this._getAppPaymentRequestAttributes(),o.UserAttributes.push(s.supported),o.UserAttributes.push(s.depositMinimum)),o.UserDataRequestArguments.push({TargetParameter:"PlatformId",Value:this.platformId.toString()}),o.UserDataRequestArguments.push({TargetParameter:"CurrencyIso",Value:Locator.user.currencyCode}),t._post("UserData",o,n,!0)},n.prototype.FetchEditBetAdvertState=function(n){var i={UserAttributes:[]};return i.UserAttributes.push("EditBetAdvertRequired"),t._post("UserData",i,n,!0)},n.prototype.SetEditBetAdvertAsViewed=function(){var n={UserDataRequestValues:[]};return n.UserDataRequestValues.push({TargetParameter:"EditBetAdvertRequired",Value:"false"}),t._post("SetUserData",n,function(){},!0)},n.prototype.FetchDepositDetails=function(n,u,f){var s,e,o;return this.platformId&&this.platformId!==i.Mobile||(this.platformId=r()),this.CancelLowPriorityCalls(),s=f?"SiteMenu":"SportsQuickDeposit",e={UserAttributes:["MinimumQuickDepositAmount","QuickDepositSupported","Last4CardDigits"],UserDataRequestArguments:[{TargetParameter:"PlatformId",Value:this.platformId.toString()},{TargetParameter:"PaymentSource",Value:s},{TargetParameter:"CurrencyIso",Value:Locator.user.currencyCode}]},u&&(o=this._getAppPaymentRequestAttributes(),e.UserAttributes.push(o.supported,o.depositMinimum)),t._post("UserData",e,n)},n.prototype.CheckSession=function(n){return t._post("CheckSession",null,n)},n.prototype.SetLanguage=function(n,i){var r={languageId:n};return t._post("SetLanguage",r,i,!0,!0)},n.prototype.SetTimezone=function(n,i){var r={timezoneId:n};return t._post("SetTimezone",r,i,!0,!0)},n.prototype.SetOddsPreference=function(n,i){var r={oddsPreferenceId:n};return t._post("SetOddsPreference",r,i,!0,!0)},n.prototype.SetMaximumInactivityTime=function(n,i){var r={maximumInactivityTime:n};return t._post("SetMaximumInactivityTime",r,i,!0,!0)},n}();b365Mobile.memberOperations=new b365Mobile.MemberOperations;b365Mobile.AlternativeAuth=function(){function t(){b365Mobile.utils.IsNullOrEmpty(siteDataLocal.getItem(r))&&siteDataLocal.setItem(r,0);b365Mobile.utils.IsNullOrEmpty(siteDataLocal.getItem(f))&&siteDataLocal.setItem(f,!1);n=this}var r="touchDeclinedCount",k="authTokenExpires",f="touchSupported",p="suppressPrompt",w="StopTouchIdDialog",h="authTypes",c="attemptAutoLogin",u="Standard",l="Pin",e="Touch",a="KML",o="Fingerprint",s=!1,v=!1,y=[],n,b={Standard:"0",Pin:"1",Touch:"2",KML:"3",RememberUser:"4",Fingerprint:"5"},d={"0":"Standard","1":"Pin","2":"Touch","3":"KML","4":"RememberUser","5":"Fingerprint"},g={"0":"Standard","1":"Standard","2":"Touch","3":"KML","4":"RememberUser","5":"Fingerprint"};return t.prototype.LP_LOGIN_METHOD_STD="0",t.prototype.LP_LOGIN_METHOD_PASSCODE="1",t.prototype.LP_LOGIN_METHOD_TOUCH="2",t.prototype.LP_LOGIN_METHOD_KML="3",t.prototype.LP_LOGIN_METHOD_REMEMBERUSER="4",t.prototype.LP_LOGIN_METHOD_FINGER="5",t.prototype.initalise=function(){if(!v){if(window.sProps.instantBet){n._initaliseComplete();return}var t=siteDataSession.getItem(h);b365Mobile.utils.IsNullOrEmpty(t)?b365Mobile.memberOperations.FetchAuthenticationMethods(function(t){t.Success?(window.sProps.availLoginTypes=t.Response.AuthenticationMethods,n.getActiveMethod()=="KML"&&window.sProps.availLoginTypes.indexOf(n.getActiveMethod())<0?n.revertToStandard():window.sProps.availLoginTypes.indexOf(n.getActiveMethod())<0&&window.sProps.availLoginTypes.push(n.getActiveMethod())):window.sProps.availLoginTypes.push(n.getActiveMethod());siteDataSession.setItem(h,window.sProps.availLoginTypes.join("|"));n._authTypesSet()}):(window.sProps.availLoginTypes=t.split("|"),n._authTypesSet())}},t.prototype._authTypesSet=function(){b365Mobile.kmlController||(b365Mobile.kmlController=new b365Mobile.KMLController);b365Mobile.kmlController.initialise(function(){if(window.mobileBusinessRules.couldSupportTouch()&&(window.sProps.availLoginTypes.indexOf("Touch")>-1||window.sProps.availLoginTypes.indexOf("Fingerprint")>-1)){b365Mobile.fingerprintController||(b365Mobile.fingerprintController=new b365Mobile.FingerprintController(b365Mobile.authPopup));b365Mobile.fingerprintController.deviceSupportsTouch();!b365Mobile.passcodeController&&window.sProps.availLoginTypes.indexOf("Pin")>-1&&(b365Mobile.passcodeController=new b365Mobile.PasscodeController,b365Mobile.passcodeController.initialise());return}!b365Mobile.passcodeController&&window.sProps.availLoginTypes.indexOf("Pin")>-1&&(b365Mobile.passcodeController=new b365Mobile.PasscodeController,b365Mobile.passcodeController.initialise());n._initaliseComplete()})},t.prototype._initaliseComplete=function(){for(v=!0,siteDataSession.setItem(c,"false"),s=!1,i=0,j=y.length;i<j;i++)y[i]()},t.prototype.registerCallback=function(n){if(v){n();return}y.push(n)},t.prototype.storeAuthToken=function(t){n.updateAAATCookieAuthToken(t)},t.prototype.retrieveAuthToken=function(){var t=n.getAAATvalue("at");return t!==""?t:(n.revertToStandard(),"")},t.prototype.retrieveUserName=function(){return n.getAAATvalue("un")||""},t.prototype.validateAuthTokenExpiry=function(){var t=n.getAAATvalue(k);t&&new Date(t)<new Date(Date.now())&&n.revertToStandard()},t.prototype.storeDeviceId=function(t,i){try{if(!b365Mobile.utils.isGuid(t)&&window.ErrorReporter)i=i||"N/A",window.ErrorReporter.Trace(this,"Attempt to store AlternativeAuth DeviceId which is not a GUID. Value = "+t+" Caller = "+i),b365Mobile.alternativeAuth.revertToStandard();else if(b365Mobile.utils.isGuid(t)){var r;r=sProps.user&&sProps.user.userName?sProps.user.userName:n.retrieveUserName()||"";this.writeAAATCookie(n.retrieveAuthToken(),t,b[n.getActiveMethod()],r)}else b365Mobile.alternativeAuth.revertToStandard()}catch(u){b365Mobile.alternativeAuth.revertToStandard()}},t.prototype.retrieveDeviceId=function(){var t=n.getAAATvalue("di");return t!==""?t:(n.revertToStandard(),"")},t.prototype.touchIdDecline=function(){var n=parseInt(siteDataLocal.getItem(r),10),t=n+1;siteDataLocal.setItem(r,t)},t.prototype.clearTouchIdDeclined=function(){siteDataLocal.setItem(r,0)},t.prototype.touchIdSupported=function(){return(window.sProps.availLoginTypes.indexOf(e)>-1||window.sProps.availLoginTypes.indexOf(o)>-1)&&n.getTouchSupported()&&n.getTouchDeclinedCount()<3},t.prototype.kmlSupported=function(){return window.sProps.availLoginTypes.indexOf(a)>-1},t.prototype.fallbackToStandard=function(){n.revertToStandard();s&&n._initaliseComplete();b365Mobile.authPopup.close();b365Mobile.account.logInPopUp()},t.prototype.revertToStandard=function(){var t=b365Mobile.utils.getCookie("aaat"),i,r,u;(sProps.user.isLoggedIn||t)&&(t&&n.getAAATvalue("am")&&b365Mobile.alternativeAuth.getTouchIdActive()&&(b365Mobile.fingerprintController.clearPin(),b365Mobile.alternativeAuth.clearTouchIdDeclined()),i=t?n.getAAATvalue("di"):"",r=t?n.getAAATvalue("at"):"",u=sProps.user&&sProps.user.userName?sProps.user.userName:"",r&&i?b365Mobile.memberOperations.RevertAuthToken(i,r,null):(window.sProps.availLoginTypes=["Standard"],siteDataSession.setItem(h,"Standard")),b365Mobile.alternativeAuth.writeAAATCookie(r,i,n.LP_LOGIN_METHOD_STD,u),window.memberMenuController&&window.memberMenuController.updateAltAuthProperties())},t.prototype.setActiveMethod=function(t){var i=b[t];n.updateAAATCookieAuthMethod(i)},t.prototype.getActiveMethod=function(){var i=this.getAAATvalue("am"),t;return i?(isNaN(i)&&n.setActiveMethod(u),t=this.getAAATvalue("v")?d[this.getAAATvalue("am")]:g[this.getAAATvalue("am")],t?t:(n.revertToStandard(),u)):(n.revertToStandard(),u)},t.prototype.enableTouch=function(){if(!n.getTouchIdActive()){var t=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler);t.AppType===2?n.setActiveMethod(e):n.setActiveMethod(o)}},t.prototype.disableTouch=function(){n.getTouchIdActive()&&n.revertToStandard();b365Mobile.passcodeController&&window.sProps.availLoginTypes.indexOf("Pin")>-1&&b365Mobile.passcodeController.initialise()},t.prototype.enableKML=function(){n.setActiveMethod(a)},t.prototype.disableKML=function(){n.getKMLActive()&&n.revertToStandard()},t.prototype.kMLtoStandard=function(){n.getKMLActive()&&n.setActiveMethod(u)},t.prototype.enablePasscode=function(){n.getPasscodeActive()||n.setActiveMethod(l);window.memberMenuController&&window.memberMenuController.updateAltAuthProperties()},t.prototype.disablePasscode=function(){n.getPasscodeActive()&&n.revertToStandard();window.memberMenuController&&window.memberMenuController.updateAltAuthProperties()},t.prototype.getTouchIdActive=function(){return n.getActiveMethod()===e||n.getActiveMethod()===o},t.prototype.isFinger=function(){var n=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler);return n.AppType===1},t.prototype.getKMLActive=function(){return n.getActiveMethod()===a},t.prototype.getPasscodeActive=function(){return n.getActiveMethod()===l},t.prototype.getPasscodeSupported=function(){return!!this.getAAATvalue("v")&&window.sProps.availLoginTypes.indexOf(l)>-1&&!window.sProps.instantBet},t.prototype.hasAlternativeAuthEnabled=function(){return!window.sProps.instantBet&&n.getActiveMethod()!==u},t.prototype.getTouchDeclinedCount=function(){return siteDataLocal.getItem(r)},t.prototype.setTouchSupported=function(t){if(s=siteDataSession.getItem(c)==="true",siteDataLocal.setItem(f,t),b365Mobile.alternativeAuth.getTouchIdActive()&&!t&&b365Mobile.fingerprintController.disableTouchId(),b365Mobile.alternativeAuth.getTouchIdActive()&&t&&s&&!b365Mobile.account.isUserLoggedIn()){siteDataSession.setItem(c,"false");b365Mobile.fingerprintController.appTouchLogin();return}t&&b365Mobile.account.isUserLoggedIn()&&!b365Mobile.alternativeAuth.hasAlternativeAuthEnabled()&&b365Mobile.alternativeAuth.getTouchSupported()&&b365Mobile.alternativeAuth.getTouchDeclinedCount()<3&&siteDataSession.getItem("touchprompted")==""&&!b365Mobile.alternativeAuth.stopTouchIdDialog()&&b365Mobile.fingerprintController&&b365Mobile.fingerprintController.setup();n._initaliseComplete()},t.prototype.stopTouchIdDialog=function(){var n=siteDataSession.getItem(w);return n&&n.length>0?(n==="2"?b365Mobile.alternativeAuth.setStopTouchIdDialogFlag(""):b365Mobile.alternativeAuth.setStopTouchIdDialogFlag("2"),!0):!1},t.prototype.setStopTouchIdDialogFlag=function(n){siteDataSession.setItem(w,n)},t.prototype.getTouchSupported=function(){return(window.sProps.availLoginTypes.indexOf(e)>-1||window.sProps.availLoginTypes.indexOf(o)>-1)&&siteDataLocal.getItem(f)},t.prototype.setSuppressAltAuthPrompt=function(n){siteDataLocal.setItem(p,n)},t.prototype.getSuppressAltAuthPrompt=function(){return siteDataLocal.getItem(p)},t.prototype.getAAATvalue=function(t){var i=n.getAAATvalues();return i[t]||""},t.prototype.getAAATvalues=function(){var t=b365Mobile.utils.getCookie("aaat"),i={};return t?t.replace(/(\b[^=|^&]+)=([^&|^$]+)/g,function(n,t,r){i[t]=r}):n.revertToStandard(),i},t.prototype.clearUserName=function(){var t=n.getAAATvalues(),i=t.di,r=t.at,u=t.am;n.writeAAATCookie(r,i,u,"")},t.prototype.updateAAATCookieAuthMethod=function(t){var i=n.getAAATvalues(),r=i.di,u=i.at,f=i.un;n.writeAAATCookie(u,r,t,f)},t.prototype.updateAAATCookieAuthToken=function(t){var i=n.getAAATvalues(),r=i.di,u=t?i.am:n.LP_LOGIN_METHOD_STD,f=i.un;n.writeAAATCookie(t,r,u,f)},t.prototype.writeAAATCookie=function(n,t,i,r){for(var k=document.location.host.substring(document.location.host.indexOf(".")),d=new Date((new Date).getTime()+31536e6).toUTCString(),o="",s=!1,h=!1,c=!1,l=!1,a=b365Mobile.utils.getCookie("aaat"),u=a?a.split("&"):[],f,y,p,w,b,e=0,v=u.length;e<v;e++)if(f=u[e].split("="),f.length>1)switch(f[0]){case"at":f[1]=n||"";u[e]=f.join("=");s=!0;break;case"di":f[1]=t||"";u[e]=f.join("=");h=!0;break;case"am":f[1]=i||"";u[e]=f.join("=");c=!0;break;case"un":f[1]=r||"";u[e]=f.join("=");l=!0}!s&&n&&(y="at="+n,u.push(y));!h&&t&&(p="di="+t,u.push(p));!c&&i&&(w="am="+i,u.push(w));!l&&r&&(b="un="+r,u.push(b));o=u.join("&");document.cookie="aaat={0}; expires={1}; domain={2};".format(o,d,k)},t.prototype.restoreLocalStorageFromHiddenFields=function(){var n=document.getElementById("altAuthTok"),t=document.getElementById("altAuthDevId"),i=document.getElementById("supAltAuth");n&&!b365Mobile.utils.IsNullOrEmpty(n.value)&&(b365Mobile.alternativeAuth.storeAuthToken(n.value),n.value="");t&&!b365Mobile.utils.IsNullOrEmpty(t.value)&&(b365Mobile.alternativeAuth.storeDeviceId(t.value,"AlternativeAuth.restoreLocalStorageFromHiddenFields"),t.value="");i&&!b365Mobile.utils.IsNullOrEmpty(i.value)&&(b365Mobile.alternativeAuth.setSuppressAltAuthPrompt(i.value),i.value="")},t}();b365Mobile.FingerprintController=function(){function t(t){this._authPopup=t;n=this}var n,r,u,i=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler);return t.prototype._isLegacy=function(){return i.IsApp&&!i.isFeatureSupported("Biometric")&&i.AppType===2},t.prototype._cancelHandler=function(){n._authPopup.close();siteDataSession.setItem("touchprompted",!0);b365Mobile.alternativeAuth.touchIdDecline();b365Mobile.alternativeAuth.disableTouch();window.memberMenuController&&window.memberMenuController.updateAltAuthProperties();ns_moblib_pushmessage.PushMessageController.Initialize()},t.prototype._useTouchHandler=function(){b365Mobile.alternativeAuth.clearTouchIdDeclined();n.isSilent=!1;n.setupAttempted||(n.setupAttempted=!0,n._isLegacy()?window.webkit.messageHandlers.callbackHandler.postMessage(["GeneratePIN","b365Mobile.fingerprintController.validatePasscodeFromApp(null, %@)",""]):i.execute("Biometric_setup",{},b365Mobile.fingerprintController.validatePasscodeFromApp,"generatePinCallbackHandler"))},t.prototype._confimTouchEnabled=function(){var t=sProps.appInitResult&&sProps.appInitResult.device&&sProps.appInitResult.device.faceId,i=t?b365.ml.auth_faceEnabled:b365.ml.auth_touchidenabled,r=b365Mobile.alternativeAuth.isFinger()?b365.ml.auth_fingerEnabled:i,u=t?"faceEnabledicon":"touchEnabledicon",f=b365Mobile.alternativeAuth.isFinger()?"fingerEnabledicon":u,e={iconstyle:f,title:{text:r,style:"lgi-PopUp_Header-touchconfirmed"},okbutton:{text:b365.ml.auth_continue,handler:function(){n._authPopup.close();ns_moblib_pushmessage.PushMessageController.Initialize()}}};n._authPopup.createDialog(e)},t.prototype._useTouchId=function(){var t=sProps.appInitResult&&sProps.appInitResult.device&&sProps.appInitResult.device.faceId,i=t?b365.ml.auth_faceFaster:b365.ml.auth_loginfastertouch,r=b365Mobile.alternativeAuth.isFinger()?b365.ml.auth_fingerLogin:i,u=t?b365.ml.auth_useFace:b365.ml.auth_usetouchid,f=b365Mobile.alternativeAuth.isFinger()?b365.ml.auth_finger:u,e=t?b365.ml.auth_faceDisclaimer:b365.ml.auth_disclaimer,o={title:{text:r},subtitle:e,okbutton:{text:f,handler:n._useTouchHandler,initialise:n._useTouchButtonInit},cancelbutton:{text:b365Mobile.alternativeAuth.getTouchDeclinedCount()<2?b365.ml.auth_notnow:b365.ml.auth_nothanks,handler:n._cancelHandler}};$("#overlay").off("click");n._authPopup.createDialog(o);requestAnimationFrame(function(){window.scrollTo(0,0)})},t.prototype._useTouchButtonInit=function(n,t){var r=document.createDocumentFragment(),i=document.createElement("span"),u=sProps.appInitResult&&sProps.appInitResult.device&&sProps.appInitResult.device.faceId,f=u?"faceButton":"touchButton";i.className=b365Mobile.alternativeAuth.isFinger()?"fingerButton":f;i.innerHTML=t.text;r.appendChild(i);n.appendChild(r)},t.prototype._pinsetupFailed=function(){if(!u){u=!0;var t=b365.ml.auth_password,i=sProps.appInitResult&&sProps.appInitResult.device&&sProps.appInitResult.device.faceId,r=i?b365.ml.auth_faceFailed:b365.ml.auth_touchsetuperr,f=b365Mobile.alternativeAuth.isFinger()?b365.ml.auth_fingerFailed:r,e={title:{text:f},okbutton:{text:t,handler:function(){b365Mobile.alternativeAuth.fallbackToStandard()}}};n._authPopup.createDialog(e);b365Mobile.alternativeAuth.disableTouch();window.memberMenuController&&window.memberMenuController.updateAltAuthProperties()}},t.prototype._validatePin=function(n){for(var f,u,t=r.SpecificInvalidPins,i=0;i<t.length;i++)if(n===t[i])return!1;t=r.InvalidPinPatterns;for(u in t)if(t.hasOwnProperty(u)&&(f=new RegExp(t[u].replace("/","")),f.test(n)))return!1;return!0},t.prototype._checkAndExecute=function(){if(b365.ml&&r){var t=location.href.indexOf("key=hopper")<0,i=location.href.indexOf("key=members")<0,u=location.href.indexOf("key=secondary")<0,f=location.href.indexOf("key=kyc")<0,e=!sProps.user.membersNotificationsRequired;return b365Mobile.alternativeAuth.getSuppressAltAuthPrompt()!=="true"&&t&&i&&u&&f&&e&&n._useTouchId(),!0}return!1},t.prototype._silentCheckAndExecute=function(){return b365.ml&&r?(n.isSilent=!0,n._isLegacy()?window.webkit.messageHandlers.callbackHandler.postMessage(["GeneratePIN","b365Mobile.fingerprintController.validatePasscodeFromApp(null, %@)",""]):i.execute("Biometric_setup",{},b365Mobile.fingerprintController.validatePasscodeFromApp,"generatePinCallbackHandler"),!0):!1},t.prototype._showTouchNotAllowedPopup=function(){var t=sProps.appInitResult&&sProps.appInitResult.device&&sProps.appInitResult.device.faceId,i=t?b365.ml.auth_faceUnavail:b365.ml.auth_notouch,r=b365Mobile.alternativeAuth.isFinger()?b365.ml.auth_fingerUnavail:i,u=b365.ml.auth_password,f={title:{text:r},okbutton:{text:u,handler:b365Mobile.alternativeAuth.fallbackToStandard}};n._authPopup.createDialog(f)},t.prototype.pinsetupFailed=function(){b365Mobile.alternativeAuth.getTouchIdActive()&&(b365.ml?n._pinsetupFailed():window.getLanguages(function(){n._pinsetupFailed()}))},t.prototype.setup=function(){if((u=!1,!n._checkAndExecute())&&(b365.ml||window.getLanguages(function(){n._checkAndExecute()},function(){throw"FingerprintController.setup() failed to retrieve ML";}),!r&&sProps.user.isLoggedIn&&!b365Mobile.alternativeAuth.getPasscodeActive()&&!b365Mobile.alternativeAuth.getTouchIdActive())){var t=b365Mobile.alternativeAuth.isFinger()?"Fingerprint":"Touch";b365Mobile.memberOperations.FetchValidationRules(b365Mobile.alternativeAuth.retrieveAuthToken(),b365Mobile.alternativeAuth.retrieveDeviceId(),t,function(t){if(t.Success)r=t.Response,n._checkAndExecute();else{n.disableTouchId();return}})}},t.prototype.silentFetchValidationRules=function(){var t=b365Mobile.alternativeAuth.isFinger()?"Fingerprint":"Touch";b365Mobile.memberOperations.FetchValidationRules(b365Mobile.alternativeAuth.retrieveAuthToken(),b365Mobile.alternativeAuth.retrieveDeviceId(),t,function(t){t.Success?(r=t.Response,n._silentCheckAndExecute()):n._pinsetupFailed()})},t.prototype.silentSetup=function(){u=!1;b365Mobile.popUpOverlay.overlay(!0,!0,!1,!1);setTimeout(function(){if(!n._silentCheckAndExecute()&&(b365.ml||window.getLanguages(function(){n._silentCheckAndExecute()},function(){n._pinsetupFailed()}),!r))if(b365Mobile.alternativeAuth.getKMLActive()){var t=b365Mobile.alternativeAuth.retrieveDeviceId(),i=b365Mobile.alternativeAuth.retrieveAuthToken();if(!t||!i){n._pinsetupFailed();return}b365Mobile.memberOperations.RevertAuthToken(t,i,function(t){t.Success?n.silentFetchValidationRules():n._pinsetupFailed()})}else!sProps.user.isLoggedIn||b365Mobile.alternativeAuth.getPasscodeActive()||b365Mobile.alternativeAuth.getTouchIdActive()||n.silentFetchValidationRules()},1e3)},t.prototype.confirmTouchEnabled=function(){b365Mobile.alternativeAuth.enableTouch();window.memberMenuController&&window.memberMenuController.updateAltAuthProperties();n._confimTouchEnabled()},t.prototype.silentConfirmTouchEnabled=function(){b365Mobile.alternativeAuth.enableTouch();window.memberMenuController&&window.memberMenuController.updateAltAuthProperties();b365Mobile.popUpOverlay.overlay(!1)},t.prototype.deviceSupportsTouch=function(){n._isLegacy()?window.webkit.messageHandlers.callbackHandler.postMessage(["TouchEnabled","b365Mobile.alternativeAuth.setTouchSupported(%@);","b365Mobile.fingerprintController.loginWithTouch({result: false});"]):i.execute("Biometric_supported",{},b365Mobile.fingerprintController.setTouchSupported,"supportsBiometricCallbackHandler")},t.prototype.appTouchLogin=function(){n._isLegacy()?window.webkit.messageHandlers.callbackHandler.postMessage(["TouchLogin","b365Mobile.account.loginWithTouch(%@);","b365Mobile.fingerprintController.pinsetupFailed();","b365Mobile.fingerprintController.cancelAppTouchLogin();"]):i.execute("Biometric_login",{languageId:Locator.user.languageId},b365Mobile.fingerprintController.loginWithTouch,"loginBiometricCallbackHandler")},t.prototype.setTouchSupported=function(n,t){b365Mobile.alternativeAuth.setTouchSupported(t&&t.result)},t.prototype.loginWithTouch=function(n,t){if(t.result){b365Mobile.account.loginWithTouch(t.pin);return}if(!t.result&&t.errorCode===4){b365Mobile.fingerprintController.cancelAppTouchLogin();return}if(!t.result&&t.errorCode===3){b365Mobile.fingerprintController.cancelAppTouchLogin();return}if(!t.result){siteDataSession.setItem("touchprompted",!0);b365Mobile.fingerprintController.pinsetupFailed();return}},t.prototype.cancelAppTouchLogin=function(){b365Mobile.alternativeAuth.fallbackToStandard()},t.prototype.clearPin=function(){n._isLegacy()?window.webkit.messageHandlers.callbackHandler.postMessage(["ClearPIN","",""]):i.execute("Biometric_remove",{},null,"removeBiometricCallbackHandler")},t.prototype.disableTouchId=function(){var n=b365Mobile.alternativeAuth.retrieveDeviceId(),t=b365Mobile.alternativeAuth.retrieveAuthToken();if(!n||!t){b365Mobile.alternativeAuth.disableTouch();return}b365Mobile.memberOperations.RevertAuthToken(b365Mobile.alternativeAuth.retrieveDeviceId(),b365Mobile.alternativeAuth.retrieveAuthToken(),function(){b365Mobile.alternativeAuth.disableTouch()})},t.prototype.validatePasscodeFromApp=function(t,r){var u=n._isLegacy()?r:r.pin,f,e;if(!u){n._pinsetupFailed();return}if(f=n.isSilent?b365Mobile.fingerprintController.silentConfirmTouchEnabled:b365Mobile.fingerprintController.confirmTouchEnabled,e=n.isSilent?"b365Mobile.fingerprintController.silentConfirmTouchEnabled();":"b365Mobile.fingerprintController.confirmTouchEnabled();",n._validatePin(u)){var h=b365Mobile.alternativeAuth.isFinger()?"Fingerprint":"Touch",o=b365Mobile.alternativeAuth.retrieveDeviceId(),s=b365Mobile.alternativeAuth.retrieveAuthToken();if(!o||!s){n._pinsetupFailed();return}b365Mobile.memberOperations.SetPin(u,o,s,h,function(t){if(n.setupAttempted=!1,t.Success){if(t.Response.Status!=1){n._pinsetupFailed();return}n._isLegacy()?window.webkit.messageHandlers.callbackHandler.postMessage(["StorePIN",e,"b365Mobile.fingerprintController.loginWithTouch({result: false});"]):f();b365Mobile.alternativeAuth.storeAuthToken(t.Response.LoginToken.Id,t.Response.LoginToken.Expires)}else{n._pinsetupFailed();return}})}else n._isLegacy()?window.webkit.messageHandlers.callbackHandler.postMessage(["GeneratePIN","b365Mobile.fingerprintController.validatePasscodeFromApp(null, %@)",""]):i.execute("Biometric_setup",{},b365Mobile.fingerprintController.validatePasscodeFromApp,"generatePinCallbackHandler")},t.prototype.authenticationFailed=function(){b365Mobile.alternativeAuth.getTouchIdActive()&&(b365.ml?n._pinsetupFailed():window.getLanguages(function(){n._pinsetupFailed()}))},t.prototype.touchNotAllowed=function(){b365.ml?n._showTouchNotAllowedPopup():window.getLanguages(function(){n._showTouchNotAllowedPopup()})},t.prototype.popupDisplayed=function(){return n._authPopup?n._authPopup.isPopUpDisplayed:!1},t}();b365Mobile.PasscodeController=function(){function t(){n=this}var n;return t.prototype.passcodeModuleContainer=null,t.prototype.moduleInstance=null,t.prototype.loginCallback=null,t.prototype.pinValidationRules=null,t.prototype.isToggleLaunch=!1,t.prototype.initialise=function(t){if(b365Mobile.alternativeAuth.getPasscodeSupported()){if(n.isToggleLaunch=t,t&&b365Mobile.alternativeAuth.getKMLActive()){var i=b365Mobile.alternativeAuth.retrieveDeviceId(),r=b365Mobile.alternativeAuth.retrieveAuthToken();if(!i||!r)return;b365Mobile.memberOperations.RevertAuthToken(b365Mobile.alternativeAuth.retrieveDeviceId(),b365Mobile.alternativeAuth.retrieveAuthToken(),null);b365Mobile.alternativeAuth.kMLtoStandard();b365Mobile.passcodeController.initialise(!0);return}(sProps.user.isLoggedIn||b365Mobile.alternativeAuth.getPasscodeActive())&&(n.pinValidationRules||b365Mobile.alternativeAuth.getPasscodeActive()||b365Mobile.alternativeAuth.getTouchIdActive()?n.isToggleLaunch?(window.memberMenuController&&window.memberMenuController.updateAltAuthProperties(),n.offerPasscodeFromToggle()):n.setupModule(n.pinValidationRules):b365Mobile.memberOperations.FetchValidationRules(b365Mobile.alternativeAuth.retrieveAuthToken(),b365Mobile.alternativeAuth.retrieveDeviceId(),"Pin",function(t){n.pinValidationRules=t.Response;n.setupModule(n.pinValidationRules)}))}},t.prototype.setupModule=function(t){n.passcodeModuleContainer&&n.passcodeModuleContainer.dispose();n.passcodeModuleContainer=new ns_gen5_ui.ModuleContainer;n.passcodeModuleContainer.initObject={pinValidationRules:t,getDismissCount:n.getDismissCount,setPin:n.setPin,loginWithPin:n.loginWithPin,showNormalLogin:n.showNormalLogin,updateDismissCount:n.updateDismissCount,disallowShowingOfPasscode:n.disallowShowingOfPasscode,moduleLoadedCallback:n.moduleLoaded,disablePasscode:n.disablePasscode,shouldValidateOnEntry:window.mobileBusinessRules.shouldValidatePinOnEntry()};n.passcodeModuleContainer.load("PasscodeModule");n.passcodeModuleContainer.initialize()},t.prototype.moduleLoaded=function(){n.moduleInstance=n.passcodeModuleContainer.getModule();window.memberMenuController&&window.memberMenuController.updateAltAuthProperties();n.canOfferPasscode()&&siteDataSession.getItem("supressPasscode")!="true"&&!n.isToggleLaunch?(n.moduleInstance.offerPasscode(),siteDataSession.setItem("passcodeJustLoggedIn","false")):n.isToggleLaunch?(siteDataSession.getItem("supressPasscode")=="true"&&siteDataSession.setItem("supressPasscode",!1),n.offerPasscodeFromToggle()):siteDataSession.getItem("supressPasscode")=="true"&&siteDataSession.setItem("supressPasscode",!1)},t.prototype.canOfferPasscode=function(){var t=n.getDismissCount()<3,i=!!n.pinValidationRules,r=location.href.indexOf("key=hopper")<0,u=location.href.indexOf("key=members")<0,f=location.href.indexOf("key=secondary")<0,e=location.href.indexOf("key=kyc")<0,o=!sProps.user.membersNotificationsRequired,s=siteDataSession.getItem("passcodeJustLoggedIn")==="true",h=b365Mobile.alternativeAuth.getTouchDeclinedCount()>=3||!b365Mobile.alternativeAuth.getTouchSupported()&&!b365Mobile.alternativeAuth.getTouchIdActive(),c=!b365Mobile.alternativeAuth.getPasscodeActive()&&!b365Mobile.alternativeAuth.getKMLActive();return t&&s&&i&&r&&u&&f&&e&&o&&h&&c&&sProps.user.isLoggedIn},t.prototype.offerPasscodeFromToggle=function(){var t=!!n.pinValidationRules,i=!b365Mobile.alternativeAuth.getTouchIdActive(),r=!b365Mobile.alternativeAuth.getPasscodeActive();n.isToggleLaunch=!1;t&&i&&r&&sProps.user.isLoggedIn&&(n.moduleInstance.toggleVisibility(!0),n.moduleInstance.offerPasscodeToggle())},t.prototype.getDismissCount=function(){return siteDataLocal.getItem("passcodePromptCount")},t.prototype.setPin=function(n,t){var i=b365Mobile.alternativeAuth.retrieveDeviceId(),r=b365Mobile.alternativeAuth.retrieveAuthToken();if(!i||!r){t&&t.call(null,!1);return}b365Mobile.memberOperations.SetPin(n,b365Mobile.alternativeAuth.retrieveDeviceId(),b365Mobile.alternativeAuth.retrieveAuthToken(),"Pin",function(n){if(n.Success){if(n.Response.Status!=1){t&&t.call(null,!1);return}b365Mobile.alternativeAuth.storeAuthToken(n.Response.LoginToken.Id,n.Response.LoginToken.Expires);b365Mobile.alternativeAuth.enablePasscode();t&&t.call(null,!0)}else{t&&t.call(null,!1);return}})},t.prototype.loginWithPin=function(t,i){n.loginCallback=i;b365Mobile.account.loginWithPasscode(t)},t.prototype.showNormalLogin=function(){b365Mobile.alternativeAuth.fallbackToStandard()},t.prototype.updateDismissCount=function(n){return siteDataLocal.setItem("passcodePromptCount",n)},t.prototype.disallowShowingOfPasscode=function(){siteDataSession.setItem("supressPasscode","true")},t.prototype.showPasscodeLogin=function(){n.moduleInstance.showPasscodeLogin()},t.prototype.incorrectPasscode=function(){b365Mobile.alternativeAuth.getPasscodeActive()&&n.loginCallback&&n.loginCallback.call(null,!1)},t.prototype.authenticationFailed=function(){b365Mobile.alternativeAuth.getPasscodeActive()&&(b365Mobile.alternativeAuth.revertToStandard(),n.moduleInstance.showNotAuthorised())},t.prototype.dismissPopup=function(){n.moduleInstance&&n.moduleInstance.dismissPasscodeDialog()},t.prototype.disablePasscode=function(){b365Mobile.alternativeAuth.disablePasscode()},t}();b365Mobile.KMLController=function(){function n(){t=this}var t;return n.prototype.loggingin=!1,n.prototype.initialise=function(n){var i=document.getElementById("kmlcontainer"),r=b365Mobile.utils.getCookie("pstk");if(i&&!b365Mobile.alternativeAuth.kmlSupported()&&i.parentNode.removeChild(i),r&&!(r.lastIndexOf("0004")==r.length-4)&&b365Mobile.alternativeAuth.kmlSupported()&&b365Mobile.alternativeAuth.getKMLActive()&&!t.loggingin){this.kmlLogin();return}n&&n.call()},n.prototype.kmlLogin=function(){t.loggingin=!0;b365Mobile.account.kmlLogin()},n.prototype.authenticationFailed=function(){t.loggingin=!0;b365Mobile.alternativeAuth.getKMLActive()&&b365Mobile.alternativeAuth.fallbackToStandard()},n}();b365Mobile.AuthPopup=function(){function i(){n=this;n._element=document.getElementById("AuthPopUp");n._popupIcon=document.getElementById("authPopupIcon");n._popupHeader=document.getElementById("authPopupHeader");n._popupSubHeader=document.getElementById("authPopupSubHeader");n._popupBody=document.getElementById("authPopupBody");n._popupButtonOK=document.getElementById("authPopupButton1");n._popupButtonCancel=document.getElementById("authPopupButton2")}var r,n,t=[];return r=function(){var i,r=0,u=t.length;for(i=n._popupBody.cloneNode(!1),n._popupBody.parentNode.replaceChild(i,n._popupBody),n._popupBody=i,i=n._popupButtonOK.cloneNode(!1),n._popupButtonOK.parentNode.replaceChild(i,n._popupButtonOK),n._popupButtonOK=i,n._popupIcon.style.display="none",n._popupHeader.style.display="none",n._popupSubHeader.style.display="none",n._popupButtonOK.style.display="none",n._popupButtonCancel.style.display="none",n._popupButtonOK.onClick=null,n._popupButtonCancel.onClick=null,r;r<u;r++)t[r].call();t=[]},i.prototype.isPopUpDisplayed=!1,i.prototype.createDialog=function(i){r();var u=n._element;i.style&&b365Mobile.utils.addOrAppendClass(u,i.style);i.iconstyle&&(b365Mobile.utils.addOrAppendClass(n._popupIcon,i.iconstyle),n._popupIcon.style.display="",t.push(function(){b365Mobile.utils.removeClass(n._popupIcon,i.iconstyle)}));i.title&&(n._popupHeader.innerHTML=i.title.text,n._popupHeader.style.display="",i.title.style&&(b365Mobile.utils.addOrAppendClass(n._popupHeader,i.titlestyle),t.push(function(){b365Mobile.utils.removeClass(n._popupHeader,i.titlestyle)})));i.subtitle&&(n._popupSubHeader.innerHTML=i.subtitle,n._popupSubHeader.style.display="");i.initialisebody&&i.initialisebody(n._popupBody);i.okbutton&&(i.okbutton.initialise?i.okbutton.initialise(n._popupButtonOK,i.okbutton):n._popupButtonOK.innerHTML=i.okbutton.text,n._popupButtonOK.style.display="",n._popupButtonOK.onclick=i.okbutton.handler,i.okbutton.style&&(b365Mobile.utils.addOrAppendClass(n._popupButtonOK,i.okbutton.style),t.push(function(){b365Mobile.utils.removeClass(n._popupButtonOK,i.okbutton.style)})));i.cancelbutton&&(n._popupButtonCancel.innerHTML=i.cancelbutton.text,n._popupButtonCancel.style.display="",n._popupButtonCancel.onclick=i.cancelbutton.handler,i.cancelbutton.style&&(b365Mobile.utils.addOrAppendClass(n._popupButtonCancel,i.cancelbutton.style),t.push(function(){b365Mobile.utils.removeClass(n._popupButtonCancel,i.cancelbutton.style)})));b365Mobile.utils.addOrAppendClass(u,"showPopUp");b365Mobile.popUpOverlay.overlay(!0,!1,!1,!1);n.isPopUpDisplayed=!0},i.prototype.close=function(){n.isPopUpDisplayed&&(b365Mobile.utils.removeClass(n._element,"showPopUp"),b365Mobile.utils.hasClass(n._element,"lgi-inProgress")&&b365Mobile.utils.removeClass(n._element,"lgi-inProgress"),b365Mobile.popUpOverlay.overlay(!1),n.isPopUpDisplayed=!1)},i}();b365Mobile.authPopup=new b365Mobile.AuthPopup;b365Mobile.account=function(){"use strict";var b,k,tt,f,it,rt,ut,e,ft,h,d,a,v,et,g,y=!1,ui,ot,st,ht,o,ct,lt,at,u,vt,s={MY_TEAMS:0,STREAM:1,OTHERS_ON_REQUEST:2},yt,pt,wt,bt,kt,dt,nt=!1,c=null,i=null,p=!1,gt,l=!1,w,ni,r,ti,ii,ri,t,n;return b=function(n){var i,t=document.getElementById("LogInContainer"),e=document.getElementById("PopUp_UserName"),o=b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.getAAATvalue("un"),r=!0,h=device.iosDevice&&device.osVersion==4;h||(t.className=t.className+" hm-LoginPromptContainer-fixed");$(t).off("click").on("click",function(){return f(!0),b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.setStopTouchIdDialogFlag(""),!1});nt?setTimeout(function(){t.className.indexOf("hm-LoginPromptContainerClosed")>-1&&(t.className=t.className.replace(" hm-LoginPromptContainerClosed",""))},250):t.className.indexOf("hm-LoginPromptContainerClosed")>-1&&(t.className=t.className.replace(" hm-LoginPromptContainerClosed",""));i=$("#LogInPopUp");i.addClass("state-ShowingLogin");device.isAndroid&&+device.osVersion.split(".")[0]<3&&setTimeout(function(){document.body.style.overflow="hidden";document.body.style.height=i.height()+60+"px"},16);window.bsApp.bsContext.ClientEnhancedMode()&&window.betslipTabController.hide();i.addClass(tt(n));device.isOperaMini||(it(),rt());i.off("click").on("click",function(n){(n.target.getAttribute("data-nav")||n.target.getAttribute("data-externallinktype"))&&(b365Mobile.navigation.processNav(n.target),n.preventDefault());n.stopPropagation()});ii();window.device&&window.device.isAndroid&&n===s.STREAM?window.setTimeout(function(){k()},300):k();(n===s.OTHERS_ON_REQUEST||window.device.iosDevice)&&window.scrollToTop();o&&(e.value=o,r=!1);$(e).off("click").on("click",function(){e.focus()});u(e,r);r=!r;u(document.getElementById("PopUp_Password"),r);y=!0},ii=function(){if(!t){t=document.createElement("div");t.className="hm-HeaderMask";$(t).off("click").on("click",function(){return f(!0),b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.setStopTouchIdDialogFlag(""),!1});document.body.appendChild(t)}t.className=t.className.replace("hidden","")},ri=function(){t&&(t.className+=" hidden")},k=function(){$("#overlay").off("click").on("click",function(){return f(!0),b365Mobile.alternativeAuth.setStopTouchIdDialogFlag(""),!1})},tt=function(n){return n===s.STREAM?"showPopUp PopUpWithHeader MsgStream":n===s.MY_TEAMS?"showPopUp PopUpWithHeader MsgTeam":n===s.OTHERS_ON_REQUEST?"showPopUp PopUpWithHeader MsgOthersOnRequest":"showPopUp"},f=function(n){if(n&&$(document).trigger("loginpopupclosed"),y){var t,i=document.getElementById("LogInContainer");nt=!0;$(i).off("click");t=$("#LogInPopUp");t.removeClass("state-ShowingLogin");device.isAndroid&&+device.osVersion.split(".")[0]<3&&(document.body.style.overflow="",document.body.style.height="");t.removeClass("showPopUp state-FailedLogin LostLogIn PopUpWithHeader MsgStream MsgTeam MsgOthersOnRequest");ri();t.find("#PopUp_UserName").val("");t.find("#PopUp_Password").val("");y=!1;setTimeout(function(){i.className.indexOf("hm-LoginPromptContainerClosed")==-1&&(i.className=i.className+" hm-LoginPromptContainerClosed");nt=!1;b365Mobile.account.loginTogglePassword(!1);window.betslipTabController&&betslipTabController.show()},250)}},it=function(){Modernizr.placeholder||window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.forms],function(){window.b365Mobile.forms.setTextFieldPlaceHolder();window.b365Mobile.forms.setPasswordFieldPlaceHolder()},[],this)},rt=function(){$("#PopUp_UserName,#PopUp_Password").focus(function(n){b365Mobile.keyboard.FieldFocusHandler().clear(n.target)})},kt=function(n){b365Mobile.alternativeAuth||(b365Mobile.alternativeAuth=new b365Mobile.AlternativeAuth,b365Mobile.alternativeAuth.initalise());b365Mobile.alternativeAuth.registerCallback(function(){b365Mobile.alternativeAuth.hasAlternativeAuthEnabled()?b365Mobile.alternativeAuth.getTouchIdActive()?(b365Mobile.fingerprintController||(b365Mobile.fingerprintController=new b365Mobile.FingerprintController(b365Mobile.authPopup)),b365Mobile.fingerprintController.appTouchLogin()):b365Mobile.alternativeAuth.getKMLActive()?b365Mobile.kmlController.kmlLogin():b365Mobile.alternativeAuth.getPasscodeActive()&&(b365Mobile.passcodeController||(b365Mobile.passcodeController=new b365Mobile.PasscodeController,b365Mobile.passcodeController.initialise()),b365Mobile.passcodeController.showPasscodeLogin()):b(n)})},ut=function(t){var i,r,u,s=!1,o,h;i=document.getElementById("PopUp_UserName").value;r=document.getElementById("PopUp_Password").value;u=document.getElementById("PopUp_KML");u&&(s=u.checked);o=document.getElementById("LogInPopUp");h=$("#LogInPopUp");h.removeClass("state-FailedLoginAnimation");i&&i.length>=1&&r&&r.length>=1?(n=setTimeout(function(){n=null;f(!1);b365Mobile.popUpOverlay.overlay(!0,!0,!1,!1)},200),e(i,r,o,s,!1)):setTimeout(function(){a(o)},0);t&&b365Mobile.utils.preventDefaultEvents(t)},ni=function(){var n=document.getElementById("preLoadOuter"),t=document.getElementById("preLoadLabel"),i=pageYOffset||(document.documentElement.clientHeight?document.documentElement.scrollTop:document.body.scrollTop);n.style.height=clientViewport().height+"px";n.style.top=i+"px";n.style.display="block";n.setAttribute("onclick","return false;");(Modernizr.usecssscolling||Modernizr.usecssscrolling||device.isAndroid)&&n.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)});t.style.display="block"},r=function(){var n=document.getElementById("preLoadOuter"),t=document.getElementById("preLoadLabel");t.style.display="none";n.style.display="none"},yt=function(n){b365Mobile.popUpOverlay.overlay(!0,!0,!1,!1);e("","","",!1,!1,n)},pt=function(n){b365Mobile.popUpOverlay.overlay(!0,!0,!1,!1);e("","","",!1,!1,n)},wt=function(){p=!0;b365Mobile.popUpOverlay.overlay(!0,!0,!1,!1);e("","","",!1,!0,"")},bt=function(){(b365Mobile.alternativeAuth.getKMLActive()||l)&&(l=!0,p=!0,ni(),e("","","",!1,!0,""))},e=function(n,t,i,u,f,e){var s,y=0,w=!1,p=!1,b=!1,o={},k=MembersUrls.login,c={Mobile:2,SportsiOSApp:15,SportsAndroidApp:16,SportsWindowsApp:17,SportsWindowsUniversalApp:18},l=c.Mobile;ft();b365Mobile.alternativeAuth&&(w=b365Mobile.alternativeAuth.getTouchIdActive(),p=b365Mobile.alternativeAuth.hasAlternativeAuthEnabled(),b=b365Mobile.alternativeAuth.getPasscodeActive());p||(o.txtUsername=n,o.txtPassword=encodeURIComponent(t));o.txtTKN=b365Mobile.utils.getCookie("pstk");o.txtType=sProps.lp.type;w&&(y=b365Mobile.alternativeAuth.isFinger()?b365Mobile.alternativeAuth.LP_LOGIN_METHOD_FINGER:b365Mobile.alternativeAuth.LP_LOGIN_METHOD_TOUCH,o.Pin=e);b&&(y=b365Mobile.alternativeAuth.LP_LOGIN_METHOD_PASSCODE,o.Pin=e);f&&(y=b365Mobile.alternativeAuth.LP_LOGIN_METHOD_KML);u&&(o.AuthenticationMethod=b365Mobile.alternativeAuth.LP_LOGIN_METHOD_KML);p&&(o.AuthenticationMethod=y,o.AuthenticationToken=b365Mobile.alternativeAuth.retrieveAuthToken());o.DeviceId=b365Mobile.alternativeAuth.retrieveDeviceId();sProps.geoLocCode&&(o.txtLCNOVR=sProps.geoLocCode);s=window.device.appVersion||window.sProps.appVersion&&window.device.isWindowsPhone;s&&s!=""&&(window.device.iosDevice?(s="i_"+s.join("."),l=c.SportsiOSApp):window.device.isAndroid?(s="a_"+s.join("."),l=c.SportsAndroidApp):window.sProps.appType==="windowsapp"?(s="w_"+s,l=c.SportsWindowsApp):(s="u_"+s,l=c.SportsWindowsUniversalApp),o.txtFlashVersion=s);o.platform=l;$.ajax({headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache",Pragma:"no-cache"},type:"POST",dataType:"json",url:k,data:o,cache:!1}).always(function(n){if(n){var c=n.standardAtTkn?n.standardAtTkn:n.alternateAtTkn,b=n.standardAtTknExpires?n.standardAtTknExpires:n.alternateAtTknExpires,t=n.authenticationMethodNotAllowed,l=n.deviceId,e=n.noPinSet,o=n.exceededAttempts,y=sProps.user.membersNotificationsRequired=n.notificationsRequired,s=n.kyc==!0||n.secondaryAuth==!0,p=n.authenticationStatus,w=window.location.hash.replace(/;/g,"|");if(!p||p==="NotAuthenticated"){if(b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.hasAlternativeAuthEnabled()){if(b365Mobile.alternativeAuth.getKMLActive()&&(b365Mobile.kmlController&&b365Mobile.kmlController.authenticationFailed(),v()),b365Mobile.alternativeAuth.getTouchIdActive()){if(o||e){b365Mobile.fingerprintController&&b365Mobile.fingerprintController.authenticationFailed();return}if(t){b365Mobile.fingerprintController&&b365Mobile.fingerprintController.touchNotAllowed();return}b365Mobile.fingerprintController&&b365Mobile.fingerprintController.authenticationFailed()}b365Mobile.alternativeAuth.getPasscodeActive()&&(o||e||t?b365Mobile.passcodeController&&b365Mobile.passcodeController.authenticationFailed():b365Mobile.passcodeController&&b365Mobile.passcodeController.incorrectPasscode())}else y||s?(window.sProps.availLoginTypes=[],siteDataSession.setItem("authTypes",""),h(i)):a(i);Overlay(0,0);r();return}if((y||s)&&(b365Mobile.alternativeAuth.setSuppressAltAuthPrompt(!0),window.siteViewController.isInitialViewNarrow&&s&&siteDataSession.setItem("kycOrSecondAuthPrevPage",w)),b365Mobile.alternativeAuth.getTouchIdActive()){if(o||e){b365Mobile.fingerprintController.authenticationFailed();return}if(t){b365Mobile.fingerprintController.touchNotAllowed();return}}(o||e||t)&&b365Mobile.alternativeAuth.getPasscodeActive()&&b365Mobile.passcodeController&&b365Mobile.passcodeController.authenticationFailed();u&&n.alternateAtTkn&&b365Mobile.alternativeAuth.enableKML();c&&b365Mobile.alternativeAuth.storeAuthToken(c);l&&b365Mobile.alternativeAuth.storeDeviceId(l,"account.memberslogin");u||f||(window.sProps.availLoginTypes=[],siteDataSession.setItem("authTypes",""));h(i)}})},ft=function(){c=null;i=null},o=function(n,t){if(document.getElementById(n))return t.call();setTimeout(function(){o(n,t)},60)},h=function(t){var o,u={},f,e;if(!(window.location.hash.indexOf("key=secondary")>-1)&&!(window.location.hash.indexOf("key=hopper")>-1)){if(siteDataSession.setItem("passcodeJustLoggedIn","true"),o="account/LogInResult.aspx",e=window.location.hash,e.length>0&&(u.target=b365Mobile.hash.encodeHashForQSParamValue(e)),u.dt=siteViewController.isInitialViewWide?"w":"n",siteDataLocal.getItem("appType")&&(u.apptype=siteDataLocal.getItem("appType")),siteDataLocal.getItem("appVersion")&&(u.appversion=siteDataLocal.getItem("appVersion")),b365Mobile.alternativeAuth&&(b365Mobile.alternativeAuth.retrieveAuthToken()&&b365Mobile.alternativeAuth.retrieveAuthToken()!="null"&&(u.at=b365Mobile.alternativeAuth.retrieveAuthToken()),b365Mobile.alternativeAuth.retrieveDeviceId()&&b365Mobile.alternativeAuth.retrieveDeviceId()!="null"&&(u.di=b365Mobile.alternativeAuth.retrieveDeviceId()),b365Mobile.alternativeAuth.retrieveUserName()&&(u.un=b365Mobile.alternativeAuth.retrieveUserName())),f=JSON.stringify(u),c&&c===f){i&&setTimeout(function(){d(i.data,i.textStatus,i.jqXhr,i.logInFormContainer)},0);return}c=f;i=null;$.ajax({headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache",Pragma:"no-cache"},type:"POST",url:o,data:u,cache:!1}).done(function(n,r,u){c=f;i={data:n,textStatus:r,jqXhr:u,logInFormContainer:t};d(n,r,u,t)}).fail(function(){n&&(n=clearTimeout(n),n=null);Overlay(0,0);r();findOverlayPopupElement()&&b365Mobile.utils.RemoveElement(OVERLAYPOP_ELEMENT_ID)})}},d=function(t,i,u,f){var c,s,e,p,h=window.location.host.split(".").pop(),y=!1,b,k;if(n&&(n=clearTimeout(n),n=null),c=null,s=u.getResponseHeader("X-b365-Location"),c=window.checkScriptHeaders(u),e=null,u.getResponseHeader("X-b365-AppStatus")&&(p=u.getResponseHeader("X-b365-AppStatus").split(","),e=p[p.length-1].trim()),c!=="")window.location=c;else if(s)s.indexOf(MembersUrls.secondaryOrKyc)>-1?(b=e!=="loginfailed"&&e!=="retryloggin",r(),k="secondary",bsApp.dialogueController&&bsApp.dialogueController.active()&&bsApp.dialogueController.resetAndShowBar(!1),window.membersRedirect.redirect(k,s,b)):window.location=s;else{e!==null&&onAjaxResponse(e);switch(e){case"loginfailed":s||(b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.hasAlternativeAuthEnabled()?dt():a(f),r());break;case"retryloggin":Overlay(0,0);r();closelogInPopUp();logInProcess();break;default:b365Mobile.account.hideLogInPopUp(!1);siteDataSession.setItem("ShowBalancePopup","false");window.location.hash.indexOf("type=Members")!==-1||l||window.instantGamesController&&window.instantGamesController.launchPending||(y=!0);!y&&l&&sProps.user.membersNotificationsRequired&&(y=!0);l=!1;h=="es"||h=="gr"||h=="dk"||h=="au"||h=="it"||Overlay(0,0);r();o("AcLng",function(){var n=document.getElementById("AcLng").value;sProps.LangID!==n&&(sProps.languageChanged=!0,sProps.LangID=n)});o("mips",function(){window.mips=sProps.mips});o("mipsli",function(){window.mipsli=document.getElementById("mipsli").value});o("ctf",function(){sProps.ct=document.getElementById("ctf").value});mipsli>0&&siteDataSession.setItem("mips",mipsli);window.mips&&window.mips>0&&siteDataSession.setItem("mips",window.mips);window.mips=siteDataSession.getItem("mips");Inactivity.InitPageCIT("Account/GetInactivityTimeout.aspx?mips="+window.mips,MembersUrls.logout);document.getElementById("betSlipHolder")&&bs.restoreFromEscapedJSONString(document.getElementById("betSlipHolder").innerHTML);findOverlayPopupElement()&&b365Mobile.utils.RemoveElement(OVERLAYPOP_ELEMENT_ID);y&&v();w&&(w(),w=null)}}},a=function(t){var i,r;n&&(n=clearTimeout(n),n=null);i=document.getElementById("PopUp_KML");i&&(i.checked=!1);b365Mobile.popUpOverlay.overlay(!1,!1);b365Mobile.utils.addOrAppendClass(t,"state-FailedLogin");b365Mobile.utils.addOrAppendClass(t,"state-FailedLoginAnimation");r=$("#LogInPopUp");r.find("#PopUp_UserName").val("");r.find("#PopUp_Password").val("");b365Mobile.account.logInPopUp()},dt=function(){b365Mobile.fingerprintController&&b365Mobile.fingerprintController.authenticationFailed();b365Mobile.kmlController&&b365Mobile.kmlController.authenticationFailed()},gt=function(n){var t,i;if(w=n,b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.getKMLActive()){bt();return}t=Math.floor((new Date).getTime()/1e3);ns_gen5_ui.Application.currentApplication.suspended?(i=new ns_gen5_util.Delegate(window,b365Mobile.account.sessionExpired),ns_gen5_ui.Application.currentApplication.addEventListener(ns_gen5_events.ApplicationEvent.FOCUS_IN,i)):window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"&cb="+t+window.location.hash},v=function(){var r="",u="",n,t,i,f;closelogInPopUp();pageType&&pageType.toLowerCase()==="login"?(t=retrieveHash(),t.indexOf("type=Preferences")!==-1&&(t="")):t=window.location.hash;n=new Hash(t);n.LangID=sProps.LangID;p&&(n.autoLogin="1");typeof n.Type!="undefined"&&(r=n.Type);typeof n.Key!="undefined"&&(u=n.Key);sProps.instantBet?(i="AddToInstantBetSlip.aspx",r="BetSlip"):i="default.aspx";i+="?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"&"+GetCacheBreakParam();f=t.indexOf("More")!=-1||r.toLowerCase()=="login"?i+"#type=Home;key="+u+(p&&";ali=1"):ns_moblib_util_managers.MobileNavigationManager&&ns_moblib_util_managers.MobileNavigationManager.CurrentPageData?i+window.location.hash:i+b365Mobile.hash.getHashAsString(n);sProps.user.membersNotificationsRequired||siteDataSession.setItem("showBetSlip",!0);window.location=f},et=function(){sProps.user.secondAuth&&(siteDataSession.setItem("secAuthLaunched",!0),h())},g=function(){return!/^(ok|loginfailed|notloggedin|error)$/.test(window.sProps.AppStatus.toLowerCase())},ui=function(n,t,i,r){var u,f;u=$(document.getElementById("LogInPopUp")).find("form");u.eq(0).find("#PopUp_UserName").val(n);u.eq(0).find("#PopUp_Password").val(t);f=u[0];f.method="POST";f.action=r+"/LIB.aspx";f.submit()},ot=function(n){var i,f,e,o,s,t,h,u,r,c;if(!isNaN(n)&&(f="aps03",e="ct=",o="&",s=e+n,i=b365Mobile.utils.getCookie(f),i)){for(t=i.split(o),u=!1,r=0,c=t.length;r<c;r++)if(h=t[r],u=h.indexOf(e)==0,u){t[r]=s;break}u||t.push(s);i=t.join(o);b365Mobile.utils.createCookie(f,i,3650)}},st=function(){window.membersRedirect.redirect("join")},ht=function(n){var i,t;window.siteDataSession.setItem("ShowBalancePopup","true");window.siteDataSession.setItem("InstantBetLoggedInPopupShowed","");b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.setStopTouchIdDialogFlag("");window.mips=-1;window.Overlay(1,1);window.memberMenuController&&window.memberMenuController.clearSessionState();i=function(){window.bsApp.removeBets();siteDataSession.setItem("touchprompted","");b365Mobile.alternativeAuth&&(b365Mobile.alternativeAuth.setSuppressAltAuthPrompt(!1),b365Mobile.alternativeAuth.disableKML());ns_moblib_util_managers.FloatingNativeVideoController.DestroyFloatingNativeVideo();n?n():(t="Default.aspx?ot="+window.sProps.ot+"&apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion"),window.sProps.instantBet&&(t="AddToInstantBetSlip.aspx?ot="+window.sProps.ot+"&apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+"#type=LogOut;key=;ip=0;lng="+window.sProps.LangID),window.location.href=t)};window.ajaxGet(null,i,null,MembersUrls.logout);window.mipscd=0},ct=function(n){var t=document.getElementById("PopUp_Password");(typeof n=="undefined"||n===null)&&(n=t.type==="password");t.type=n?"text":"password";u(t)},lt=function(){var n=document.getElementById("PopUp_UserName");n.value="";b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.clearUserName();u(n)},at=function(){var n=document.getElementById("PopUp_Password");n.value="";u(n)},u=function(n,t,i){var u,r,f;n&&((t===undefined||t===null)&&(t=!0),u=!!n.target,r=u?n.target:n,f=r.parentElement.children[r.parentElement.children.length-1],(typeof i=="undefined"||i===null)&&(i=r.value.length===0),i?b365Mobile.utils.addOrAppendClass(f,"hm-LoginPrompt_Hidden"):b365Mobile.utils.removeClass(f,"hm-LoginPrompt_Hidden"),!u&&t&&r.focus())},vt=function(){var n=document.getElementById("PopUp_KML");n.checked=!n.checked},ti=function(){var n=document.getElementById("LogInPopUpBttnFallback"),t=document.getElementById("LogInPopUpBttn");window.mobileBusinessRules.useFallbackLoginButton()?(n.className=n.className.replace(" hm-LoginPrompt_SubmitBtnHidden",""),t.className=t.className+" hm-LoginPrompt_SubmitBtnHidden"):(n.className=n.className+" hm-LoginPrompt_SubmitBtnHidden",t.className.replace(" hm-LoginPrompt_SubmitBtnHidden",""))},{get loginMessage(){return s},logInPopUp:function(n){kt(n);sProps.instantBet||window.headerController.removeProductNav()},standardLogin:function(){b()},hideLogInPopUp:function(n){f(n)},logInProcess:function(){ut()},logInContinue:function(){v()},membersloginresults:function(n){h(n)},handleSecondaryAuthentication:function(){et()},setCountryIdCookie:function(n){ot(n)},joinNow:function(){st()},isUserLoggedIn:function(){return g()},checkLoginStatus:function(){$("html").toggleClass("loggedin",g())},logOut:function(n){ht(n)},kmlLogin:function(){wt()},hideAutoLoginOverlay:function(){r()},loginWithTouch:function(n){yt(n)},loginWithPasscode:function(n){pt(n)},loginTogglePassword:function(n){ct(n)},loginClearUserName:function(){lt()},loginClearPassword:function(){at()},toggleLoginIcons:function(n,t,i){u(n,t,i)},loginToggleKMLCheckbox:function(){vt()},sessionExpired:function(n){gt(n)},isLoginPopUpDisplayed:function(){return y},setupLoginPopup:function(){ti()}}}();b365.MembersRedirect=function(){function n(n){this._isInstantBet=n||!1}var t="membersIFrameUrl";return n.prototype._siteSuppressed=!1,n.prototype.redirect=function(n,i,r){var f,u;r=r||!1;n==="lostlogin"||window.siteViewController.isInitialViewWide?(f=this._getRedirectPath(n,i,!1),window.location.href=f):(typeof window.sportsUIController!="undefined"&&window.sportsUIController.disposeView(),i&&i.length>0&&siteDataSession.setItem(t,i),r?(u=new Hash(window.location.hash),u.Type="Members",u.Key=n,this.doSiteRefresh(u.toString())):newPage("Members",n,!1,sProps.LangID))},n.prototype.loadIFrame=function(n,i){var u,f,r;n==="hopper"?(f=window.location.protocol+"//"+window.location.host,u=f+URL_HostedRedirect.value):(r=siteDataSession.getItem(t),r&&r.length>0&&(r=decodeURIComponent(r),siteDataSession.setItem(t,"")),u=this._getRedirectPath(n,r,!0));this._constructIframe(u,i)},n.prototype.removeIFrame=function(n){var i=document.getElementById("MembersIframe"),e=!0,o,t,r=null,u,f;if(i){if(sProps.user.membersNotificationsRequired&&(f=document.getElementsByClassName("membersNotifications-overlay")[0],f.parentElement.removeChild(f),b365Mobile.utils.removeClass(i,"membersNotifications"),sProps.user.membersNotificationsRequired=!1),i.parentElement.removeChild(i),(window.location.hash.indexOf("key=secondary")>-1||window.sProps.instantBet)&&(e=!1),e&&hashHistory&&hashHistory.length>0)for(t=hashHistory.length;t>0&&r===null;)t--,hashHistory[t].indexOf("type=Members")===-1&&(u=hashHistory[t].split("#"),r=u[1]?u[1]:"");r!=null?t!=hashHistory.length-2||n?this.doSiteRefresh(r):(o=i.getAttribute("data-history-length"),steps=parseInt(o,10)-window.history.length-1,window.goBack(steps)):this.doSiteRefresh("")}},n.prototype.doSiteRefresh=function(n,t){var i="";(n===undefined||n===null)&&(n=window.location.hash);n.length>0&&n.substr(0,1)!=="#"&&(n="#"+n);t&&(utcNow=Math.floor((new Date).getTime()/1e3),i="&cb="+utcNow);window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+i+n},n.prototype.ensureIframeCleanup=function(){window.messageBrokers.messageBroker&&window.messageBrokers.messageBroker.clearTargetWindow();this.unSuppressSite()},n.prototype.suppressSite=function(){this._siteSuppressed=!0;!this._isInstantBet&&window.headerController&&window.headerController.suppress();this._isInstantBet||b365Mobile.utils.addOrAppendClass(document.getElementById("wrapper"),"headerHidden");window.bsApp.bsContext.ClientEnhancedMode()?(window.betslipTabController.setVisible(!1),this.setQuickBetVisible(!1)):b365Mobile.utils.addOrAppendClass(document.getElementById("betslipBar"),"betslipBar-Hidden");this._isInstantBet&&(b365Mobile.utils.addOrAppendClass(document.getElementById("HeaderBasic"),"HeaderBasic-Hidden"),b365Mobile.utils.addOrAppendClass(document.getElementById("HeaderLogin"),"HeaderLogin-Hidden"),b365Mobile.utils.addOrAppendClass(document.getElementById("balanceHeader"),"balanceHeader-Hidden"));b365Mobile.footer&&b365Mobile.footer.suppress()},n.prototype.unSuppressSite=function(){this._siteSuppressed=!1;!this._isInstantBet&&window.headerController&&window.headerController.unSuppress();this._isInstantBet||b365Mobile.utils.removeClass(document.getElementById("wrapper"),"headerHidden");window.bsApp&&window.bsApp.bsContext.ClientEnhancedMode()?(window.betslipTabController.setVisible(!0),this.setQuickBetVisible(!0)):b365Mobile.utils.removeClass(document.getElementById("betslipBar"),"betslipBar-Hidden");this._isInstantBet&&(b365Mobile.utils.removeClass(document.getElementById("HeaderBasic"),"HeaderBasic-Hidden"),b365Mobile.utils.removeClass(document.getElementById("HeaderLogin"),"HeaderLogin-Hidden"),b365Mobile.utils.removeClass(document.getElementById("balanceHeader"),"balanceHeader-Hidden"));b365Mobile.footer&&b365Mobile.footer.unSuppress()},n.prototype.isSiteSuppressed=function(){return this._siteSuppressed},n.prototype.setQuickBetVisible=function(n){window.quickBetController&&window.quickBetController.setVisibile(n)},n.prototype._constructIframe=function(n,t){var f,i,r,u;if(Overlay(1,1),f=this._isInstantBet?"bsDiv":"Main",r=document.getElementById(f),window.sportsUIController&&(window.sportsUIController.isInplayEventViewLoaded||window.sportsUIController.isInplayOverviewLoaded)&&window.sportsUIController.disposeView(),this._setBetslipBarCache(),!t)while(r.lastChild)r.removeChild(r.lastChild);this._restoreBetslipBar(r);i=document.createElement("iframe");i.setAttribute("id","MembersIframe");i.onload=function(){window.Overlay(0,0);b365Mobile.utils.preLoadLoaded()};i.setAttribute("data-history-length",window.history.length);i.setAttribute("src",n);t?(u=document.createElement("div"),u.className="membersNotifications-overlay",document.body.appendChild(u),document.body.appendChild(i),b365Mobile.utils.addOrAppendClass(i,"membersNotifications"),document.documentElement.className.indexOf("no-cssvhunit")>-1&&(i.style.height=clientViewport().height+"px")):r.appendChild(i);window.memberMenuController&&window.memberMenuController.toggle(!1);window.scrollTo(0,0)},n.prototype._setBetslipBarCache=function(){window.bsApp&&!window.bsApp.bsContext.ClientEnhancedMode()&&(betslipBarCache&&betslipBarCache.length!=0||(betSlipBarCloneElement=document.getElementById("betslipBarClone"),betSlipBarCloneElement&&(betSlipBarCloneElement.setAttribute("id","betslipBar"),betSlipBarCloneElement.removeAttribute("style"),betslipBarCache=$(betSlipBarCloneElement),betSlipBarCloneElement.parentNode.removeChild(betSlipBarCloneElement)),betSlipBarCloneElement=null))},n.prototype._restoreBetslipBar=function(n){var t;window.betslipBarCache&&window.betslipBarCache.length>0&&!document.getElementById("betslipBar")&&(t=document.createElement("div"),t.innerHTML=window.betslipBarCache[0].outerHTML,n.appendChild(t.firstChild),window.bsApp.updateBetslipBar(bsApp.betCount),window.bsApp.setBetslipBarDisplay())},n.prototype._getRedirectPath=function(n,t,i){var r,u={Mobile:2,SportsiOSApp:15,SportsAndroidApp:16,SportsWindowsApp:17,SportsWindowsUniversalApp:18},e=u.Mobile,f;if(i=i||!1,t&&t.length>0)r=t;else{r=window.location.protocol+"//"+window.location.host.replace("mobile","members");switch(n){case"join":r+=URL_Join.value;break;case"members":r+=URL_Members.value;break;case"deposit":r+=URL_Deposit.value;break;case"verify":r+="/home/mainpage.asp?ibpid=12102";break;case"bank":r+=URL_Bank.value;break;case"history":r+=URL_History.value;break;case"lostlogin":r+=URL_LostLogin.value;break;case"Preferences":r+=URL_Preferences.value;break;case"messages":r+=URL_Messages.value;break;case"secondary":r=URL_SecondaryOrKYC.value;case"membersnotifications":r=MembersUrls.notifications}}return r+=r.indexOf("?")==-1?"?":"&",i?(r+="prd=1",bsApp&&(r+="&bs="+bsApp.betCount),r+=sProps.instantBet?n=="members"?"&im=true":"&i=true":"&i=false",r+="&mh=1"):r+="prd=1&isb=0&lng="+window.sProps.LangID+"&oty=1&cnt=Sports%2f+Splash&rurl="+encodeURIComponent(location.href.replace("&#","#"))+"&isps=1",sProps.geoLocCode&&(r+="&txtLCNOVR="+sProps.geoLocCode),(n=="join"||n=="lostlogin")&&(f=window.device.appVersion||window.sProps.appVersion&&window.device.isWindowsPhone,f&&f!=""&&(e=window.device.iosDevice?u.SportsiOSApp:window.device.isAndroid?u.SportsAndroidApp:window.sProps.appType==="windowsapp"?u.SportsWindowsApp:u.SportsWindowsUniversalApp),r+="&platform="+e),r},n}();b365Mobile.SessionManager=function(){function t(){n=this}var n,i="REAUTH_COMPLETE";return t.prototype._refreshing=!1,t.prototype.initialised=!1,t.prototype.servertimeUTC=null,t.prototype.sessionExpiry=null,t.prototype.sessionInactiveTimeOut=null,t.prototype.offset=null,t.prototype.initialise=function(){if(!sProps.user.membersNotificationsRequired){var t=window.messageBrokers.messageBroker;t&&t.addHandler(new b365.MessageBroker.MessageHandler(i,n._checkSession));n.servertimeUTC=new Date(Date.UTC.apply(window,window.EventTimerProperties.pageLoadedEpoch.split("#").map(Number))).getTime();n.offset=n.servertimeUTC-Date.now();n.sessionExpiry=window.sProps.sessionExpiry*1e3;n.sessionInactiveTimeOut=window.sProps.sessionInactiveTimeOut*1e3;n.checkSessionExpiry();n.initialised=!0}},t.prototype.checkSessionExpiry=function(){if(n.sessionExpiry>0){var t=Date.now()+n.offset,i=t>n.sessionExpiry,r=t>n.sessionInactiveTimeOut;if(!n._refreshing&&b365Mobile.memberOperations&&window.location.hash.indexOf("type=Members")===-1){if(i){n._sessionExpired();return}if(r){n._checkSession();return}}window.setTimeout(n.checkSessionExpiry,1e4)}},t.prototype._sessionExpired=function(){n._refreshing=!0;b365Mobile.account.sessionExpired(n._checkSession)},t.prototype._checkSession=function(){b365Mobile.memberOperations.CheckSession(function(t){if(t.Success){if(!t.Response.SessionValid||!t.Response.SessionAuthenticated&&window.b365Mobile.account.isUserLoggedIn()){n._sessionExpired();return}n.servertimeUTC=new Date(Date.UTC.apply(window,t.Response.ServerTime.split("#").map(Number))).getTime();n.offset=n.servertimeUTC-Date.now();n.sessionExpiry=t.Response.SessionExpiry*1e3;n.sessionInactiveTimeOut=t.Response.SessionInactiveTimeOut*1e3}n._refreshing=!1;window.setTimeout(n.checkSessionExpiry,1e4)})},t}();b365Mobile.sessionManager=new b365Mobile.SessionManager;b365Mobile.keyboard=function(){return{dismissKeyBoard:function(){document.activeElement.blur()},submitLoginForm:function(n){b365Mobile.account.toggleLoginIcons(n);this.isGoClicked(n)&&(this.dismissKeyBoard(),b365Mobile.utils.preventDefaultEvents(n),b365Mobile.account.logInProcess())},isGoClicked:function(n){var t=n.keyCode?n.keyCode:n.charCode;return t===13?!0:!1},FieldFocusHandler:function(){return{clear:function(n){n.value.length===0&&(n.value="")}}}}}();b365Mobile.hash=function(){var n,t,i,r,u=/[\?&]xtarget=([^&#]*)/g;return n=function(n){var t="#";return n.Type!==undefined&&(t+="type="+n.Type),n.Key!==undefined&&(t+=";key="+n.Key),n.InPlay!==undefined&&(t+=";ip="+n.InPlay),n.splashTab!==undefined&&(t+=";sst="+n.splashTab),n.autoLogin!==undefined&&(t+=";ali="+n.autoLogin),t},i=function(){var i="",r,n,u,t;try{if(!(window.location.hash===null||window.location.hash.length===0))for(r=window.location.hash.split(";"),u=r.length,n=0;n<u;n++)if(t=r[n].split("="),t[0]==="key"){t[1]&&(i=t[1]);break}}catch(f){i=""}return i},t=function(){var i="0",r,n,u,t;try{if(!(window.location.hash===null||window.location.hash.length===0))for(r=window.location.hash.split(";"),u=r.length,n=0;n<u;n++)if(t=r[n].split("="),t[0]==="key"){isNaN(parseInt(t[1],10))||(i=parseInt(t[1]));break}}catch(f){i="0"}return i},r=function(n){var i="",u,r,f,t,e;if(n.indexOf("#")>0)i=n;else for(u=n.substring(1).substring(n.substring(1).indexOf("=")+1),r=u.split("-"),f=r.length,t=0;t<f;t++)e=t%2==0?"=":";",i+=r[t]+e;return"#"+i},{getHashAsString:function(t){return n(t)},getCurrentClassificationId:function(){return t()},getCurrentKey:function(){return i()},getformatedHash:function(n){return r(n)},isLocationHashValueEncodedInQueryString:function(n){var t=new RegExp(u).exec(n);return t?t[1].length>0:!1},getLocationHashValueFromQueryString:function(n){var t=new RegExp(u).exec(n);return t?t[1]:""},getDecodedLocationHashValueFromQueryString:function(n){var t=b365Mobile.hash.getLocationHashValueFromQueryString(n),i;if(t)returnVal=t.replace(/_EQ_/g,"=").replace(/_SC_/g,";");else{for(i=n.indexOf("xtarget=")+8,n=n.substring(i);n.indexOf("_EQ_")>-1;)n=n.replace("_EQ_","=");while(n.indexOf("_SC_")>-1)n=n.replace("_SC_",";");returnVal=n}return returnVal},convertUrlHashParamToHashLocation:function(n){var t=b365Mobile.hash.getDecodedLocationHashValueFromQueryString(n);return t.length===0?"":(n=n.replace(/([\?&])(xtarget=[^&#]*)(.*)/g,"$1$3"),n=n.replace(/(\?.*)(&&)(.*)/g,"$1&$3"),n=n.replace(/#.*[^?]$/,""),n.indexOf("?")>0?n=n.replace("?","#"+t+"?"):n+="#"+t,n)},encodeHashForQSParamValue:function(n){return n=n.replace("#",""),n=n.replace(/\=/g,"_EQ_"),n.replace(/;/g,"_SC_")}}}();b365Mobile.footer=function(){"use strict";var n="FooterContainer-Hidden",t="FooterContainer",i=function(){$("#Site").css({height:"",display:""});$("#MainSpacerElem").remove()};return{setFooter:function(){setTimeout(function(){i()},0)},clearStyles:function(){var n=document.getElementById("PageFooter"),t=document.getElementById("InPlay"),i=document.getElementById("Site");$(i).css({height:"",display:""});n&&(n.setAttribute("style",""),n.className="V6");t&&(t.style.minHeight="")},suppress:function(){var i=document.getElementById(t);i&&i.className.indexOf(n)==-1&&(i.className=i.className+" "+n)},unSuppress:function(){var i=document.getElementById(t);i&&i.className.indexOf(n)>-1&&(i.className=i.className.replace(" "+n,""))}}}(),function(n,t,i){n.fn.extend({V6Scroller:function(r){var e={itemsSelector:"li",itemParentSelector:"ul",itemSpacing:5,containerPadding:30,selectedItemSelector:".selected",arrowElementType:"<div />",leftArrowClass:"left-arrow",rightArrowClass:"right-arrow",arrowActiveClass:"arrow-active",showArrows:!0,showSelected:!0,swipeGestureMaxTime:500,swipeGestureMinDistance:10,setData:function(n,t,i){i.data(n,t)},getData:function(n,t){return t.data(n)},centerContent:!0},o=n.extend(e,r),u=10,f=16;return this.each(function(){var r=o,e=n(this),s=n(r.itemsSelector,e),b=n(r.itemParentSelector,e),w=function(){var u,n=r.getData("item-width",e)||0,i;if(n===0){if(!t.device.isWindowsPhone||t.device.isMicrosoftEdge||b.hasClass("scrollcontainer"))for(i=0;i<s.length;i++)u=(s[i].offsetWidth?s[i].offsetWidth:s[i].clientWidth)+r.itemSpacing,u>n&&(n=u);else n=70;r.setData("item-width",n,e)}return n},a=e.width()-r.containerPadding*2,h=Math.floor(a/w()),v=Math.ceil(s.length/h),l=+r.getData("current-page",e)||0,k=null,p=e.attr("id")=="meetingTimes",c=+e.data("leftmost-item")||0,nt=null,wt=function(){return Math.floor(a/w())},st=function(t){var i=f,r;for(c=0,y=t;y>=0;y--)if(r=+n(s.get(y)).data("width"),i=i+r+u,i>a){c=y+1;break}},ht=function(t){for(var r=0,f,i=t;i<s.length;i++)f=+n(s.get(i)).data("width"),r=r+f+u;return r>a},lt=function(){for(var r,i,t=0;t<s.length;t++)r=n(s.get(t)),+r.data("width")||(i=s.get(t).getBoundingClientRect(),i.right-i.left&&r.data("width",i.right-i.left))},d=function(){var e=(l+1)*h,d=e-h,o=s.length,t=0,i,v,y,k;if(p){for(t=0;t<c;t++)n(s.get(t)).css("display","none");for(i=f-30;t<s.length;t++)v=+n(s.get(t)).data("width"),i=i+v+u,i>a?n(s.get(t)).css("display","none"):n(s.get(t)).css("display","inline-block")}else if(r.showArrows){for(;t<d;t++)n(s.get(t)).css("display","none");for(;t<e&&t<o;t++)n(s.get(t)).css({display:"inline-block",float:"left"});for(;t<o;t++)n(s.get(t)).css("display","none")}else y=h*(w()-r.itemSpacing)*l,k="translateX(-"+y+"px)",b.css("transform",k)},g=function(){var t=n("."+r.leftArrowClass,e),i=n("."+r.rightArrowClass,e);p?(c>0?t.addClass(r.arrowActiveClass):t.removeClass(r.arrowActiveClass),ht(c)?i.addClass(r.arrowActiveClass):i.removeClass(r.arrowActiveClass)):v>1&&(l>0?t.addClass(r.arrowActiveClass):t.removeClass(r.arrowActiveClass),l<v-1?i.addClass(r.arrowActiveClass):i.removeClass(r.arrowActiveClass))},rt=function(t){var i,o,y,w;if(r.showSelected=!1,p){if(t===-1)c>0&&(st(c-1),e.data("leftmost-item",c),d(),g());else if(t===1)for(i=c,o=f;i<s.length;i++)if(y=+n(s.get(i)).data("width"),o=o+y+u,o>a){c=i;e.data("leftmost-item",c);d();g();break}}else v=Math.ceil(s.length/h),w=r.showArrows?t===1&&l<v-1:t===1&&l+1<v,(t===-1&&l>0||w)&&(l=l+t,r.setData("current-page",l,e),d(),g())},ut=function(){var t=s.index(n(r.selectedItemSelector,e));return t<0&&(t=0),t},ft=function(t){var u,o,f;if(r.showSelected){if(a=e.width()-r.containerPadding*2,h=r.showArrows?Math.floor(a/w()):Math.ceil(a/w()),l=Math.floor(t/h),p)u=e.width()-r.containerPadding*2-n("."+r.leftArrowClass,e).outerWidth()*2,a=u,st(t);else if(i.flexbox||i.flexboxlegacy){if(u=w()*h,document.getElementById("MarketsNavigation")||document.getElementById("toteLegs")||document.getElementById("scrollcontainer")){for(u=e.width()-r.containerPadding*2-n("."+r.leftArrowClass,e).outerWidth()*2,o=0,h=0,f=0;f<s.length;f++){if(o+=(s[f].offsetWidth?s[f].offsetWidth:s[f].clientWidth)+r.itemSpacing,o>u)break;h++}l=Math.floor(t/h)}b.css("display","inline-block")}else u=w()*h-r.itemSpacing*h,device.isOperaMini&&(u=u-n("."+r.leftArrowClass,e).outerWidth()*2);b.css("width",u);a=u}r.setData("current-page",l,e);e.data("leftmost-item",c);d();g()},ct=function(n){var t={};return n.originalEvent&&n.originalEvent.touches&&n.originalEvent.touches.length>0?(t.x=n.originalEvent.touches[0].pageX,t.y=n.originalEvent.touches[0].pageY):(t.x=n.pageX,t.y=n.pageY),t.time=Date.now(),t},at=function(n){var t=ct(n);r.setData(n.type,t,e)},vt=function(n){var t=ct(n);r.setData(n.type,t,e);yt(n)},yt=function(n){var t=r.getData("touchstart",e),i=r.getData("touchmove",e),o,u,f,s;t&&i&&(r.setData("touchstart",null,e),r.setData("touchmove",null,e),o=Math.abs(i.time-t.time),o<=r.swipeGestureMaxTime&&(u=t.x-i.x,f=Math.abs(u),s=u/f,f>=r.swipeGestureMinDistance&&(rt(s),n.stopPropagation(),n.preventDefault())))},tt=function(n){rt(-1);n.preventDefault()},it=function(n){rt(1);n.preventDefault()},pt=function(){if(p){if(!nt&&ns_gen5_util&&ns_gen5_util.Delegate&&ns_gen5_events&&ns_gen5_events.ApplicationEvent&&ns_gen5_ui&&ns_gen5_ui.Application&&ns_gen5_ui.Application.currentApplication&&ns_gen5_ui.Application.currentApplication.addEventListener){var u=ns_gen5_events.ApplicationEvent.WIDTH_CHANGED;nt=new ns_gen5_util.Delegate(e,function(){b.parent().length&&s.parent().length?k===null&&(k=t.setTimeout(function(){if(k=null,r.showSelected=!0,lt(),n("."+r.leftArrowClass,e).length===0)e.prepend(n(r.arrowElementType).addClass(r.leftArrowClass).off("click").on("click",tt));else n("."+r.leftArrowClass,e).off("click").on("click",tt);if(n("."+r.rightArrowClass,e).length===0)e.append(n(r.arrowElementType).addClass(r.rightArrowClass).off("click").on("click",it));else n("."+r.rightArrowClass,e).off("click").on("click",it);ft(ut())},600)):ns_gen5_ui.Application.currentApplication.removeEventListener(u,nt)});ns_gen5_ui.Application.currentApplication.addEventListener(u,nt)}}else n(t).off("orientationchange resize").on("orientationchange resize",function(){k===null&&(k=t.setTimeout(function(){k=null;r.showSelected=!0;ft(ut())},600))});if(i.touch){e.off("touchstart").on("touchstart",at);e.off("touchmove").on("touchmove",vt)}},y,et,ot;if(p)for(c>=s.length&&(c=s.length-1),n("."+r.leftArrowClass,e).outerWidth()&&(a=e.width()-r.containerPadding*2-n("."+r.leftArrowClass,e).outerWidth()*2),y=0;y<s.length;y++)et=s.get(y),ot=et.getBoundingClientRect(),n(et).data("width",ot.right-ot.left);if(!p&&v>1||p&&ht(0))if(r.showArrows){if(n("."+r.leftArrowClass,e).length===0)e.prepend(n(r.arrowElementType).addClass(r.leftArrowClass).off("click").on("click",tt));else n("."+r.leftArrowClass,e).off("click").on("click",tt);if(n("."+r.rightArrowClass,e).length===0)e.append(n(r.arrowElementType).addClass(r.rightArrowClass).off("click").on("click",it));else n("."+r.rightArrowClass,e).off("click").on("click",it);e.css({position:"relative"});r.centerContent&&b.css({margin:"0 auto"});r.showSelected?ft(ut()):(d(),g());r.setData("current-page",l,e);e.data("leftmost-item",c)}else v=v-1,h=h+1,e.css("overflow","hidden");pt();e.data("hasscrollfallback",!0);e.data("totalPages",v)})}})}(jQuery,window,Modernizr);document.elementToScroll=null;b365Mobile.HorizontalScroller=function(n){"use strict";this.enableScroll=Modernizr.v6scrolling;this.list=null;this.scroller=null;this.scrollTo=!1;this.initialize=function(){this.list=$(n);this.list.length&&(this.scrollTo&&this.scrollToElement(this.list),this.scrollTo=!1)};this.scrollToElement=function(t){var t=t&&t.length?t.find(".scrollNavButtonSelected"):$(n+" .scrollNavButtonSelected"),i;t.length&&(this.list.length&&(i=t.eq(0).offset().left-10,n==="#meetingTimes"&&window.couponScrollerOffset!==null&&window.couponScrollerOffset>=0&&(i=window.couponScrollerOffset),$("ul",this.list).scrollLeft(i)),this.scrollTo=!1);t=null}};b365Mobile=window.b365Mobile||{};b365Mobile.UserPreference=function(){"use strict";function n(t){this._preferences=t?t:h([n.TEAM_PREFERENCE,n.MARKET_GROUP_PREFERENCE,n.LEAGUE_TABLE_PREFERENCE])}function o(n){return b365Mobile.utils.arrayUnique(n)}function s(n,t){return b365Mobile.utils.arrayRemove(n,t)}function r(n){for(var r=unescape(document.cookie||"").split(";"),f=RegExp("^\\s*"+n+"=\\s*(.*?)\\s*$"),u="",i,t=0;t<r.length;t++)if(i=r[t].match(f),i){u=i[1];break}return u}function h(n){for(var o=r(t),f={},i=0;i<n.length;i++){var e=n[i],s=new RegExp(e+"=([^&]*)?","g"),u=s.exec(o);u&&u.length>1?u[1]&&(f[e]=u[1].split(",").map(function(n){if(n)return parseInt(n,10)})):f[e]=[]}return f}function i(n,i){var u=r(t),e=new RegExp(n+"=([^&]*)?","g"),f=u.match(e);f?u=u.replace(f[0],i):u+="&"+i;document.cookie=t+"="+u+"; path=/; "+c()}function c(){var n=new Date;return n.setFullYear(n.getFullYear()+e),"expires="+(n.toUTCString()+"; ")}var u=window.jQuery,f="/api/1/UserPreferences/Update",t="aps03",e=10;return n.TEAM_PREFERENCE="te",n.MARKET_GROUP_PREFERENCE="lg",n.LEAGUE_TABLE_PREFERENCE="lt",n.prototype._preferences=null,n.prototype._pendingRequest=null,n.prototype.addValues=function(n,t){this._preferences[n]||(this._preferences[n]=[]);this._preferences[n]=o(this._preferences[n].concat(t));this.save(n)},n.prototype.removeValues=function(n,t){this._preferences[n]=s(this._preferences[n],t);this.save(n)},n.prototype.getValues=function(n){return this._preferences[n]},n.prototype.save=function(n){this.saveToCookie(n);this.saveToServer(n)},n.prototype.saveToCookie=function(n){if(b365Mobile.account.isUserLoggedIn())if(n)i(n,this._serializePreference(n));else for(var t in this._preferences)i(t,this._serializePreference(t))},n.prototype.saveValueToCookie=function(n,t){i(n,t)},n.prototype.saveToServer=function(n){if(b365Mobile.account.isUserLoggedIn()){var t=this;this._pendingRequest&&(this._pendingRequest.abort(),this._pendingRequest=null);this._pendingRequest=u.ajax({url:f,type:"POST",data:n?this._serializePreference(n):this._serializePreferences(),context:this}).always(function(){t._pendingRequest=null})}},n.prototype._serializePreferences=function(){var n="",t;for(t in this._preferences)n+=this._serializePreference(t)+"&";return n.length>0&&(n=n.slice(0,-1)),n},n.prototype._serializePreference=function(n){for(var t=n+"=",r=this._preferences[n],i=0,u=r.length;i<u;i++)t+=r[i]+",";return t.length>n.length+1&&(t=t.slice(0,-1)),t},n}();b365Mobile=window.b365Mobile||{};b365Mobile.TeamUserPreference=function(){function n(n){this._userPreferenceApi=n}var t=b365Mobile.UserPreference;return n.prototype._userPreferenceApi=null,n.prototype.setTeamPreference=function(n,i){i?this._userPreferenceApi.addValues(t.TEAM_PREFERENCE,[n]):this._userPreferenceApi.removeValues(t.TEAM_PREFERENCE,[n])},n.prototype.getTeamPreference=function(n){for(var r=this._userPreferenceApi.getValues(t.TEAM_PREFERENCE),i=0,u=r.length;i<u;i++)if(r[i]===n)return!0;return!1},n}();b365Mobile=window.b365Mobile||{};b365Mobile.favourites=function(){function n(n){this._favourites=[];b365Mobile.account.isUserLoggedIn()&&n.length>0&&(this._favourites=n.split(","),this._saveToLocalStorge())}var o="/api/1/UserPreferences/Update",u="ipFavourites",t="ipFavToAdd",i="ipFavToRemove",f="ipFavMsgCount",e="ipf",r=40;return n.prototype._favourites=null,n.prototype._favouritesToAdd=null,n.prototype._favouritesToRemove=null,n.prototype._ipFavMsgCount="0",n.prototype._pendingRequest=null,n.prototype._favouritesChanged=!1,n.prototype.init=function(){this._loadFromLocalStorge();b365Mobile.account.isUserLoggedIn()&&(this.addFavourites(this._favouritesToAdd),this.removeFavourites(this._favouritesToRemove),this._clearPendingChanges())},n.prototype.addFavourite=function(n){this._favourites.length<r&&this._addValues([n])},n.prototype.addFavourites=function(n){var t;if(n){var i=[],u=i.length,f=r-this._favourites.length;for(t=0;t<n.length&&u<f;t++)u=i.push(n[t]);this._addValues(i)}},n.prototype.removeFavourite=function(n){this._removeValues([n])},n.prototype.removeFavourites=function(n){n&&this._removeValues(n)},n.prototype.isFavourite=function(n){return this._favourites.indexOf(n)>-1},n.prototype.getFavourites=function(){return this._favourites},n.prototype.setMsgCount=function(){this._ipFavMsgCount=="0"&&(this._ipFavMsgCount="1",window.siteDataLocal.setItem(f,this._ipFavMsgCount))},n.prototype.hasMessage=function(){return this._ipFavMsgCount=="1"},n.prototype.maxLimitReached=function(){return this._favourites.length>=r},n.prototype._addValues=function(n){this._applyPendingAdds(n);this._favourites=b365Mobile.utils.arrayUnique(this._favourites.concat(n));this._favouritesChanged=!0;this._save()},n.prototype._applyPendingAdds=function(n){b365Mobile.account.isUserLoggedIn()||(this._favouritesToRemove&&(this._favouritesToRemove=b365Mobile.utils.arrayRemove(this._favouritesToRemove,n)),this._favouritesToAdd||(this._favouritesToAdd=[]),this._favouritesToAdd=b365Mobile.utils.arrayUnique(this._favouritesToAdd.concat(n)))},n.prototype._removeValues=function(n){this._applyPendingRemoves(n);this._favourites=b365Mobile.utils.arrayRemove(this._favourites,n);this._favouritesChanged=!0;this._save()},n.prototype._applyPendingRemoves=function(n){b365Mobile.account.isUserLoggedIn()||(this._favouritesToAdd&&(this._favouritesToAdd=b365Mobile.utils.arrayRemove(this._favouritesToAdd,n)),this._favouritesToRemove||(this._favouritesToRemove=[]),this._favouritesToRemove=b365Mobile.utils.arrayUnique(this._favouritesToRemove.concat(n)))},n.prototype._save=function(){this._favouritesChanged&&(this._saveToLocalStorge(),this._saveToServer());this._favouritesChanged=!1},n.prototype._saveToLocalStorge=function(){var f="",n,r;this._favourites.length>0&&(f=this._favourites.toString());window.siteDataLocal.setItem(u,f);b365Mobile.account.isUserLoggedIn()||(n="",r="",this._favouritesToAdd&&this._favouritesToAdd.length>0&&(n=this._favouritesToAdd.toString()),this._favouritesToRemove&&this._favouritesToRemove.length>0&&(r=this._favouritesToRemove.toString()),window.siteDataLocal.setItem(t,n),window.siteDataLocal.setItem(i,r))},n.prototype._saveToServer=function(){if(b365Mobile.account.isUserLoggedIn()){var n=this;this._pendingRequest&&(this._pendingRequest.abort(),this._pendingRequest=null);this._pendingRequest=$.ajax({url:o,type:"POST",data:this._serializeFavourites(),context:this}).always(function(){n._pendingRequest=null})}},n.prototype._serializeFavourites=function(){for(var n=e+"=",i=this._favourites,t=0,r=i.length;t<r;t++)n+=i[t]+",";return n.length>e.length+1&&(n=n.slice(0,-1)),n},n.prototype._loadFromLocalStorge=function(){var r=window.siteDataLocal.getItem(t),e=window.siteDataLocal.getItem(i),o=window.siteDataLocal.getItem(f),n;b365Mobile.account.isUserLoggedIn()||(n=window.siteDataLocal.getItem(u),n&&(this._favourites=n.split(",")));r&&(this._favouritesToAdd=r.split(","));e&&(this._favouritesToRemove=e.split(","));o&&(this._ipFavMsgCount=o)},n.prototype._clearPendingChanges=function(){this._favouritesToAdd&&(this._favouritesToAdd=null,window.siteDataLocal.setItem(t,""));this._favouritesToRemove&&(this._favouritesToRemove=null,window.siteDataLocal.setItem(i,""))},n}();b365Mobile.SportsDataKey=function(){function n(n){this._setKey(n)}var t,i;return n.prototype.classificationId=0,n.prototype.c1Id=0,n.prototype.c1IdTable=0,n.prototype.c2Id=0,n.prototype.c2IdTable=0,n.prototype.c3Id=0,n.prototype.c3IdTable=0,n.prototype.inplay=!1,n.prototype.result=!1,n.prototype.marketGroupId=0,n.prototype.plbtId=0,n.prototype.pageTemplateId=0,n.prototype.fixture=0,n.prototype.sectionId=0,n.prototype.IsTelebet=!1,n.prototype.Next24Hrs=!1,n.prototype.SpecialEventId=0,n.prototype.IsVirtualSport=!1,n.prototype.NextMatches=0,n.prototype.MarketId=0,n.prototype.item9=0,n.prototype.item13=0,n.prototype._setKey=function(n){var u,r;if(n&&(n=n.replace(/--/g,"-~"),r=n.split("-"),r)){for(u=0;u<r.length;u+=1)r[u]=r[u].replace("~","-");this.classificationId=t(r[0]);this.c1Id=t(r[1]);this.c1IdTable=t(r[2]);this.c2Id=t(r[3]);this.c2IdTable=t(r[4]);this.c3Id=t(r[5]);this.c3IdTable=t(r[6]);this.inplay=i(r[7]);this.result=t(r[7])===3;this.item9=r[8];this.marketGroupId=t(r[9]);this.plbtId=t(r[10]);this.pageTemplateId=t(r[11]);this.item13=r[12];this.fixture=t(r[13]);this.sectionId=t(r[14]);this.IsTelebet=i(r[15]);this.Next24Hrs=i(r[16]);this.SpecialEventId=t(r[17]);this.IsVirtualSport=i(r[18]);this.NextMatches=t(r[19]);this.MarketId=t(r[20])}},t=function(n){var t=0;return n!==undefined&&parseFloat(n)%1==0&&(t=parseInt(n)),t},i=function(n){var i=!1,r=t(n);return r===1&&(i=!0),i},n.prototype.toString=function(){return this.classificationId+"-"+this.c1Id+"-"+this.c1IdTable+"-"+this.c2Id+"-"+this.c2IdTable+"-"+this.c3Id+"-"+this.c3IdTable+"-"+(this.inplay?1:0)+"-"+this.item9+"-"+this.marketGroupId+"-"+this.plbtId+"-"+this.pageTemplateId+"-"+this.item13+"-"+this.fixture+"-"+this.sectionId+"-"+(this.IsTelebet?1:0)+"-"+(this.Next24Hrs?1:0)+"-"+this.SpecialEventId+"-"+(this.IsVirtualSport?1:0)+"-"+this.NextMatches+"-"+this.MarketId},n}();b365Mobile.instantGamesController=function(){function n(){this._supportsInstantGames=window.mobileBusinessRules.supportsInstantGames();this._addFooterInProgress=!1}var u="/IG001/gte/",i="#",f="InPlay",e="MyBets",o="Coupon",s="5",r="36",h="38",c="2",l="3",a="4",v="5",t;return n.prototype._supportsInstantGames=null,n.prototype._pendingRequest=null,n.prototype._addFooterInProgress=null,n.prototype.launchPending=null,n.prototype.init=function(n){t=this;this._addLoginClosedHandler();window.sProps.appType!=="iosapp"&&this.addFooter(n)},n.prototype.addFooter=function(n){!this._supportsInstantGames||window.footerInstantGamesPodController||this._addFooterInProgress||(this._addFooterInProgress=!0,Locator.validationManager.callNewContext(function(){var r=document.getElementById("InstantGamesFooterContainer"),i;r?(r.style.display="block",i=new Hash(window.location.hash).Type,window.location.hash||(i="Home"),n||i!="Home"&&i!="Members"&&i!="MyBets"&&i!="bet365Apps"?(window.footerInstantGamesPodController=new b365.InstantGamesPodController,window.footerInstantGamesPodController.requestFooterInstantGamesStemData(r,function(){t._addFooterInProgress=!1},t)):i!=="InPlay"&&(r.style.display="none",t._addFooterInProgress=!1)):t._addFooterInProgress=!1}))},n.prototype.setState=function(){var t="instantgames",r="no-instantgames",u,n,f,e;if(!this._supportsInstantGames){$(document.documentElement).removeClass(t).addClass(r);return}($(document.documentElement).removeClass(r).addClass(t),u=sProps.user.isLoggedIn&&!sProps.user.secondAuth&&location.hash.indexOf("type=Members")==-1&&!sProps.user.membersNotificationsRequired,u)&&(n=siteDataSession.getItem("LaunchInstantGame"),n&&n.length>0&&(n=n.split(i),f=n[0],e=n[1]==="1",this.launchGame(f,e,"1")))},n.prototype.iOSLaunchGameSupportedCallBack=function(){this._supportsInstantGames=!0;this.setState();LoadPushInstantGamesPod();this.addFooter()},n.prototype._addLoginClosedHandler=function(){var n=this;$(document).on("loginpopupclosed",$.proxy(n._resetSessionData,n))},n.prototype._resetSessionData=function(){siteDataSession.setItem("LaunchInstantGame","")},n.prototype.launchGame=function(n,t,u){var k,y,b,p,w;if(siteDataSession.setItem("StopTouchIdDialog","1"),b365Mobile.account.isUserLoggedIn()){overlay(1,1);b=new Hash(window.location.hash);p=s;switch(pageType){case f:p=r;break;case e:p=h;break;case o:b.Key&&b.Key.indexOf("-")==-1&&(p=r)}w=c;window.sProps.appType==="iosapp"?w=l:window.sProps.appType==="androidapp"?w=a:(window.sProps.appType==="windowsapp"||window.sProps.appType==="windowsuniversalapp")&&(w=v);y="ru={0}&pi="+p+"&pti="+w+"&pmi=1&sg="+u+"&";y=t?y+"gi={1}":y+"ci={1}";k=y.format(window.encodeURIComponent(window.location.href),n);this.launchPending=!0;this._navigate(k,this._tokenRequestSuccess,this._tokenRequestFail,t)}else siteDataSession.setItem("LaunchInstantGame",n+i+(t?"1":"0")),b365Mobile.account.logInPopUp()},n.prototype.supportsInstantGames=function(){return this._supportsInstantGames},n.prototype.removeNodes=function(){var n,i,r,t;if(!this._supportsInstantGames&&!window.Modernizr.supportsnativescrolling&&(n=document.getElementsByClassName("iconBox home-instantGame"),n&&n.length>0))for(r=n.length,i=n[0].parentNode,t=0;t<r;t++)i.removeChild(n[0])},n.prototype._tokenRequestSuccess=function(n){var i=null,e=null,r=null,f,u=null,o;switch(window.sProps.LangID){case"2":f="zh-HK";break;case"10":f="zh-CN";break;default:f=window.sProps.CultureCode}n&&(u=n.split("&")[0],r=n.split("&")[1],u=u&&u.indexOf("token")>-1&&u.replace("token=","")||null,r=r&&r.indexOf("domain")>-1&&r.replace("domain=","")||null,o=r?window.location.href.split(".")[0].replace("mobile","www")+"."+r:"https://"+window.sProps.instantGames.domain);o&&f&&u?(i="{0}/SportsLaunch/{1}/{2}".format(o,f,u),e="?returnURL={0}".format(window.encodeURIComponent(window.location.href)),window.sProps.appType==="iosapp"?(i=i+e,typeof webkit!="undefined"&&webkit.messageHandlers&&webkit.messageHandlers.callbackHandler&&webkit.messageHandlers.callbackHandler.postMessage&&webkit.messageHandlers.callbackHandler.postMessage(["launchGame",i])):window.sProps.appType==="androidapp"?(i=i+e,bet365AndroidApp.launchGame(i),Overlay(0,null)):window.location.href=i):t._tokenRequestFail()},n.prototype._tokenRequestFail=function(){Overlay(0,null);return},n.prototype._navigate=function(n,t,i,r){var f=this,e=u;this._pendingRequest&&(this._pendingRequest.abort(),this._pendingRequest=null);e+=r?"g":"c";this._pendingRequest=$.ajax({url:e,type:"GET",data:n,context:this}).done(function(n){t(n)}).fail(function(){i()}).always(function(){f._resetSessionData();f._pendingRequest=null})},n}();b365Mobile=window.b365Mobile||{};b365Mobile.ActivityMonitor=function(){function n(n,i){this._mode="Hidden";t=n;e=i}var o={"2":{"0":1},"10":{"0":1},"21":{"0":1,"1":2,"2":5},"24":{"0":1,"1":2,"2":5},"26":{"0":1,"1":2,"2":5},Default:{"0":1,"1":2}},i="Hidden",r="Inform",u="LoggedOut",c="Contact",f="Account/ActivityMonitor/ActivityMonitor.ashx",t,e=null,a=sProps.sc.ct=="51";n.prototype._aint=null;n.prototype._ato=null;n.prototype._atv=null;n.prototype._ats=null;n.prototype._dlg=null;n.prototype._mBox=null;n.prototype._msgElm=null;n.prototype._msg=null;n.prototype._mode=null;n.prototype._popupQueueTimerToken=null;n.prototype._activityTimerID=null;n.prototype._activityTimerEle=null;n.prototype._initialised=!1;n.prototype._realityCheckTimerToken=null;n.prototype.toString=function(){return"[ActivityMonitor]"};n.prototype.pageLoad=function(){var n;this._setMode(s("actmode")||i);(e()||this._mode!=i)&&(n=window.resolveScriptPath({path:"members/activityMonitor/languages/am_"+window.sProps.LangID+".js"}),window.LazyLoad.js(n,$.proxy(this._laguageFileLoaded,this)))};n.prototype.restart=function(){this._initialised&&(window.clearTimeout(this._realityCheckTimerToken),this._poll())};n.prototype._calculateTimeOffset=function(){var n=new Date(Date.UTC.apply(window,window.EventTimerProperties.pageLoadedEpoch.split("#").map(Number))).getTime(),t=Date.now();return n-t};n.prototype._laguageFileLoaded=function(){this._aint=window.sProps.aint;this._atv=window.sProps.atv-this._calculateTimeOffset();this._ats=window.sProps.ats-this._calculateTimeOffset();parseInt(window.sProps.ato,10)>0?(this._ato=window.sProps.ato,h("ato",this._ato)):this._ato=s("ato");this._mode==u?this._showWarningMsg(this._mode):this._mode==c?this._contactUs(window.sProps.LangID):this._poll();this._initialised=!0};n.prototype.onItemCLick=function(n){var e=!0,t,f,o=!1;if(window.clearTimeout(this._realityCheckTimerToken),n&&n.target)for(t=n.target?n.target:n.srcElement;t&&t.id!=="amDlg";)if(f=t.getAttribute("data-nav"),o=t&&t.getAttribute("target")==="_blank"||t.getAttribute("target")==="_self",f=="btnNo"){this._mode==r&&this._auditContinueLoggedIn();this._setMode(i);this._hideDialog();this._atv=Date.now();this._poll();break}else if(f=="btnYes"){this._hideDialog();this._setMode(u);this._auditLogout();b365Mobile.account.logOut();break}else if(f=="AccountHistory"){this._hideDialog();window.membersRedirect.redirect("history");break}else if(o){e=!1;break}else t=t.parentNode;e&&n.preventDefault()};n.prototype._contactUs=function(n){newPage("ContactUs","",!1,n)};n.prototype._poll=function(){window.pageType!=="Members"&&l()&&this._aint>0&&(this.dialogShowing()||Inactivity&&Inactivity.Showing()||!(Date.now()>parseInt(this._atv,10)+this._aint*6e4)||this._showWarningMsg(r),this._realityCheckTimerToken=window.setTimeout($.proxy(this._poll,this),500))};n.prototype._showWarningMsg=function(n){var t=this._areOtherPopupsShowing();this._popupQueueTimerToken||this.dialogShowing()||(t?this._popupQueueTimerToken||this._initPollPopupState():(this._setMode(n),n==u?this._messagePopUp(this._getLoggedOutMarkUp()):this._messagePopUp(this._getMessageMarkUp(),!0),this._mode==r&&this._auditPopup()))};n.prototype.dialogShowing=function(){return document.getElementById("amDlg")!==null};n.prototype._pad=function(n){return+n<10?"0"+n:n};n.prototype._tick=function(){var n=(Date.now()-this._ats)/1e3,t=this;this.dialogShowing()&&(this._activityTimerEle.innerHTML=this._pad(Math.floor(n/3600))+":"+this._pad(Math.floor(n%3600/60))+":"+this._pad(Math.floor(n%60)),this._activityTimerID=setTimeout(function(){t._tick()},1e3),this._checkOverlay())};n.prototype._checkOverlay=function(){var n=findOverlayElement();n!==null&&window.siteViewController.isNarrowView&&n.style.height!==document.body.offsetHeight+"px"&&setOverlaySize()};n.prototype._getMessageMarkUp=function(){var n="",f=this._getTranslation("Message"),t=this._getTranslation("ResponsibleGambling"),i=this._getTranslation("ContactUs"),r=this._getTranslation("RCInterval"),u=this._getTranslation("AccountHistory"),o="#",s=window.sProps.rcContactUsLink,e;return f=f.replace("[time]",'<span id="amTimer"><\/span>'),e=$("#help_ResponsibleGambling a:first-child"),e.length>0&&(o=e[0].href),t=t.replace("{LinkStart}",'<a href="'+o+'" target="_blank">'),t=t.replace("{LinkEnd}","<\/a>"),i=i.replace("{LinkStart}",'<a href="'+s+'" target="_blank">'),i=i.replace("{LinkEnd}","<\/a>"),u=u.replace("{LinkStart}",'<span class="accountHistoryLink" data-nav="AccountHistory">'),u=u.replace("{LinkEnd}","<\/span>"),r=r.replace("[time]",window.sProps.aint),r=this._resolveTimeUnit(r,window.sProps.LangID,window.sProps.aint),n='<div id="amDlg" class="PopUpForm V6" data-mode="Inform">',n+='<div class="PopUpMessageTop" data-mode="Inform">',n+='<div class="PopUpMessageInnerTop Title">',n+=this._getTranslation("Title"),n+="<\/div>",n+='<div class="PopUpMessageInnerTop Message">',n+=f,n+="<\/div>",n+="<\/div>",n+='<div class="PopUpMessageBottom" data-mode="Inform">',n+='<div class="genericButton greenbutton" data-nav="btnNo" data-lng="1">'+this._getTranslation("No")+"<\/div>",n+='<div class="genericButton greenbutton" data-nav="btnYes" data-lng="1">'+this._getTranslation("Yes")+"<\/div> ",n+="<\/div>",n+='<div class="PopUpMessageFooter" data-mode="Inform">',n+="<p>"+r+" "+u+"<\/p>",n+="<p>"+t+"<\/p>",n+="<p>"+i+"<\/p>",n+="<\/div>",n+"<\/div>"};n.prototype._getLoggedOutMarkUp=function(){var n="",t=this._getTranslation("LoggedOut");return t=t.replace("[time]",this._ato),t=this._resolveTimeUnit(t,window.sProps.LangID,this._ato),n='<div id="amDlg" class="PopUpForm V6" data-mode="LoggedOut">',n+='<div class="PopUpMessageTop" data-mode="LoggedOut">',n+='<div class="PopUpMessageInnerTop Title">',n+=this._getTranslation("Title"),n+="<\/div>",n+='<div class="PopUpMessageInnerTop Message">',n+=t,n+="<\/div>",n+="<\/div>",n+='<div class="PopUpMessageBottom" data-mode="LoggedOut">',n+='<div class="genericButton greenbutton" data-nav="btnNo" data-lng="1">'+this._getTranslation("Close")+"<\/div>",n+="<\/div>",n+"<\/div>"};n.prototype._getTranslation=function(n){return ActivityMonitorTranslations&&ActivityMonitorTranslations.hasOwnProperty(n)?ActivityMonitorTranslations[n]:n};n.prototype._messagePopUp=function(n,t){overlay(1,0,0,!0);ns_moblib_util_managers.FloatingNativeVideoController.HideFloatingNativeVideo();var r=n,i=CreatePopupBox("PopUpBox",r);i.setAttribute("data-mode","activity");document.body.appendChild(i);i.removeEventListener("click",popUpListenerClickHandler,!1);this._mBox=$("#amDlg");this._setMode(this._mode);window.event&&b365Mobile.utils.stopEventPropagation(window.event);this._mBox.on("click.ActivityMonitor",$.proxy(this.onItemCLick,this));t&&(this._activityTimerEle=document.getElementById("amTimer"),this._tick())};n.prototype._areOtherPopupsShowing=function(){return document.getElementById("betSlipOverlay")?!0:document.getElementById("overlay")?!0:document.getElementById("PopUpBox")?!0:sProps.deviceId&&document.getElementById("SiteOverlayLiveAlert")?!0:sProps.deviceId&&document.getElementById("SiteOverlayLiveAlertMultiple")?!0:!1};n.prototype._initPollPopupState=function(){this._popupQueueTimerToken=setTimeout($.proxy(this._pollPopupState,this),500)};n.prototype._pollPopupState=function(){clearTimeout(this._popupQueueTimerToken);this._popupQueueTimerToken=null;this._areOtherPopupsShowing()?this._initPollPopupState():this._showWarningMsg(this._mode)};n.prototype._resolveTimeUnit=function(n,t,i){var f=[],u=0,r="",h,c,e,s;try{for(h=n.indexOf("[unit:"),r=n.substr(h),r=r.substr(0,r.indexOf("]")+1),f=r.replace("[unit:","").replace("]","").split("/"),c=o[t]||o.Default,e=!1,u=0;!e;)s=c[u+1],s&&i>=s?u++:e=!0}catch(l){}return n.replace(r,f[u]||f[u-1])};n.prototype._hideDialog=function(){if(this._mBox&&this._mBox.length>0){this._mBox.off("click.ActivityMonitor");this._mBox.empty();try{this._mBox[0].parentNode.parentNode.removeChild(this._mBox[0].parentNode);this._mBox=null;b365Mobile.utils.changeElemTypeState("select",!1)}catch(n){}}overlay(0);clearTimeout(this._activityTimerID);ns_moblib_util_managers.FloatingNativeVideoController.ShowFloatingNativeVideo()};n.prototype._setMode=function(n){this._mode=n;h("actmode",n);this._mBox&&this._mBox.attr("data-mode",n)};n.prototype._auditContinueLoggedIn=function(){$.ajax({headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"POST",url:f+"/continueloggedin/",cache:!1})};n.prototype._auditLogout=function(){$.ajax({headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"POST",url:f+"/logout/",cache:!1})};n.prototype._auditPopup=function(){$.ajax({headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"POST",url:f+"/popup/",cache:!1})};var s=function(n){return t.getItem(n)!=="null"?t.getItem(n):null},h=function(n,i){t.setItem(n,i)},l=function(){return e()};return n}();b365.MessageBroker=function(){function n(){t=this;window.addEventListener("message",this._windowMessageHandler);this._primaryHost=this._parsePrimaryHost(window.location.hostname);var n=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler);n.IsApp&&(b365MobileApp.iframeCallbackHandler=function(n,i){if(t._targetWindow&&i.$method&&t._pendingAppMessages[i.$method]){var r=t._pendingAppMessages[i.$method];t.postMessage(r,i);t._pendingAppMessages[i.$method]=null}})}var t=null;return n.prototype._pendingAppMessages={},n.prototype._primaryHost=null,n.prototype._messageHandlers={},n.prototype._targetWindow=null,n.prototype._windowMessageHandler=function(n){var s,i,u,f,r,e,o;if(n.source&&n.source.location&&(s=t._parsePrimaryHost(n.source.location.hostname),s===t._primaryHost)&&(t.setTargetWindow(n.source),i=JSON.parse(n.data),i&&i.message)){if(r=t._messageHandlers[i.message],e=!1,r)for(f=0;f<r.length;f++)u=r[f],u&&u.handler&&(e=!0,u.handler(i.message,n.source,i));e||(o=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler),o.IsApp&&((i["callback()"]||i.callback)&&(t._pendingAppMessages[i.message]=i["callback()"]||i.callback,i.$method=i.message),o.execute(i.message,i,b365MobileApp.iframeCallbackHandler,"iframeCallbackHandler")))}},n.prototype._parsePrimaryHost=function(n){var t=n.split(".");return t.slice(1).join(".")},n.prototype.addHandler=function(n){if(!n||!(n instanceof b365.MessageBroker.MessageHandler))return null;var t=this._messageHandlers[n.message];return(t||(t=this._messageHandlers[n.message]=[]),t.indexOf[n]>=0)?null:(t.push(n),n)},n.prototype.removeHandler=function(n){if(!n||!(n instanceof b365.MessageBroker.MessageHandler)||(handlers=this._messageHandlers[n.message],!handlers))return null;var t=handlers.indexOf(n);return handlers.indexOf[n]>=0&&handlers.splice(t,1),handlers.length==0&&delete this._messageHandlers[n.message],n},n.prototype.postMessage=function(n,t){var i,r;return(t=t||{},t.message=n,i=JSON.stringify(t),!this._targetWindow)?!1:(r=this._parsePrimaryHost(this._targetWindow.location.hostname),r!==this._primaryHost)?!1:(this._targetWindow.postMessage(i,"https://"+this._targetWindow.location.hostname),!0)},n.prototype.setTargetWindow=function(n){this._targetWindow=n},n.prototype.clearTargetWindow=function(){this._targetWindow=null},n.MessageHandler=function(){function n(n,t){n&&(this.message=n);t&&(this.handler=t)}return n.prototype.message=null,n.prototype.handler=null,n}(),n}();b365.ApplepayBroker=function(){function n(){(this.messageBroker=window.messageBrokers.messageBroker,this.messageBroker)&&(this.applepayPaymentCallback=this.applepayPaymentCallback.bind(this),this.applepaySupportedCallback=this.applepaySupportedCallback.bind(this),this._applepaySupportedRequestHandler=this._applepaySupportedRequestHandler.bind(this),this._applepayPaymentRequestHandler=this._applepayPaymentRequestHandler.bind(this),this._applepayPaymentCompleteHandler=this._applepayPaymentCompleteHandler.bind(this),this.messageBroker.addHandler(new b365.MessageBroker.MessageHandler(r,this._applepaySupportedRequestHandler)),this.messageBroker.addHandler(new b365.MessageBroker.MessageHandler(u,this._applepayPaymentRequestHandler)),this.messageBroker.addHandler(new b365.MessageBroker.MessageHandler(f,this._applepayPaymentCompleteHandler)))}var r="REQUEST_APPLEPAY_SUPPORTED",t="APPLEPAY_SUPPORTED",u="REQUEST_APPLEPAY_PAYMENT",i="APPLE_PAY_PAYMENT",f="COMPLETE_APPLEPAY_PAYMENT";return n.prototype.messageBroker=null,n.prototype.applepaySupportedCallback=function(n,i){!n&&i&&i.result?this.messageBroker.postMessage(t,{status:i.result}):this.messageBroker.postMessage(t,{status:"NotSupported"})},n.prototype.applepayPaymentCallback=function(n,t){!n&&t&&t.result&&t.result.toLowerCase()=="success"&&t.encryptedPaymentToken?this.messageBroker.postMessage(i,{result:!0,encryptedPaymentToken:t.encryptedPaymentToken}):this.messageBroker.postMessage(i,{result:!1,encryptedPaymentToken:""})},n.prototype._applepaySupportedRequestHandler=function(n,i,r){if(this._isIosAppSupportingApplePay()&&r){var u={},f=[];r.cardSchemes&&(f=r.cardSchemes.split(","));u.networks=f;u["callback()"]="window.messageBrokers.applepayBroker.applepaySupportedCallback";this._callApp(sProps.appInitResult.applePay["supported()"],JSON.stringify(u))}else this.messageBroker.postMessage(t,{status:"NotSupported"})},n.prototype._applepayPaymentRequestHandler=function(n,t,r){this._isIosAppSupportingApplePay()&&r?(r["callback()"]="window.messageBrokers.applepayBroker.applepayPaymentCallback",this._callApp(sProps.appInitResult.applePay["requestPayment()"],JSON.stringify(r))):this.messageBroker.postMessage(i,{result:"false",encryptedPaymentToken:""})},n.prototype._applepayPaymentCompleteHandler=function(n,t,i){this._isIosAppSupportingApplePay()&&i&&(i={status:i.success?"success":"failure"},this._callApp(sProps.appInitResult.applePay["completePayment()"],JSON.stringify(i)))},n.prototype._callApp=function(n,t){window.webkit.messageHandlers.callbackHandler.postMessage([n,t])},n.prototype._isIosAppSupportingApplePay=function(){var n=n=window.sProps.appType?window.sProps.appType:siteDataLocal.getItem("appType"),t=!!sProps.appInitResult&&!!sProps.appInitResult.applePay;return device.iosDevice&&device.osVersion>=8&&n=="iosapp"&&t},n}();b365.GooglepayBroker=function(){function n(){window.messageBrokers.messageBroker&&(this.messageBroker=window.messageBrokers.messageBroker,this._appApi=ns_gen5_util.Singleton.getInstance(ns_moblib_util.AppHandler),this._appApi)&&(this.paymentCallback=this.paymentCallback.bind(this),this.supportedCallback=this.supportedCallback.bind(this),this._supportedRequestHandler=this._supportedRequestHandler.bind(this),this._paymentRequestHandler=this._paymentRequestHandler.bind(this),this._paymentCompleteHandler=this._paymentCompleteHandler.bind(this),this.messageBroker.addHandler(new b365.MessageBroker.MessageHandler(f,this._supportedRequestHandler)),this.messageBroker.addHandler(new b365.MessageBroker.MessageHandler(e,this._paymentRequestHandler)),this.messageBroker.addHandler(new b365.MessageBroker.MessageHandler(o,this._paymentCompleteHandler)))}var f="GOOGLEPAY_REQUEST_SUPPORTED",t="GOOGLEPAY_SUPPORTED",e="GOOGLEPAY_REQUEST_PAYMENT",i="GOOGLE_PAY_PAYMENT",o="GOOGLEPAY_COMPLETE_PAYMENT",r="GooglepayBroker",u={status:"NotSupported"};return n.prototype.messageBroker=null,n.prototype.supportedCallback=function(n,i){var r=!n&&i&&i.result,f=i.message&&i.message==="Unsupported"?{status:"Supported"}:u,e=r?{status:"Available"}:f;this.messageBroker.postMessage(t,e)},n.prototype.paymentCallback=function(n,t){var r;!n&&t&&t.result&&t.encryptedPaymentToken&&(r={result:!0,encryptedPaymentToken:t.encryptedPaymentToken},this.messageBroker.postMessage(i,r))},n.prototype._supportedRequestHandler=function(n,i,f){if(this._isGooglePayFeatureSupported()&&f){var e={};e.networks=f.cardSchemes?f.cardSchemes.split(","):[];this._appApi.execute("googlepay_supported",e,this.supportedCallback,r+"_supportedCallback")}else this.messageBroker.postMessage(t,u)},n.prototype._paymentRequestHandler=function(n,t,u){this._isGooglePayFeatureSupported()&&u?this._appApi.execute("googlepay_requestPayment",u,this.paymentCallback,r+"_paymentCallback"):this.messageBroker.postMessage(i,{result:!1,encryptedPaymentToken:""})},n.prototype._paymentCompleteHandler=function(n,t,i){this._isGooglePayFeatureSupported()&&i&&this._appApi.execute("googlepay_completePayment",{status:i.success?"success":"failure"})},n.prototype._isGooglePayFeatureSupported=function(){return this._appApi.isFeatureSupported("GooglePay")},n}();b365.UserBalanceBroker=function(){function n(){var n=window.messageBrokers.messageBroker;n&&(n.addHandler(new b365.MessageBroker.MessageHandler(t,this._getBalanceHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(i,this._refreshBalanceHandler)))}var t="USER_GET_BALANCE",i="USER_REFRESH_BALANCE",r="USER_BALANCE";return n.prototype._getBalanceHandler=function(){var i=window.messageBrokers.messageBroker,u,n,t;i&&(n=Locator.user.getBalance().totalBalance,t=Locator.user.getBalance().gamingBalance,t&&(n=(ns_gen5_util.MathUtil.StringToNumber(n)+ns_gen5_util.MathUtil.StringToNumber(t)).toFixed(2)),u=n.split(".").join(Locator.user.currencyDecimalSeparator),i.postMessage(r,{balance:u}))},n.prototype._refreshBalanceHandler=function(){var n=ns_gen5_util.Singleton.getInstance(ns_gen5_util.BalanceModel);n.refreshBalance()},n}();b365.SiteSuppressionBroker=function(){function n(){var n=window.messageBrokers.messageBroker;n&&(n.addHandler(new b365.MessageBroker.MessageHandler(r,this._toggleHeaderHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(t,this._toggleHeaderHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(u,this._toggleQuickBetHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(i,this._toggleQuickBetHandler)))}var r="HIDE_HEADER",t="SHOW_HEADER",u="HIDE_FOOTER_OVERLAY",i="SHOW_FOOTER_OVERLAY";return n.prototype._toggleHeaderHandler=function(n){n==t?window.membersRedirect.unSuppressSite():window.membersRedirect.suppressSite()},n.prototype._toggleQuickBetHandler=function(n){n==i?window.membersRedirect.setQuickBetVisible(!0):window.membersRedirect.setQuickBetVisible(!1)},n}();b365.SportsNavBroker=function(){function n(){var n=window.messageBrokers.messageBroker;n&&(n.addHandler(new b365.MessageBroker.MessageHandler(t,this._sportsNavHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(i,this._membersNavHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(r,this._3rdPartyHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(u,this._3rdPartyFormHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(f,this._membersNavDomainHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(e,this._sportsNavHomeLoginHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(o,this._sportsNavHomeDomainHandler)))}var t="NAV_HOME",i="NAV_MEMBERS",r="NAV_3RDPARTY",u="NAV_3RDPARTYFORM",f="NAV_MEMBERS_DOMAIN",e="NAV_HOME_LOGIN",o="NAV_HOME_DOMAIN";return n.prototype._sportsNavHandler=function(n,t,i){var r=i.loginStateChanged==="1";window.membersRedirect.removeIFrame(r)},n.prototype._membersNavHandler=function(){var n=new Hash(window.location.hash);n.Type="Members";n.Key="hopper";window.membersRedirect.doSiteRefresh(n.toString(),!0)},n.prototype._3rdPartyHandler=function(n,t,i){i.url&&(window.location.href=i.url)},n.prototype._3rdPartyFormHandler=function(n,t,i){var r;i.url&&i.formData&&(r=document.createElement("form"),r.setAttribute("method","post"),r.setAttribute("action",i.url),r.innerHTML=i.formData,document.body.appendChild(r),r.submit())},n.prototype._membersNavDomainHandler=function(n,t,i){b365.SportsNavBroker.prototype._redirectAndOpenHopper(i,!0)},n.prototype._sportsNavHomeLoginHandler=function(){siteDataSession.setItem("showLoginPopup","true");window.membersRedirect.removeIFrame(!1)},n.prototype._sportsNavHomeDomainHandler=function(n,t,i){siteDataSession.setItem("showLoginPopup","true");b365.SportsNavBroker.prototype._redirectAndOpenHopper(i,!1)},n.prototype._redirectAndOpenHopper=function(n,t){var f,i,r,e,u;n.domain&&(t?(u=new Hash(window.location.hash),u.Type="Members",u.Key="hopper",f=u.toString()):f="&slp=1",i=window.location.host.split("."),r=i[i.length-1],r==="au"||r==="cy"?(r="com."+r,i.splice(i.length-2,2,n.domain)):i.splice(i.length-1,1,n.domain),e=i.join("."),window.location.href=window.location.protocol+"//"+e+window.location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")+f)},n}();b365.IFrameMessageBroker=function(){function n(){var n=window.messageBrokers.messageBroker;n&&(n.addHandler(new b365.MessageBroker.MessageHandler(t,this._iframeLoadedHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(r,this._iframeHeightChangeHandler)),n.addHandler(new b365.MessageBroker.MessageHandler(u,this._iframeCompleteHandler)))}var t="IFRAME_LOADED",i="IFRAME_HOSTED",r="IFRAME_HEIGHT",u="IFRAME_COMPLETE";return n.prototype._iframeLoadedHandler=function(n,t){var r=window.messageBrokers.messageBroker;r&&(r.setTargetWindow(t),window.overlay(0,0),r.postMessage(i))},n.prototype._iframeHeightChangeHandler=function(n,t,i){t&&t.frameElement&&(!i||!i.height||isNaN(i.height)||parseInt(i.height,10)<=0?t.frameElement.className.indexOf("membersNotifications")>-1&&document.documentElement.className.indexOf("no-cssvhunit")>-1||(t.frameElement.style.height=null):t.frameElement.style.height=i.height+"px")},n.prototype._iframeCompleteHandler=function(n,t,i){var r=i.loginStateChanged==="1"||i.sessionTerminated==="1";window.membersRedirect.removeIFrame(r)},n}();b365.InactivityResetBroker=function(){function n(){var n=window.messageBrokers.messageBroker;n&&n.addHandler(new b365.MessageBroker.MessageHandler(t,this._inactivityResetHandler))}var t="INACTIVITY_RESET";return n.prototype._inactivityResetHandler=function(){window.Inactivity&&window.Inactivity.ResetInactivity&&!window.b365Mobile.alternativeAuth.getKMLActive()&&window.Inactivity.ResetInactivity()},n}();b365.PageScrollBroker=function(){function n(){var n=window.messageBrokers.messageBroker;n&&n.addHandler(new b365.MessageBroker.MessageHandler(t,this._pageScrollHandler))}var t="PAGE_SCROLL";return n.prototype._pageScrollHandler=function(n,t,i){var r=null;i&&i.top&&!isNaN(i.top)&&(r=Number(i.top))?(window.membersRedirect&&!window.membersRedirect.isSiteSuppressed()&&(r+=47),document.body.scrollTop=r):document.body.scrollTop=0},n}();b365.QuickBetController=function(){function n(){t=this}var t,c=b365.Attribute,i="qb-Overlay",r="QuickBetModule_Loaded",u="QuickBetModule_AddToBetslip",f="QuickBetModule_StakeValueEntered",e="QuickBetModule_OddsChanged",o="QuickBetModule_HandicapChanged",s="QuickBetModule_OddsAndHandicapChanged",h="QuickBetModule_BBOddsChanged";return SUSPENSION_CHANGED="QuickBetModule_SuspensionChanged",PLACE_BET="QuickBetModule_PlaceBet",ITEM_SESSION_STORGE_KEY="QuickBetItem",SHOW_LOGIN="QuickBetModule_ShowLogin",CLOSE_MODULE="QuickBetModule_CloseModule",NOTIFICATION_CLICKED="QuickBetModule_NotificationClicked",NOTIFICATION_CHECK_NOTIFICATION="QuickBetModule_CheckNotification",START_ITALY_POLLING="QuickBetModule_StartItalyPolling",ENABLE_OVERLAY_CLICK="QuickBetModule_EnableOverlayClick",TOGGLE_EACH_WAY="QuickBetModule_ToggleEachWay",TOGGLE_NO_RESERVES="QuickBetModule_ToggleNoReserves",OPEN_BETSLIP="QuickBetModule_OpenBetslip",REFERRAL_ACCEPT="QuickBetModule_ReferalAccept",TOGGLE_FREEBET="QuickBetModule_ToggleFreeBet",PLACEBET_RESULT_SUCCESS=0,PLACEBET_RESULT_INSUFFICIENTFUNDS=10,PLACEBET_RESULT_STAKEABOVEMAXIMUM=11,PLACEBET_RESULT_STAKEBELOWMINIMUM=12,PLACEBET_RESULT_OPPORTUNITYCHANGED=14,PLACEBET_RESULT_BLOCKED=47,PLACEBET_RESULT_FAILED=15,PLACEBET_RESULT_REFERRALREQUIRED=24,REFERBET_RESULT_PLACED=0,REFERBET_RESULT_FAIL=2,REFERBET_RESULT_OPPORTUNITYCHANGED=14,REFERBET_POLL_RESULT_SUCCESS=1,REFERBET_POLL_RESULT_FAIL=2,REFERBET_POLL_RESULT_CONTINUE=3,NOTIFICATION_SOCCER_DEFAULTALERTTYPE=66,NOTIFICATION_HORSERACING_DEFAULTALERTTYPE=8,NOTIFICATION_TENNIS_DEFAULTALERTTYPE=2,NOTIFICATION_BASKETBALL_DEFAULTALERTTYPE=40,SOCCER_CLASSIFICATION="1",HORSERACING_CLASSIFICATION="2",GREYHOUNDS_CLASSIFICATION="4",TENNIS_CLASSIFICATION="13",BASEBALL_CLASSIFICATION="16",BASKETBALL_CLASSIFICATION="18",NO_RESERVES_PLBTIDS=["131","40226"],n.prototype._moduleContainer=null,n.prototype._module=null,n.prototype._containerElem=null,n.prototype._moduleReadyDelegate=null,n.prototype._addClickedDelegate=null,n.prototype._stakeValueChangedDelegate=null,n.prototype._oddsChangedDelegate=null,n.prototype._handicapChangedDelegate=null,n.prototype._oddsAndHandicapChangedDelegate=null,n.prototype._suspensionChangedDelegate=null,n.prototype._placeBetDelegate=null,n.prototype._closeModuleDelegate=null,n.prototype._notificationClickedDelegate=null,n.prototype._checkFixtureNotificationDelegate=null,n.prototype._startItalyPollingDelegate=null,n.prototype._toggleCheckboxDelegate=null,n.prototype._openBetslipDelegate=null,n.prototype._referralAcceptedDelegate=null,n.prototype._enableOverlayClickDelegate=null,n.prototype._toggleFreeBetDelegate=null,n.prototype._disableOverlayClick=!1,n.prototype._previousBetCount=0,n.prototype._currentBetCount=0,n.prototype._overlay=null,n.prototype._currentNotificationOnState=null,n.prototype._checkSubscribtionStatusCallback=null,n.prototype._italyBetPlacedCallBack=null,n.prototype._italyTemporaryBetReference=null,n.prototype._stopItalyPolling=!1,n.prototype._italyPollTimeout=null,n.prototype._sessionExpiryHandled=!1,n.prototype._referralCallBack=null,n.prototype._stopReferralPolling=!1,n.prototype._referralPollTimeout=null,n.prototype._referralReference=null,n.prototype._currentStake=0,n.prototype._freeBetRetryAttempts=0,n.prototype.isVisible=!1,n.prototype.overrideBetslip=!0,n.prototype.betSaved=!1,n.prototype.initialize=function(n){if(!this._moduleContainer){this._moduleReadyDelegate=new ns_gen5_util.Delegate(this,this._moduleReadyHandler);this._addClickedDelegate=new ns_gen5_util.Delegate(this,this._addClickHandler);this._stakeValueChangedDelegate=new ns_gen5_util.Delegate(this,this._stakeValueChangedHandler);this._oddsChangedDelegate=new ns_gen5_util.Delegate(this,this._oddsChangedHandler);this._bbOddsChangedDelegate=new ns_gen5_util.Delegate(this,this._bbOddsChangedHandler);this._handicapChangedDelegate=new ns_gen5_util.Delegate(this,this._handicapChangedHandler);this._oddsAndHandicapChangedDelegate=new ns_gen5_util.Delegate(this,this._oddsAndHandicapChangedHandler);this._suspensionChangedDelegate=new ns_gen5_util.Delegate(this,this._suspensionChangedHandler);this._placeBetDelegate=new ns_gen5_util.Delegate(this,this._placeBetEventHandler);this._closeModuleDelegate=new ns_gen5_util.Delegate(this,this._closeModuleHandler);this._notificationClickedDelegate=new ns_gen5_util.Delegate(this,this._notificationClickedHandler);this._checkFixtureNotificationDelegate=new ns_gen5_util.Delegate(this,this.getNotificationDeviceId);this._startItalyPollingDelegate=new ns_gen5_util.Delegate(this,this._startItalyBetPolling);this._enableOverlayClickDelegate=new ns_gen5_util.Delegate(this,this._enableOverlayClickHandler);this._toggleCheckboxDelegate=new ns_gen5_util.Delegate(this,this._toggleCheckBoxHandler);this._openBetslipDelegate=new ns_gen5_util.Delegate(this,this._openBetslipHandler);this._referralAcceptedDelegate=new ns_gen5_util.Delegate(this,this._referralAcceptedHandler);this._toggleFreeBetDelegate=new ns_gen5_util.Delegate(this,this._toggleFreeBetHandler);this._containerElem=n;this._moduleContainer=new ns_gen5_ui.ModuleContainer;this._moduleContainer.addEventListener(r,this._moduleReadyDelegate);var i=window.location.host;this._moduleContainer.initObject={isItaly:i.substr(i.length-3,3)===".it",taxConfig:sProps.user.taxConfiguration,betSelectionChanged:t._betSelectionChanged,updateQuickBetData:t._updateQuickBetData,betslipCookieHelper:{UpdateCookieValue:t._updateBsCookieValue}};this._moduleContainer.load("QuickBetModule");this._moduleContainer.addEventListener(u,this._addClickedDelegate);this._moduleContainer.addEventListener(f,this._stakeValueChangedDelegate);this._moduleContainer.addEventListener(e,this._oddsChangedDelegate);this._moduleContainer.addEventListener(h,this._bbOddsChangedDelegate);this._moduleContainer.addEventListener(o,this._handicapChangedDelegate);this._moduleContainer.addEventListener(s,this._oddsAndHandicapChangedDelegate);this._moduleContainer.addEventListener(SUSPENSION_CHANGED,this._suspensionChangedDelegate);this._moduleContainer.addEventListener(PLACE_BET,this._placeBetDelegate);this._moduleContainer.addEventListener(CLOSE_MODULE,this._closeModuleDelegate);this._moduleContainer.addEventListener(NOTIFICATION_CLICKED,this._notificationClickedDelegate);this._moduleContainer.addEventListener(NOTIFICATION_CHECK_NOTIFICATION,this._checkFixtureNotificationDelegate);this._moduleContainer.addEventListener(START_ITALY_POLLING,this._startItalyPollingDelegate);this._moduleContainer.addEventListener(ENABLE_OVERLAY_CLICK,this._enableOverlayClickDelegate);this._moduleContainer.addEventListener(TOGGLE_EACH_WAY,this._toggleCheckboxDelegate);this._moduleContainer.addEventListener(TOGGLE_NO_RESERVES,this._toggleCheckboxDelegate);this._moduleContainer.addEventListener(OPEN_BETSLIP,this._openBetslipDelegate);this._moduleContainer.addEventListener(REFERRAL_ACCEPT,this._referralAcceptedDelegate);this._moduleContainer.addEventListener(TOGGLE_FREEBET,this._toggleFreeBetDelegate);this._containerElem.appendChild(this._moduleContainer.getElement());this._containerElem.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)})}},n.prototype._moduleReadyHandler=function(){var n=window.bsApp?window.bsApp.getBetCount(window.bs):0;this._module=this._moduleContainer.getModule();this.canShow()&&(window.betslipTabController.hide(),this.show());siteDataSession.getItem("showBetSlip")=="true"&&(siteDataSession.setItem("showBetSlip",!1),window.bsApp&&window.bsApp.dialogueController&&n>0&&!this.isVisible&&window.setTimeout(function(){window.overlay(1,1);window.scrollToTop();window.bsApp.refreshSlip()},500));this.overrideBetslip=!1},n.prototype.show=function(){var n=window.betDataHelper.getData();!this.isVisible&&n&&this.canShow()&&(this._module.show&&this._module.show(n),this.isVisible=!0,this._updateItemInStorage(),(n.betslipTopic||n.selections&&n.selections.length>0&&n.selections[0].betslipTopic)&&(!n.freeBet||!n.freeBet.isFreeBetFixture)||this._requestSelectionAdded(n.freeBet.isFreeBetFixture))},n.prototype.hide=function(){this._module&&this.isVisible&&(this._currentBetCount=bsApp.getBetCount(window.bs),this._currentBetCount>0?this._module.hide&&this._module.hide():this.remove(),this.isVisible=!1)},n.prototype.remove=function(){this._module&&this.isVisible&&(this._module.remove&&this._module.remove(),this.clearStorage(),this.isVisible=!1)},n.prototype.clearStorage=function(){this._previousBetCount=0;this._currentBetCount=0;this._resetItemInStorage();window.betDataHelper.clearData()},n.prototype.setVisibile=function(n){this._moduleContainer&&this._module&&this._module.setVisible&&this._module.setVisible(n)},n.prototype.hasRequiredData=function(){var n=window.betDataHelper.getData();return n?n.betTypeId&&n.betTypeId==ns_moblib_betslip.BetTypeId.BetBuilder?!!(n.odds&&n.selections&&n.selections.length):!!(n.odds&&n.fixtureDescription&&n.marketDescription&&n.betslipDisplay&&n.participantID):!1},n.prototype._addClickHandler=function(){this._clearStakeAndToReturnCookieValues();this.remove();window.betslipTabController.showBetslipBar()},n.prototype._stakeValueChangedHandler=function(n){var r=n.data.betTypeId||0,i;t.currentStake=n.data.currentStake.replace(",",".");i=n.data.freeBetStake?n.data.freeBetStake.replace(",","."):"";Number(t.currentStake)>0?new b365.Ui.Betslip.ToReturnCalculator(bsApp.bsController._bsInst).calculate(0,r,null,t.currentStake,i):this._clearStakeAndToReturnCookieValues()},n.prototype._bbOddsChangedHandler=function(n){var t=n.data.updateData,i,r;t&&(i=this._getBetItem(t.participantId),r=i.getBBItems()[t.index],r.setValue("o",t.odds),bsApp.bsController._bsInst.updateState())},n.prototype._oddsChangedHandler=function(n){var t=n.data.updateData;t&&(this._updateBetItem("1",t),this._updateItemInStorage())},n.prototype._handicapChangedHandler=function(n){var t=n.data.updateData;this._updateBetItem("2",t);this._updateItemInStorage()},n.prototype._oddsAndHandicapChangedHandler=function(n){var t=n.data.updateData;this._updateBetItem("3",t);this._updateItemInStorage()},n.prototype._suspensionChangedHandler=function(n){var t=this._getBetItem(),i=n.data.isSuspended?"1":"0";t&&(t.setStItem("_s",i),bsApp.bsController._bsInst.updateState(),this._updateItemInStorage())},n.prototype._updateBetItem=function(n,t){var i=this._getBetItem(t.participantId);if(i){if(i.type==bsApp.bsController._bsInst.betTypeBetBuilder&&t.bbConstruct){bsApp.bsController._bsInst.setValueInBSCookie("bb",t.bbConstruct);return}switch(n){case"1":i.type==bsApp.bsController._bsInst.betTypeBetBuilder?i.setStItem("o",t.odds):(i.setCnItem("o",t.odds),t.placeOdds&&i.setCnItem("po",t.placeOdds));break;case"2":i.type==bsApp.bsController._bsInst.betTypeBetBuilder||i.setCnItem("ln",t.handicap);break;case"3":i.type==bsApp.bsController._bsInst.betTypeBetBuilder?i.setStItem("o",t.odds):(i.setCnItem("o",t.odds),t.placeOdds&&i.setCnItem("po",t.placeOdds),i.setCnItem("ln",t.handicap))}t.hash&&i.setStItem("ix",t.hash);t.timeStamp&&i.setCnItem("sa",t.timeStamp);bsApp.bsController._bsInst.updateState()}},n.prototype._updateItemInStorage=function(){var n=window.betDataHelper.getData();n&&setb365SessionStorageItem(ITEM_SESSION_STORGE_KEY,JSON.stringify(n))},n.prototype._resetItemInStorage=function(){setb365SessionStorageItem(ITEM_SESSION_STORGE_KEY,"")},n.prototype._getBetItem=function(n){var r=window.betDataHelper.getData(),t=bsApp.bsController._bsInst,u=n||r.participantID,i;return r.betTypeId===t.betTypeBetBuilder?t.getBetItemById(r.betTypeId,0):(i=t.getBetItemByCn(t.betTypeNormal,"fp",u),i||(i=t.getBetItemByCn(t.betTypeNormal,"pp",u)),i)},n.prototype._clearStakeAndToReturnCookieValues=function(){var n=this._getBetItem();n&&(n.setStItem("st",""),n.setStItem("ust",""),n.setStItem("tr",""),bsApp.bsController._bsInst.updateState())},n.prototype._depositResultHandler=function(n){var t=window.betDataHelper.getData();this._disableOverlayClick=!1;bsApp.dialogueController.removeQuickDepositState();n?(this._module.showAndPlaceBet&&this._module.showAndPlaceBet(t),this.isVisible=!0):this.show()},n.prototype._requestSelectionAdded=function(n){var i=ns_gen5_util_user.RegisteredCountry.IsItalyDomain,r=n&&!i?"op=25":"op=0";this._callQuickBetEndPoint(r,function(n,i){t._saveSelectionAdded(n,i)})},n.prototype._updateBsCookieValue=function(n,t){if(n&&t){var i=window.bs.getBetItemById("single",0);i&&(i.setCnItem(n,t),window.bs.updateState())}},n.prototype._saveSelectionAdded=function(n,i){var u,r;if(!n){i===0&&(r=window.betDataHelper.getData(),++this._freeBetRetryAttempts<5&&r.freeBet&&r.freeBet.isFreeBetFixture&&setTimeout(function(){t._requestSelectionAdded(!0)},1e4));return}this._freeBetRetryAttempts=0;typeof n!="string"&&(u=window.bs.getBetItemById("single",0),u=u||window.bs.getBetItemById("betbuilder",0),u.setCnItem("sa",n.selectionTime),r=window.betDataHelper.getData(),r&&r.freeBet&&(r.freeBet.tokenOfferId=n.tokenOfferId,r.freeBet.tokenValue=n.tokenValue,r.freeBet.isAvailable=n.isFreeBetAvailable),this._module.update&&this._module.update(r));window.bs.updateState()},n.prototype._placeBetEventHandler=function(n){this._disableOverlayClick=!0;this._overlay||this._addOverlay();this._placeBet(n.data.placeBetCallback)},n.prototype._placeBet=function(n){var i="op=2&betsource={0}&betGuid={1}".format(this._getBetSource(),sProps.betGuid);i+=window.device.deviceType?"&devicetype="+window.device.deviceType+"":"";this._callQuickBetEndPoint(i,function(i){t._handlePlaceBetResponse(i,n)})||n&&n.method.call(n.scope,null)},n.prototype._handlePlaceBetResponse=function(n,i){var u=PLACEBET_RESULT_FAILED,f,e,r;n&&(n.betGuid&&(sProps.betGuid=n.betGuid),u=n.betslipResult);switch(u){case PLACEBET_RESULT_INSUFFICIENTFUNDS:this.hide();bsApp.dialogueController.setQuickDepositState();f={minDeposit:n.shortFall,isDepositEnabled:n.isQuickDepositPossible,origin:ns_moblib_enums.QuickDepositOrigin.QuickBet,depositComplete:$.proxy(t._depositResultHandler,t),unlockBetslip:function(){bsApp.dialogueController.removeQuickDepositState();bsApp.dialogueController.resetAndShowBar(!0)}};ns_moblib_modulecontrollers.QuickDepositModuleController.Show(f);e=this;window.setTimeout(function(){e._removeOverlay()},100);this._disableOverlayClick=!1;break;case PLACEBET_RESULT_SUCCESS:bsApp.bsController._bsInst.setValueInBSCookie("processed","true");n.temporaryBetReference||(Locator.user.getBalance().calculateTotalBalance(n.stake,n.freebet),r=n.stake,n.freeBetStake&&(r=r-n.freeBetStake+""),Locator.user.getBalance().updateWithdrawableBalance(r,n.freebet),n.freeBetStake&&Locator.user.getBalance().updateBonusBalance(n.freeBetStake));this._disableOverlayClick=!1;this.betSaved=!0;break;case PLACEBET_RESULT_STAKEBELOWMINIMUM:this._removeOverlay();this._disableOverlayClick=!1;break;case PLACEBET_RESULT_FAILED:case PLACEBET_RESULT_OPPORTUNITYCHANGED:case PLACEBET_RESULT_BLOCKED:case PLACEBET_RESULT_REFERRALREQUIRED:case PLACEBET_RESULT_STAKEABOVEMAXIMUM:default:this._disableOverlayClick=!1}i&&i.method.call(i.scope,n)},n.prototype._removeOverlay=function(){this._overlay&&(this._overlay.parentNode.removeChild(this._overlay),this._overlay=null)},n.prototype._closeModuleHandler=function(){this.closeQuickBet(t)},n.prototype._callQuickBetEndPoint=function(n,i){var u,r;try{r="/betSlip/quickbet.ashx?"+n;r+=Locator.pushedConfig.getIsPushBalanceEnabled()?"&pb=y":"";$.ajax({headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"GET",url:r,cache:!1}).done(function(n){i(n)}).fail(function(u,f,e){if(ErrorReporter.Trace("QuickBetController (MSH)","[QuickBetError] Url: "+r+" | response: "+f+" | Error thrown: "+e),u.status===401&&!t._sessionExpiryHandled){t._sessionExpiryHandled=!0;b365Mobile.account.sessionExpired(function(){if(n.indexOf("betGuid=")<0&&n.match(/.*betGuid=[^\&]+/)){t._callQuickBetEndPoint(n,i);return}t._callQuickBetEndPoint("op=22",function(r){if(!r){i(null);return}sProps.betGuid=r.betGuid;n=n.replace(/(betGuid=)[^\&]+/,"$1"+r.betGuid);t._callQuickBetEndPoint(n,i)})});return}t._sessionExpiryHandled=!1;i(null,u.status)});u=!0}catch(f){t.consecutiveAuthFailureCount=0;ErrorReporter.Trace(this,f);u=!1}return u},n.prototype._getBetSource=function(){return sProps.instantBet?"MobileInstantBet":siteViewController.isWideView?"Lite":"MobileHiEnd"},n.prototype._addOverlay=function(){var n=document.getElementById("page");this._overlay=document.createElement("div");this._overlay.className=i;n.insertBefore(this._overlay,n.firstChild);$(this._overlay).off("click").on("click",function(){t.closeQuickBet(t)});this._overlay.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)})},n.prototype._enableOverlayClickHandler=function(){this._disableOverlayClick=!1},n.prototype.closeQuickBet=function(n){n._disableOverlayClick||(this._currentNotificationOnState!==null&&(this.saveNotification(),window.b365Sport.LiveMatchAlert&&window.b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav(),typeof ns_matchalertslib_manager!="undefined"&&ns_gen5_util.Singleton.getInstance(ns_matchalertslib_manager.LiveAlertsManager).subscriptionsAvailable()),this._stopItalyPolling=!0,this._italyPollTimeout&&(window.clearTimeout(this._italyPollTimeout),this._italyPollTimeout=null),window.bsApp.removeBets(),n._overlay&&(n._overlay.parentNode.removeChild(n._overlay),n._overlay=null),this.betSaved&&window.bsApp&&window.bsApp.canShowEditBetsAdvert()&&window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.editBetsAdvert],function(){window.editBetAdvertController||(window.editBetAdvertController=new b365.EditBetAdvertController);window.editBetAdvertController.load(document.getElementById("eba-Placeholder"),!0)},[],this),this.betSaved=!1)},n.prototype.canShow=function(){var t,n,i;return this.isVisible?t=!0:!this._module||b365Mobile.account.isLoginPopUpDisplayed()||window.sProps.user.secondAuth||sProps.user.membersNotificationsRequired||!bsApp||!bsApp.bsController?t=!1:(n=bsApp.bsController._bsInst,i=n.getBetItems(n.betTypeNormal).length===1&&!n.containsPhoneOnlyBet(),i=i||n.getBetItems(n.betTypeBetBuilder).length===1,this._currentBetCount=bsApp.getBetCount(window.bs),t=this.hasRequiredData()&&this._previousBetCount<=1&&this._currentBetCount===1&&i),t},n.prototype.updateBetCount=function(n){this._currentBetCount!=n&&(this._previousBetCount=this._currentBetCount,this._currentBetCount=n,n>1&&this.isVisible&&(this._clearStakeAndToReturnCookieValues(),this.remove()))},n.prototype._toggleCheckBoxHandler=function(n){var i=this._getBetItem(),r=n.data.isChecked,u=n.data.freeBetStake,t;n.type==TOGGLE_EACH_WAY?(t="ew",i.setStItem("fb",u)):n.type==TOGGLE_NO_RESERVES&&(t="nr");i.setStItem(t,r?"1":"0");bsApp.bsController._bsInst.updateState();this._updateItemInStorage()},n.prototype._openBetslipHandler=function(){overlay(1,1);scrollToTop();window.bsApp.refreshSlip();this.remove()},n.prototype._toggleFreeBetHandler=function(n){var r=this._getBetItem(n.data.participantId),t=n.data.isChecked,f=n.data.freeBetStakeDecimal,u=window.betDataHelper.getData(),i=u&&u.freeBet;i&&(r.setStItem("ft",t?i.tokenOfferId:""),t&&r.setStItem("st",f),i.isSelected=t,bsApp.bsController._bsInst.updateState(),this._updateItemInStorage())},n.prototype._notificationClickedHandler=function(n){this._currentNotificationOnState=n.data.notificationOn},n.prototype.getNotificationDeviceId=function(n){this._currentNotificationOnState=null;t._checkSubscribtionStatusCallback=n.data.notificationStateCallback;window.b365Sport.LiveMatchAlert.obtainDeviceIdWithExternalScope(t.initializeSubscribtionService,t)},n.prototype.initializeSubscribtionService=function(){var r=window.betDataHelper.getData(),n=r.matchAlertsClassificationId,i="quickbetnotificationcheck.livematchalert";$(document).off(i).on(i,$.proxy(t.checkSubscribtionStatus,t));window.sProps.deviceId&&n&&n.length>0&&b365Sport.LiveMatchAlert.IsClassificationEnabled(n)&&b365Sport.SubscriptionManager.init(window.sProps.deviceId,i,[n])},n.prototype.checkSubscribtionStatus=function(){var n=window.betDataHelper.getData(),t,r,i,u,f,e;n&&n.classificationId&&(t=n.matchAlertsClassificationId,subscriptionEnabled=null,r=b365Sport.SubscriptionManager.subscribed(Number(n.parentFixtureId),-1,n.alertKey,-1,t,""),r&&(subscriptionEnabled=r.AlertTypes>0),r==null&&(t=="1"&&(i=window.betDataHelper.getTeamNamesFromFixtureDescription(),i&&i.length==2&&(u=b365Sport.SubscriptionManager.subscribed(0,-1,"",-1,t,i[0]),u&&u.AlertTypes>0&&(subscriptionEnabled=!0),subscriptionEnabled||(f=b365Sport.SubscriptionManager.subscribed(0,-1,"",-1,t,i[1]),f&&f.AlertTypes>0&&(subscriptionEnabled=!0)))),subscriptionEnabled||(e=b365Sport.SubscriptionManager.subscribed(0,-1,n.alertKey,1,t,""),e&&e.AlertTypes>0&&(subscriptionEnabled=!0))),subscriptionEnabled==null&&(subscriptionEnabled=!1),this._checkSubscribtionStatusCallback.call(this._module,subscriptionEnabled))},n.prototype.saveNotification=function(){var i=window.betDataHelper.getData(),n=i.matchAlertsClassificationId,r=i.alertKey,t=this._getDefaultAlertType(n),u=Number(i.parentFixtureId),f=b365Sport.SubscriptionManager.subscribed(u,0,r,0,n,"");this._currentNotificationOnState||(t=0);f&&t!=f.AlertTypes?b365Sport.SubscriptionManager.updatesubscriptionlocal(parseInt(window.sProps.LangID,10),u,0,r,t,0,n,""):t>0&&b365Sport.SubscriptionManager.addsubscriptionlocal(parseInt(window.sProps.LangID,10),u,0,r,t,0,n,"");b365Sport.SubscriptionManager.workflow="quickbet controller";b365Sport.SubscriptionManager.addsubscriptionbatch(n);b365Sport.SubscriptionManager.updatesubscriptionbatch(n);b365Sport.SubscriptionManager.workflow=null;this._currentNotificationOnState=null},n.prototype._getDefaultAlertType=function(n){return n==SOCCER_CLASSIFICATION?NOTIFICATION_SOCCER_DEFAULTALERTTYPE:n==SOCCER_CLASSIFICATION?NOTIFICATION_TENNIS_DEFAULTALERTTYPE:n==TENNIS_CLASSIFICATION?NOTIFICATION_TENNIS_DEFAULTALERTTYPE:n==HORSERACING_CLASSIFICATION?NOTIFICATION_HORSERACING_DEFAULTALERTTYPE:n==BASKETBALL_CLASSIFICATION?NOTIFICATION_BASKETBALL_DEFAULTALERTTYPE:0},n.prototype._startItalyBetPolling=function(n){this._disableOverlayClick=!0;this._italyBetPlacedCallBack=n.data.italyPollingFinishedCallback;this._italyTemporaryBetReference=n.data.temporaryBetReference;this._stopItalyPolling=!1;this._pollBet()},n.prototype._pollBet=function(){this._stopItalyPolling?this._returnItalyBetResult():(this._italyPollTimeout&&(window.clearTimeout(this._italyPollTimeout),this._italyPollTimeout=null),this._italyPollTimeout=window.setTimeout(function(){var n="op=20&trp={0}".format(t._italyTemporaryBetReference);t._callQuickBetEndPoint(n,function(n){t._pollBetResponseHandler(n)})},2e3))},n.prototype._pollBetResponseHandler=function(n){var t=window.betDataHelper.getData(),i;if(!n){this._returnItalyBetResult();return}switch(n.betslipResult){case 1:this._returnItalyBetResult(n);Locator.user.getBalance().calculateTotalBalance(t.stake,t.freebet);i=t.stake;t.freeBetStake&&(i=i-t.freeBetStake+"");Locator.user.getBalance().updateWithdrawableBalance(i,t.freebet);t.freeBetStake&&Locator.user.getBalance().updateBonusBalance(t.freeBetStake);break;case 2:this._returnItalyBetResult(n);break;case 3:this._pollBet();break;default:this._returnItalyBetResult()}},n.prototype._returnItalyBetResult=function(n){this._disableOverlayClick=!1;this._italyBetPlacedCallBack.method.call(this._italyBetPlacedCallBack.scope,n);this._stopItalyPolling=!0;this._italyPollTimeout&&(window.clearTimeout(this._italyPollTimeout),this._italyPollTimeout=null)},n.prototype._referralAcceptedHandler=function(n){this._disableOverlayClick=!0;this._setStakeLimitCookieValue(n.data.stakeLimit.toString());this._referralCallBack=n.data.referralCallback;var i="op=10&betsource={0}&refCode={1}&refTime={2}".format(this._getBetSource(),n.data.referralReference,n.data.referralTimeStamp);t._callQuickBetEndPoint(i,function(n){t._referBetResponseHandler(n)})},n.prototype._referBetResponseHandler=function(n){if(!n){this._returnReferralResult();return}switch(n.betslipResult){case REFERBET_RESULT_PLACED:this._referralReference=n.referralReference;this._stopReferralPolling=!1;this._pollReferral();break;case REFERBET_RESULT_OPPORTUNITYCHANGED:this._returnReferralResult(n);break;default:this._returnReferralResult()}},n.prototype._pollReferral=function(){!this._stopReferralPolling&&t._referralReference?(this._referralPollTimeout&&(window.clearTimeout(this._referralPollTimeout),this._referralPollTimeout=null),this._referralPollTimeout=window.setTimeout(function(){var n="op=11&br={0}".format(t._referralReference);t._callQuickBetEndPoint(n,function(n){t._pollReferralResponseHandler(n)})},5e3)):this._returnReferralResult()},n.prototype._pollReferralResponseHandler=function(n){if(!n){this._returnReferralResult();return}switch(n.betslipResult){case REFERBET_POLL_RESULT_SUCCESS:this._returnReferralResult(n);Locator.user.getBalance().calculateTotalBalance(n.stake,n.freebet);var t=n.stake;n.freeBetStake&&(t=t-n.freeBetStake+"");Locator.user.getBalance().updateWithdrawableBalance(t,n.freebet);n.freeBetStake&&Locator.user.getBalance().updateBonusBalance(n.freeBetStake);break;case REFERBET_POLL_RESULT_FAIL:this._returnReferralResult(n);break;case REFERBET_POLL_RESULT_CONTINUE:this._pollReferral();break;default:this._returnReferralResult()}},n.prototype._returnReferralResult=function(n){this._disableOverlayClick=!1;this._referralCallBack.method.call(this._referralCallBack.scope,n);this._stopReferralPolling=!0;this._referralPollTimeout&&(window.clearTimeout(this._referralPollTimeout),this._referralPollTimeout=null)},n.prototype._setStakeLimitCookieValue=function(n){n&&new b365.Ui.Betslip.stakeLimitChangedHandler(bsApp.bsController._bsInst).addStakeLimit(0,0,n)},n.prototype._betSelectionChanged=function(n,i,r,u){var h=new CouponBetSelect,f,c,o,e,l,y,a,s,v;bsApp&&bsApp.bsController&&bsApp.bsController._bsInst&&(f=bsApp.bsController._bsInst,c=new CouponConstuctStringParser(n),o=c.getBetId(),e=c.getPlaceParticipant(),l=new CouponConstuctStringParser(i),y=l.getBetId(),a=l.getPlaceParticipant(),h.deselectBetById({Id:o}),sportsUIController.itemsRemoved({Id:o}),window.Locator&&window.Locator.betSlipManager&&window.Locator.betSlipManager.deselectBet(o),e&&(h.deselectBetById({Id:e}),sportsUIController.itemsRemoved({Id:e}),window.Locator&&window.Locator.betSlipManager&&window.Locator.betSlipManager.deselectBet(e)),f.clearBets(!1),s=new b365.Ui.Betslip.AddBetConstructDecoder(f,i),v=new b365.Ui.Betslip.AddBetItemsBuilder(f,i).betItems(s.betType()),u&&(data=window.betDataHelper.getData(),freeBetData=data&&data.freeBet,freeBetData&&v[0].setStItem("ft",freeBetData.tokenOfferId)),new b365.Ui.Betslip.DefaultSlipTypeSetter(f).setSlipType(s.betType()),f.setBetItems(v,s.betType()),f.updateState(),h.highlightSelectedBets(),window.Locator&&window.Locator.betSlipManager&&window.Locator.betSlipManager.addBetToBank(y),a&&window.Locator&&window.Locator.betSlipManager&&window.Locator.betSlipManager.addBetToBank(a),r&&t._requestSelectionAdded(),t._moduleContainer&&t._module&&(window.betDataHelper.updateData(t._module.getQuickBetData()),t._updateItemInStorage()),Number(t.currentStake)>0?new b365.Ui.Betslip.ToReturnCalculator(bsApp.bsController._bsInst).calculate(0,0,null,t.currentStake):t._clearStakeAndToReturnCookieValues())},n.prototype._updateQuickBetData=function(){window.betDataHelper.updateData(t._module.getQuickBetData());t._updateItemInStorage()},n}();b365Sport.ServiceWorkerManager=function(){function i(){n=this}var n=this,t=!1;return i.prototype.ObtainDeviceID=function(i,r,u){r||(r=this);t&&n.finish(i,r);navigator.serviceWorker.ready.then(function(f){f.pushManager.getSubscription().then(function(e){if(e){n.SetDeviceID(e);n.finish(i,r);return}var o=siteDataLocal.getItem("chrmDeviceId");if(u)if(o){if(Notification.permission==="default"){sProps.deviceId=o;return}t=!0;n.finish(i,r);f.pushManager.subscribe({userVisibleOnly:!0}).then(function(t){n.SetDeviceID(t);n.finish(i,r);return}).catch(function(t){console.log("ServiceWorker error: "+t);n.finish(i,r);return})}else f.pushManager.subscribe({userVisibleOnly:!0}).then(function(t){n.SetDeviceID(t);n.finish(i,r);return}).catch(function(t){console.log("ServiceWorker error: "+t);n.finish(i,r);return});else if(o&&Notification.permission==="granted"){sProps.deviceId=o;t=!0;window.clearTimeout(window.subscriptionTimeout);n.finish(i,r);return}})})},i.prototype.SetDeviceID=function(n){var i=siteDataLocal.getItem("chrmDeviceId"),r=n.endpoint.replace("https://android.googleapis.com/gcm/send/","")+"@CHRM";i&&r!=i?(siteDataLocal.setItem("chrmDeviceId",r),sProps.deviceId=r,b365Sport.SubscriptionManager&&b365Sport.SubscriptionManager.updatedeviceid(i)):i?sProps.deviceId=i:(siteDataLocal.setItem("chrmDeviceId",r),sProps.deviceId=r);t=!0},i.prototype.finish=function(n,t,i,r){n&&n.call?n.call(t,i,r):typeof n=="function"&&n()},i}();b365.MemberMenuController=function(){function n(){t=this;this._menuModuleContainer=null;this._overlayClickHandler=this._overlayClickHandler.bind(this)}var t,i=window.ns_gen5_util.Delegate;return MEMBERS_LINK_CLICK="MM_MEMBERS_LINK_CLICKED",REFRESH_BALANCE_CLICKED="MM_REFRESH_BALANCE_CLICKED",TOGGLE_BALANCE_CLICKED="MM_TOGGLE_BALANCE_CLICKED",MODULE_LOADED="MM_MODULE_LOADED",TOGGLE_ENABLED="MM_TOGGLE_ENABLED",TOGGLE_DISABLED="MM_TOGGLE_DISABLED",FETCH_MESSAGE_COUNT="MM_FETCH_MESSAGE_COUNT",FETCH_DEPOSIT_DETAILS="MM_FETCH_DEPOSIT_DETAILS",MY_ALERTS_REQUIRES_DEVICE_ID="MM_MY_ALERTS_REQUIRES_DEVICE_ID",MY_ALERTS_EVENT_MEMBERS_MENU_CLOSE="MM_MY_ALERTS_EVENT_MEMBERS_MENU_CLOSE",MY_ALERTS_EVENT_INIT_SUBSCRIPTION_MANAGER="MM_MY_ALERTS_EVENT_INIT_SUBSCRIPTION_MANAGER",MESSAGE_COUNT_THROTTLE_MILLISECONDS=6e4,SESSION_MESSAGE_COUNT="memberMenuMessageCount",SESSION_MESSAGE_COUNT_TIME="memberMenuMessageCountTime",SESSION_QUICK_DEPOSIT_STATE="memberMenuQuickDepositState",QUICK_DEPOSIT_STATE_UNKNOWN="QUICK_DEPOSIT_STATE_UNKNOWN",QUICK_DEPOSIT_STATE_DISABLED="QUICK_DEPOSIT_STATE_DISABLED",QUICK_DEPOSIT_STATE_ENABLED="QUICK_DEPOSIT_STATE_ENABLED",QUICK_DEPOSIT_STATE_VENDORPAYDEFAULT="QUICK_DEPOSIT_STATE_VENDORPAYDEFAULT",SET_LANGUAGE_CLICKED="MM_SET_LANGUAGE_ID",SET_TIMEZONE_CLICKED="MM_SET_TIMEZONE_ID",SET_ODDSDISPLAY_CLICKED="MM_SET_ODDSDISPLAY_ID",SET_MAXINACTIVITYTIME_CLICKED="MM_SET_MAXINACTIVITYTIME_ID",n.prototype._membersClickDelegate=null,n.prototype._refreshBalanceDelegate=null,n.prototype._fetchMessageCountDelegate=null,n.prototype._fetchDepositDetailsDelegate=null,n.prototype._myAlertsMembersMenuCloseDelegate=null,n.prototype._myAlertsRequiresDeviceIdDelegate=null,n.prototype._myAlertsInitSubscriptionManagerDelegate=null,n.prototype._moduleReadyDelegate=null,n.prototype._toggleEnabledDelegate=null,n.prototype._toggleDisabledDelegate=null,n.prototype._balanceToggledDelegate=null,n.prototype._setLanguageDelegate=null,n.prototype._setTimezoneDelegate=null,n.prototype._setOddsDisplayDelegate=null,n.prototype._setMaxInactivityTimeDelegate=null,n.prototype._moduleReady=!1,n.prototype._authMethodsLoaded=!1,n.prototype._menuVisible=!1,n.prototype._depositInProgress=!1,n.prototype._bodyOffsetTopOnOpenMembersDropwdown=0,n.prototype._membersClickHandler=function(n){this.toggle(!1);n.data==="logout"?b365Mobile.account.logOut():n.target.externalLink?window.open(n.data):window.membersRedirect.redirect(n.data)},n.prototype._balanceRefreshHandler=function(){var n=ns_gen5_util.Singleton.getInstance(ns_gen5_util.BalanceModel);n.refreshBalance()},n.prototype._fetchDepositDetailsHandler=function(n){var u,f=n.data.callback,e=this,r=function(){e.toggle(!1);window.membersRedirect.redirect("deposit")},i;t._inFinancialMode&&r();i=mobileBusinessRules.isVendorPayAvailable();t._getQuickDepositState()!==QUICK_DEPOSIT_STATE_DISABLED||i?(u=function(u){t._mosResponseHandler(u,!0,!1,function(){t._getQuickDepositState()===QUICK_DEPOSIT_STATE_ENABLED||t._getQuickDepositState()===QUICK_DEPOSIT_STATE_VENDORPAYDEFAULT&&i?f&&f(u):r()},function(){t._fetchDepositDetailsHandler(n)})},b365Mobile.memberOperations.FetchDepositDetails(u,i,!0)):r()},n.prototype._moduleReadyHandler=function(){var n;this._moduleReady=!0;this.updateAltAuthProperties();n=window.sProps.balance.userTotalBalance.split(".").join(Locator.user.currencyDecimalSeparator);this.setBalance(n,window.sProps.curCode);!window.memberMenuController||!window.headerController||window.headerController.preferenceWasUpdated&&(window.headerController.preferenceWasUpdated=!1,window.headerController.removeProductNav(),window.headerController.toggleMemberMenu(!0),window.memberMenuController.toggle(!0))},n.prototype._myAlertsMembersMenuCloseHandler=function(){this.toggle(!1)},n.prototype._myAlertsRequiresDeviceId=function(n){window.Notification&&window.Notification.permission!="denied"&&(!sProps.deviceId||sProps.deviceId.length===0)?((typeof window.serviceWorkerManager=="undefined"||window.serviceWorkerManager==null)&&(window.serviceWorkerManager=new b365Sport.ServiceWorkerManager),window.serviceWorkerManager.ObtainDeviceID(n.onDeviceIdRegistered,n.scope,!0)):n.onDeviceIdRegistered.call(n.scope)},n.prototype._myAlertsInitSubscriptionManager=function(){window.b365Sport.LiveMatchAlert&&window.b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav()},n.prototype._fetchMenuStateData=function(){var n=!1,i=!1,r,u,o,f,e;t._getQuickDepositState()===QUICK_DEPOSIT_STATE_UNKNOWN&&(n=!0);r=(new Date).getTime();o=t._getLastMessageCountTime();o+MESSAGE_COUNT_THROTTLE_MILLISECONDS<r?(i=!0,t._setLastMessageCountTime(r),t._lastMessageCountUpdate=r):(u=t._getLastMessageCount(),u!=""&&(f=t._menuModuleContainer.getModule(),f&&f.updateMessageCount(u)));e=mobileBusinessRules.isVendorPayAvailable();(i||n||e)&&b365Mobile.memberOperations.FetchMenuStateDetails(function(r){t._mosResponseHandler(r,n,i,null,t._fetchMenuStateData)},n,i,e)},n.prototype._setLanguageHandler=function(n){b365Mobile.memberOperations.SetLanguage(n.data.selectedValue,n.data.callback)},n.prototype._setTimezoneHandler=function(n){b365Mobile.memberOperations.SetTimezone(n.data.selectedValue,n.data.callback)},n.prototype._setOddsDisplayHandler=function(n){b365Mobile.memberOperations.SetOddsPreference(n.data.selectedValue,n.data.callback)},n.prototype._setMaxInactivityTimeHandler=function(n){b365Mobile.memberOperations.SetMaximumInactivityTime(n.data.selectedValue,n.data.callback)},n.prototype._mosResponseHandler=function(n,i,r,u,f){var o,e,s,h,c,l,a,v;if(n){if(n.Success&&n.Response&&n.Response.UserDataResults&&(i&&(o=n.Response.UserDataResults.QuickDepositSupported,e=o===undefined||o===null?QUICK_DEPOSIT_STATE_UNKNOWN:o.indexOf("Menu")!==-1?QUICK_DEPOSIT_STATE_ENABLED:QUICK_DEPOSIT_STATE_DISABLED,h=n.Response.UserDataResults.ApplePaySupported,c=n.Response.UserDataResults.ApplePayIsDefault,h!==undefined&&h!==null&&e===QUICK_DEPOSIT_STATE_DISABLED&&c!==null&&c!=="False"&&(e=QUICK_DEPOSIT_STATE_VENDORPAYDEFAULT),l=n.Response.UserDataResults.GooglePaySupported,a=n.Response.UserDataResults.GooglePayIsDefault,l!==undefined&&l!==null&&e===QUICK_DEPOSIT_STATE_DISABLED&&a!==null&&a!=="False"&&(e=QUICK_DEPOSIT_STATE_VENDORPAYDEFAULT),t._setQuickDepositState(e)),n.Response.UserDataResults.MessageCount!==undefined&&n.Response.UserDataResults.MessageCount!==null&&(s=n.Response.UserDataResults.MessageCount,t._setLastMessageCount(s),v=t._menuModuleContainer.getModule(),v&&v.updateMessageCount(s))),!n.Success&&n.Reason===b365Mobile.MemberOperations.REQUEST_REASON_UNAUTHORISED){b365Mobile.account.sessionExpired(f);return}}else i&&t._setQuickDepositState(QUICK_DEPOSIT_STATE_UNKNOWN),r&&t._setLastMessageCountTime(0);u&&u()},n.prototype._toggleEnabledHandler=function(n){switch(n.data.toggle){case"touchIdSwitch":case"faceIDSwitch":case"fingerprintSwitch":b365Mobile.fingerprintController||(b365Mobile.fingerprintController=new b365Mobile.FingerprintController(b365Mobile.authPopup));b365Mobile.alternativeAuth.clearTouchIdDeclined();b365Mobile.fingerprintController.silentSetup();break;case"passcodeSwitch":this.toggle(!1);b365Mobile.passcodeController||(b365Mobile.passcodeController=new b365Mobile.PasscodeController);b365Mobile.passcodeController.updateDismissCount(0);b365Mobile.passcodeController.initialise(!0)}},n.prototype._toggleDisabledHandler=function(n){switch(n.data.toggle){case"touchIdSwitch":case"faceIDSwitch":case"fingerprintSwitch":b365Mobile.fingerprintController||(b365Mobile.fingerprintController=new b365Mobile.FingerprintController(b365Mobile.authPopup));b365Mobile.fingerprintController.disableTouchId();this.updateAltAuthProperties();break;case"passcodeSwitch":b365Mobile.passcodeController||(b365Mobile.passcodeController=new b365Mobile.PasscodeController);b365Mobile.passcodeController.updateDismissCount(0);b365Mobile.passcodeController.disablePasscode()}},n.prototype._balanceToggledHandler=function(){!window.headerController||window.headerController.toggleBalance()},n.prototype._addOverlay=function(){if(!document.getElementById("hp-MemberMenuOverlay")){var t=document.getElementById("Site"),i=document.getElementById("MemberMenuContainer"),n=document.createElement("div");t=window.siteViewController.isWideView?document.getElementById("page"):document.getElementById("Site");n.id="hp-MemberMenuOverlay";document.body.appendChild(n);n.addEventListener("click",this._overlayClickHandler,!1);i.addEventListener("click",this._overlayClickHandler,!1);(window.Modernizr.supportsnativescrolling||window.device.isAndroid)&&n.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)})}},n.prototype._overlayClickHandler=function(n){(n.target.className.indexOf("mm-MemberMenuModule_Container")>-1||n.target.className.indexOf("mm-MemberMenuModule_Wrapper")>-1||n.target.id==="hp-MemberMenuOverlay")&&(typeof window.memberMenuController!="undefined"||window.memberMenuController!=null)&&window.memberMenuController.toggle(!1)},n.prototype._getQuickDepositState=function(){var n=siteDataSession.getItem(SESSION_QUICK_DEPOSIT_STATE);return n&&n!==""?n:QUICK_DEPOSIT_STATE_UNKNOWN},n.prototype._setQuickDepositState=function(n){n=n||QUICK_DEPOSIT_STATE_UNKNOWN;siteDataSession.setItem(SESSION_QUICK_DEPOSIT_STATE,n)},n.prototype._getLastMessageCount=function(){var n=siteDataSession.getItem(SESSION_MESSAGE_COUNT);return n||""},n.prototype._setLastMessageCount=function(n){n&&siteDataSession.setItem(SESSION_MESSAGE_COUNT,n)},n.prototype._getLastMessageCountTime=function(){var n=siteDataSession.getItem(SESSION_MESSAGE_COUNT_TIME);return!n||n===""?0:parseInt(n,10)},n.prototype._setLastMessageCountTime=function(n){n&&siteDataSession.setItem(SESSION_MESSAGE_COUNT_TIME,n.toString())},n.prototype.initialize=function(n){this._menuModuleContainer||(this._menuModuleContainer=new ns_gen5_ui.ModuleContainer,this._menuModuleContainer.load("MemberMenuModule"),this._menuModuleContainer.initObject={decimalSeparator:sProps.balance.currencyDecimalSeparator},this._menuModuleContainer.initialize(),window.mobileBusinessRules.supportsStickyHeader()||(n.className+=" mm-MemberMenuModule_NoSticky"),n.appendChild(this._menuModuleContainer.getElement()),this._membersClickDelegate=new i(this,this._membersClickHandler),this._menuModuleContainer.addEventListener(MEMBERS_LINK_CLICK,this._membersClickDelegate),this._refreshBalanceDelegate=new i(this,this._balanceRefreshHandler),this._menuModuleContainer.addEventListener(REFRESH_BALANCE_CLICKED,this._refreshBalanceDelegate),this._fetchMessageCountDelegate=new i(this,this._fetchMessageCountHandler),this._menuModuleContainer.addEventListener(FETCH_MESSAGE_COUNT,this._fetchMessageCountDelegate),this._fetchDepositDetailsDelegate=new i(this,this._fetchDepositDetailsHandler),this._menuModuleContainer.addEventListener(FETCH_DEPOSIT_DETAILS,this._fetchDepositDetailsDelegate),this._moduleReadyDelegate=new ns_gen5_util.Delegate(this,this._moduleReadyHandler),this._menuModuleContainer.addEventListener(MODULE_LOADED,this._moduleReadyDelegate),this._toggleEnabledDelegate=new ns_gen5_util.Delegate(this,this._toggleEnabledHandler),this._menuModuleContainer.addEventListener(TOGGLE_ENABLED,this._toggleEnabledDelegate),this._toggleDisabledDelegate=new ns_gen5_util.Delegate(this,this._toggleDisabledHandler),this._menuModuleContainer.addEventListener(TOGGLE_DISABLED,this._toggleDisabledDelegate),this._balanceToggledDelegate=new ns_gen5_util.Delegate(this,this._balanceToggledHandler),this._menuModuleContainer.addEventListener(TOGGLE_BALANCE_CLICKED,this._balanceToggledDelegate),this._setLanguageDelegate=new ns_gen5_util.Delegate(this,this._setLanguageHandler),this._menuModuleContainer.addEventListener(SET_LANGUAGE_CLICKED,this._setLanguageDelegate),this._setTimezoneDelegate=new ns_gen5_util.Delegate(this,this._setTimezoneHandler),this._menuModuleContainer.addEventListener(SET_TIMEZONE_CLICKED,this._setTimezoneDelegate),this._setOddsDisplayDelegate=new ns_gen5_util.Delegate(this,this._setOddsDisplayHandler),this._menuModuleContainer.addEventListener(SET_ODDSDISPLAY_CLICKED,this._setOddsDisplayDelegate),this._setMaxInactivityTimeDelegate=new ns_gen5_util.Delegate(this,this._setMaxInactivityTimeHandler),this._menuModuleContainer.addEventListener(SET_MAXINACTIVITYTIME_CLICKED,this._setMaxInactivityTimeDelegate),this._myAlertsMembersMenuCloseDelegate=new ns_gen5_util.Delegate(this,this._myAlertsMembersMenuCloseHandler),this._menuModuleContainer.addEventListener(MY_ALERTS_EVENT_MEMBERS_MENU_CLOSE,this._myAlertsMembersMenuCloseDelegate),this._myAlertsRequiresDeviceIdDelegate=new ns_gen5_util.Delegate(this,this._myAlertsRequiresDeviceId),this._menuModuleContainer.addEventListener(MY_ALERTS_REQUIRES_DEVICE_ID,this._myAlertsRequiresDeviceIdDelegate),this._myAlertsInitSubscriptionManagerDelegate=new ns_gen5_util.Delegate(this,this._myAlertsInitSubscriptionManager),this._menuModuleContainer.addEventListener(MY_ALERTS_EVENT_INIT_SUBSCRIPTION_MANAGER,this._myAlertsInitSubscriptionManagerDelegate))},n.prototype.toggle=function(n,t){var i=document.getElementById("MemberMenuContainer"),u="mm-MemberMenuModule_Active",f="mm-MemberMenuModule_Loading",r=this;this._depositInProgress&&this._menuVisible||(this._menuVisible=n,b365Mobile.utils.hasClass(i,f)&&b365Mobile.utils.removeClass(i,f),n?(device.iosDevice&&!device.isIPad&&+device.osVersion>=11&&+device.osVersion<11.3&&(r._bodyOffsetTopOnOpenMembersDropwdown=document.body.getBoundingClientRect().top||0,document.body.style.top=r._bodyOffsetTopOnOpenMembersDropwdown+"px",document.body.style.position="fixed",document.body.style.width="100%"),window.betslipTabController&&betslipTabController.hide(),window.quickBetcallController&&window.quickBetcallController.hide(),window.quickBetController&&window.quickBetController.hide(),this._fetchMenuStateData(),b365Mobile.passcodeController&&b365Mobile.passcodeController.dismissPopup(),b365Mobile.utils.addOrAppendClass(i,u),this._addOverlay()):(device.iosDevice&&!device.isIPad&&+device.osVersion>=11&&+device.osVersion<11.3&&(document.body.style.position="",document.body.style.width="",document.body.style.top="",window.scrollTo(0,r._bodyOffsetTopOnOpenMembersDropwdown*-1),r._bodyOffsetTopOnOpenMembersDropwdown=null),b365Mobile.utils.removeClass(i,u),setTimeout(function(){r._menuVisible||(i.style.height="0px")},250),this.removeOverlay(),(typeof window.headerController!="undefined"||window.headerController!=null)&&window.headerController.toggleMemberMenu(!1),window.betslipTabController&&betslipTabController.show(),window.quickBetcallController&&window.quickBetcallController.show(),window.quickBetController&&window.quickBetController.show()),this._menuModuleContainer&&this._menuModuleContainer.invoke(function(i){t!=null?i.toggle(n,t):i.toggle(n)}))},n.prototype.clearSessionState=function(){siteDataSession.setItem(SESSION_MESSAGE_COUNT,"");siteDataSession.setItem(SESSION_MESSAGE_COUNT_TIME,"");siteDataSession.setItem(SESSION_QUICK_DEPOSIT_STATE,"")},n.prototype.AuthMethodsLoaded=function(){t._authMethodsLoaded=!0;t.updateAltAuthProperties()},n.prototype.updateAltAuthProperties=function(){var n;this._moduleReady&&this._authMethodsLoaded&&(n=this._menuModuleContainer.getModule(),n&&n.updateAltAuthSection(window.sProps.availLoginTypes.length>1,b365Mobile.alternativeAuth.getTouchSupported(),b365Mobile.alternativeAuth.getTouchIdActive(),b365Mobile.alternativeAuth.getPasscodeSupported(),b365Mobile.alternativeAuth.getPasscodeActive()))},n.prototype.setBalance=function(n,t){var i;this._menuModuleContainer&&(i=this._menuModuleContainer.getModule(),i&&i.setBalance(n,t))},n.prototype.removeOverlay=function(){var n=document.getElementById("hp-MemberMenuOverlay"),t=document.getElementById("MemberMenuContainer");n&&(n.removeEventListener("click",this._overlayClickHandler,!1),t.removeEventListener("click",this._overlayClickHandler,!1),n.parentNode.removeChild(n))},n.prototype.menuVisible=function(){return this._menuVisible},n}();b365.PreMatchStatsController=function(){function n(n,i,r,u){t=this;this.plbtid=i;this.fixtureId=r;this.teamId=u;this._htmlElementContainer=document.getElementById("preMatchStatsContainer_"+n)}var t,i=window.ns_gen5_util.Delegate;return PREMATCHSTAT_LOADED="PreMatchStat_Loaded",n.prototype._htmlElementContainer=null,n.prototype._icon=null,n.prototype._preMatchStatsController=null,n.prototype._moduleReady=null,n.prototype.preMatchStatsClickedHandler=function(t){function u(n,t){n.className=i(t).test(n.className)?n.className:n.className+" "+t}function f(n,t){n.className=n.className.replace(i(t),"")}var i,r;n.prototype._icon=t.currentTarget;this._htmlElementContainer.children.length===0&&(this.initialize(),this._htmlElementContainer.className.indexOf("preMatchStatsContainer_TeamCoupon")===-1&&t.stopImmediatePropagation());i=function(n){return new RegExp("(^| )"+n+"( |$)")};i("hidden").test(this._htmlElementContainer.className)||this._htmlElementContainer.parentElement.className.indexOf("collapsed")!==-1?(f(this._htmlElementContainer,"hidden"),u(this._icon,"selected"),r=this._preMatchStatsContainer?this._preMatchStatsContainer.getModule():null,r&&r.open()):(u(this._htmlElementContainer,"hidden"),f(this._icon,"selected"));this._htmlElementContainer.parentElement.className.indexOf("collapsed")===-1&&t.stopImmediatePropagation()},n.prototype.dispose=function(){var n=this._preMatchStatsContainer.getModule();n&&n.dispose()},n.prototype.initialize=function(){this._icon.className=this._icon.className+" loading";this._preMatchStatsContainer=new ns_gen5_ui.ModuleContainer;this._preMatchStatsContainer.addEventListener(PREMATCHSTAT_LOADED,new ns_gen5_util.Delegate(this,function(n){n.stopPropagation=!0;this._htmlElementContainer.parentElement.className=this._htmlElementContainer.parentElement.className.replace("collapsed","");this._icon.className=this._icon.className.replace("loading","")}));this._preMatchStatsContainer.load("PreMatchStatsModule");this._preMatchStatsContainer.initObject={plbtid:this.plbtid,fixtureId:this.fixtureId,teamId:this.teamId};this._preMatchStatsContainer.initialize();this._htmlElementContainer.appendChild(this._preMatchStatsContainer.getElement())},n}();b365.PreMatchStatsManager=function(){function n(){t=this;this._statsCollection={}}var t;return n.prototype.FormatIdentifier=function(n,t,i){return i?n+"_"+t+"_"+i:n+"_"+t},n.prototype.CreateStats=function(n,t,i){var r=this.FormatIdentifier(n,t,i);this._statsCollection[r]=new b365.PreMatchStatsController(r,n,t,i)},n.prototype.PreMatchstatsClickedHandler=function(n,t,i,r){this._statsCollection[this.FormatIdentifier(t,i,r)].preMatchStatsClickedHandler(n)},n.prototype.dispose=function(){for(var n in this._statsCollection)this._statsCollection.hasOwnProperty(n)&&this._statsCollection[n].initialized&&this._statsCollection[n].dispose()},n}();b365.MyBetsController=function(){function n(n){this._application=n;this._delegate_MyBetsSiteFeatureStatusHandler=new f(this,this._myBetsSiteFeatureStatusHandler);this._delegate_myBetsInPlayNavigation=new i(this,this._goToInPlayCoupon);this._delegate_myBetsPreMatchNavigation=new i(this,this._goToPreMatchCoupon);this._delegate_myBetsSessionExpiredHandler=new i(this,this._myBetsSessionExpiredHandler);this._delegate_myBetsFeatureDisabledHandler=new i(this,this._myBetsFeatureDisabledHandler);this._delegate_openBetsCountChangedHandler=new i(this,this._openBetsCountChangedHandler);this._delegate_openBetsInitializedHandler=new i(this,this._openBetsInitializedHandler);this._delegate_openBetsEnableChangedHandler=new i(this,this._openBetsEnableChangedHandler);this._delegate_editBetsAddSelection=new i(this,this._editBetsAddSelection);this._delegate_editBetsStartedHandler=new i(this,this._editBetsStartedHandler);this._delegate_editBetItemCancelRequestedHandler=new i(this,this._editBetItemCancelRequestedHandler);this._pendingConfigMyBetsEnable={deferredEnableTimeout:null,asyncOperationInProgress:!1,cancelAsyncOperation:!1};this._isOpenBetsConfigInitialised=!1;this._delegate_autoCashoutHandler=new i(this,this._autoCashoutHandler);this._delegate_editBetsCloseProductNavHandler=new i(this,this._editBetsCloseProductNavHandler);this._delegate_editBetsAddSelectionChangedHandler=new i(this,this._editBetsAddSelectionChangedHandler);this._delegate_editBetsShowAdvertHandler=new i(this,this._editBetsShowAdvertHandler);t=this}var i=window.ns_gen5_util.Delegate,u=window.ns_gen5_config.PushedConfigPropertyChangeEvent,f=window.ns_gen5_util.Delegate,t,e="myb-Overlay",r="EditBetOverlay";return n.prototype._delegate_MyBetsSiteFeatureStatusHandler=null,n.prototype._delegate_myBetsInPlayNavigation=null,n.prototype._delegate_myBetsPreMatchNavigation=null,n.prototype._delegate_myBetsSessionExpiredHandler=null,n.prototype._delegate_myBetsFeatureDisabledHandler=null,n.prototype._delegate_openBetsCountChangedHandler=null,n.prototype._delegate_openBetsInitializedHandler=null,n.prototype._delegate_openBetsEnableChangedHandler=null,n.prototype._delegate_editBetsAddSelection=null,n.prototype._pendingConfigMyBetsEnable=null,n.prototype._isOpenBetsConfigInitialised=!1,n.prototype._application=null,n.prototype._delegate_autoCashoutHandler=null,n.prototype._overlay=null,n.prototype._editBetOverlay=null,n.prototype._addSelectionsOverlay=null,n.prototype._addSelectionsOverlayMessage=null,n.prototype._editBetParticipants=null,n.prototype._delegate_editBetsStartedHandler=null,n.prototype._delegate_editBetItemCancelRequestedHandler=null,n.prototype._delegate_editBetsCloseProductNavHandler=null,n.prototype._delegate_editBetsAddSelectionChangedHandler=null,n.prototype._delegate_editBetsShowAdvertHandler=null,n.prototype._myBetsSiteFeatureStatusHandler=function(n){var f=Locator.pushedConfig.getIsMyBetsSiteFeatureAvailable(),i,t=this,r=new ns_gen5_ui.ModuleContainerAs;r.invoke(function(){if(f){if(window.MyBetsOpenBetsEnabled===!0)return;window.MyBetsOpenBetsEnabled=!0;i=!n||n.type&&n.type===u.PROPERTIES_INITIALISED;var r=i?0:Math.floor(Math.random()*6e4);t._pendingConfigMyBetsEnable.deferredEnableTimeout=setTimeout(function(){t._enableOpenBets()},r)}else{if(window.MyBetsOpenBetsEnabled===!1)return;window.MyBetsOpenBetsEnabled=!1;t._pendingConfigMyBetsEnable.deferredEnableTimeout!==null&&(clearTimeout(t._pendingConfigMyBetsEnable.deferredEnableTimeout),t._pendingConfigMyBetsEnable.deferredEnableTimeout=null);(typeof window.headerController!="undefined"||window.headerController!=null)&&window.headerController.disableMyBetsButton();t._disposeOpenBets();window.MyBetsBetCount=0}});r.load("MyBetsBootModule")},n.prototype._enableOpenBets=function(){this._initialiseOpenBets();this._application.addEventListener(ns_mybetslib_events.OpenBetToInPlayFixtureNavigationEvent.OpenBetsInPlayNavigation,this._delegate_myBetsInPlayNavigation);this._application.addEventListener(ns_mybetslib_events.OpenBetToPreMatchFixtureNavigationEvent.OpenBetsPreMatchNavigation,this._delegate_myBetsPreMatchNavigation)},n.prototype._initialiseOpenBets=function(){if(!this._isOpenBetsConfigInitialised){if(window.b365Mobile.account.isUserLoggedIn()){var n;n=ns_mybetslib.MyBetsSubscriptionsManager.getInstance();n.addEventListener(ns_mybetslib_events.BetEvent.BETS_CONFIGURATION_INITIALIZED,this._delegate_openBetsInitializedHandler);n.addEventListener(ns_mybetslib_events.EditBetAddSelectionChangedEvent.EDITBET_ADDSELECTION_CHANGED,this._delegate_editBetsAddSelectionChangedHandler);this._application.addEventListener(ns_mybetslib_events.BetEvent.SESSION_EXPIRED,this._delegate_myBetsSessionExpiredHandler);n.addEventListener(ns_mybetslib.OpenBetEvent.OPEN_BETS_ENABLED_CHANGE,this._delegate_openBetsEnableChangedHandler);n.addEventListener(ns_mybetslib.OpenBetEvent.OPEN_BET_COUNT_CHANGE,this._delegate_openBetsCountChangedHandler);this._application.addEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_ADD_SELECTIONS,this._delegate_editBetsAddSelection);this._application.addEventListener("autoCashout",this._delegate_autoCashoutHandler);this._application.addEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_STARTED,this._delegate_editBetsStartedHandler);this._application.addEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_CANCEL_REQUESTED,this._delegate_editBetItemCancelRequestedHandler);this._application.addEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_CLOSE_PRODUCT_NAV,this._delegate_editBetsCloseProductNavHandler);this._application.addEventListener(ns_mybetslib.OpenBetEvent.FEATURE_DISABLED,this._delegate_myBetsFeatureDisabledHandler);this._application.addEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_SHOW_ADVERT,this._delegate_editBetsShowAdvertHandler);n.initialized?this._openBetsInitializedHandler():n.init()}this._isOpenBetsConfigInitialised=!0}},n.prototype._openBetsInitializedHandler=function(){var n;n=ns_mybetslib.MyBetsSubscriptionsManager.getInstance();n.initialized&&(n.openBetsEnabled?((typeof window.headerController!="undefined"||window.headerController!=null)&&window.headerController.enableMyBetsButton(),window.headerController.betsCountChanged(n.openBetsCount)):(typeof window.headerController!="undefined"||window.headerController!=null)&&window.headerController.disableMyBetsButton())},n.prototype._openBetsEnableChangedHandler=function(){if(typeof window.headerController!="undefined"||window.headerController!=null){var n=ns_mybetslib.MyBetsSubscriptionsManager.getInstance();n.openBetsEnabled?window.headerController.enableMyBetsButton():window.headerController.disableMyBetsButton()}},n.prototype._goToPreMatchCoupon=function(n){var t=n.classificationId,i=n.fixtureId,r="MyBets/MyBetsFixtureLink.ashx?mb-c="+t+"&mb-f="+i+"&mb-co="+window.sProps.sc.ct;$.ajax(r,{dataType:"json",timeout:1e4}).done(function(n){var i=t+"-"+n[0].C1Id+"-"+n[0].C1IdTable+"-"+n[0].C2Id+"-"+n[0].C2IdTable+"-"+n[0].C3Id+"-"+n[0].C3IdTable+"-0-0-0-0-0-0-0-"+n[0].SectionId+"-0-0-0-0-0-0";window.newPage("Coupon",i,0,window.sProps.LangID,1)})},n.prototype._goToInPlayCoupon=function(n){var i=n.eventId,t=i.split("-");window.location.hash=ns_gen5_util.StringUtil.Format("#type=Coupon;key={0}{1}{2}{3}C{4}_{5}_{6};",t[1],t[2],t[3],t[4],t[0],sProps.LangID,sProps.ZoneID)},n.prototype._refreshSite=function(){window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+"?apptype="+siteDataLocal.getItem("appType")+"&appversion="+siteDataLocal.getItem("appVersion")},n.prototype._myBetsSessionExpiredHandler=function(){this._refreshSite()},n.prototype._myBetsFeatureDisabledHandler=function(){this._refreshSite()},n.prototype._openBetsCountChangedHandler=function(){var n=ns_mybetslib.MyBetsSubscriptionsManager.getInstance();n&&window.headerController.betsCountChanged(n.openBetsCount)},n.prototype._disposeOpenBets=function(){if(window.b365Mobile.account.isUserLoggedIn()){if(!this._isOpenBetsConfigInitialised)return;var n;n=ns_mybetslib.MyBetsSubscriptionsManager.getInstance();this._application.removeEventListener(ns_mybetslib_events.BetEvent.SESSION_EXPIRED,this._delegate_myBetsSessionExpiredHandler);n.addEventListener(ns_mybetslib_events.BetEvent.BETS_CONFIGURATION_INITIALIZED,this._delegate_openBetsInitializedHandler);n.addEventListener(ns_mybetslib_events.EditBetAddSelectionChangedEvent.EDITBET_ADDSELECTION_CHANGED,this._delegate_editBetsAddSelectionChangedHandler);n.removeEventListener(ns_mybetslib.OpenBetEvent.OPEN_BETS_ENABLED_CHANGE,this._delegate_openBetsEnableChangedHandler);n.removeEventListener(ns_mybetslib.OpenBetEvent.OPEN_BET_COUNT_CHANGE,this._delegate_openBetsCountChangedHandler);this._application.removeEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_STARTED,this._delegate_editBetsStartedHandler);this._application.removeEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_CANCEL_REQUESTED,this._delegate_editBetItemCancelRequestedHandler);this._application.removeEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_CLOSE_PRODUCT_NAV,this._delegate_editBetsCloseProductNavHandler);this._application.removeEventListener(ns_mybetslib.EditBetEvent.EDIT_BET_SHOW_ADVERT,this._delegate_editBetsShowAdvertHandler);window.MyBetsContainer||this._application.removeEventListener(ns_mybetslib.OpenBetEvent.FEATURE_DISABLED,this._delegate_myBetsFeatureDisabledHandler);n.dispose();this._isOpenBetsConfigInitialised=!1}},n.prototype._autoCashoutHandler=function(n){var i="/BetSlip/MyBets/AutoCashout.ashx?mb-bid="+n.data.betId;n.data.autoCashOutValue&&(i+="&mb-cv="+n.data.autoCashOutValue);n.data.partialValue&&(i+="&mb-cp="+n.data.partialValue);this._addOverlay();$.ajax({headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"GET",url:i,cache:!1}).done(function(i){t._removeOverlay();n.callback&&n.callback(i)}).fail(function(){t._removeOverlay();n.callback&&n.callback(null)})},n.prototype._addOverlay=function(){var n=document.getElementById("page"),t;this._overlay=document.createElement("div");this._overlay.className=e;n.insertBefore(this._overlay,n.firstChild);t=window.device.isWindows?"MSPointerMove":"touchmove";this._overlay.addEventListener(t,function(n){b365Mobile.utils.preventDefaultEvents(n)})},n.prototype._removeOverlay=function(){this._overlay&&(this._overlay.parentNode.removeChild(this._overlay),this._overlay=null)},n.prototype._editBetsAddSelection=function(n){var t=this;t._editBetOverlay||(t._editBetOverlay=document.getElementById("EditBetOverlay"));t._editBetOverlay.className=t._editBetOverlay.className+" eb-EditBetOverlay-Show";window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.editBets],function(){window.betDataHelper||(window.betDataHelper=new b365.BetDataHelper);window.editBetController||(window.editBetController=new b365.EditBetController);window.editBetController.addSelectionsEnabled=!0;window.editBetController.editBetData=n.data;scroll(0,0);newPage("Home","",!0,sProps.LangID,3)},[],this)},n.prototype._editBetItemCancelRequestedHandler=function(){window.editBetController&&(window.editBetController.removeModule(),window.editBetController=null)},n.prototype._editBetsStartedHandler=function(){window.bsApp.removeBets();var n=window.siteDataLocal.getItem("editBetAdIntroShown");n!=="1"&&(window.siteDataLocal.setItem("editBetAdIntroShown","1"),b365Mobile.memberOperations.SetEditBetAdvertAsViewed())},n.prototype._editBetsCloseProductNavHandler=function(){(typeof window.headerController!="undefined"||window.headerController!=null)&&window.headerController.removeProductNav()},n.prototype._editBetsAddSelectionChangedHandler=function(n){var i=n&&n.addBetAction,t=ns_mybetslib_editbets_enum.AddBetAction;switch(i){case t.Add:this._displayAddSelectionsSuccessMessage();break;case t.Error:this._displayAddSelectionsErrorMessage();break;default:this._dismissEditBetOverlay()}},n.prototype._displayAddSelectionsSuccessMessage=function(){var n=document.getElementById(r);n&&(n.className=n.className.replace(" eb-EditBetOverlay-Show"," eb-EditBetOverlay-DisplayAddedMessage"),n.className=n.className+" eb-EditBetOverlay-SupressSpinner",window.setTimeout(function(){n.className=n.className.replace(" eb-EditBetOverlay-DisplayAddedMessage"," eb-EditBetOverlay_Closing");setTimeout(function(){n.className=n.className.replace(" eb-EditBetOverlay_Closing","");n.className=n.className.replace(" eb-EditBetOverlay-SupressSpinner","")},350)},1500))},n.prototype._dismissEditBetOverlay=function(){var n=document.getElementById(r);n&&window.setTimeout(function(){n.className=n.className.replace(" eb-EditBetOverlay-Show"," eb-EditBetOverlay_Closing");setTimeout(function(){n.className=n.className.replace(" eb-EditBetOverlay_Closing","");n.className=n.className.replace(" eb-EditBetOverlay-SupressSpinner","")},350)},1500)},n.prototype._displayAddSelectionsErrorMessage=function(){window.editBetController&&window.editBetController.showAddBetError()},n.prototype._editBetsShowAdvertHandler=function(){window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.editBetsAdvert],function(){window.editBetAdvertController||(window.editBetAdvertController=new b365.EditBetAdvertController);window.editBetAdvertController.load(document.getElementById("eba-Placeholder"),!1,!0)},[],this)},n.prototype.initialize=function(){if(window.b365Mobile.account.isUserLoggedIn()){var t=[],n=this;t.push(window.resolveScriptPath({path:"myBets/site/site.js"}));window.LazyLoad.js(t,function(){window.Locator.pushedConfig.getArePropertiesInitialised()?n._myBetsSiteFeatureStatusHandler():(window.Locator.pushedConfig.addEventListener(ns_gen5_config.PushedConfigPropertyChangeEvent.IS_MYBETS_SITE_FEATURE_AVAILABLE,n._delegate_MyBetsSiteFeatureStatusHandler),window.Locator.pushedConfig.addEventListener(ns_gen5_config.PushedConfigPropertyChangeEvent.PROPERTIES_INITIALISED,n._delegate_MyBetsSiteFeatureStatusHandler))})}},n.prototype.loadEditBetsPod=function(){var i,n=function(){t._editBetOverlay.removeEventListener("click",n);window.clearTimeout(i);t._editBetOverlay.className=t._editBetOverlay.className+" eb-EditBetOverlay_Closing";setTimeout(function(){t._editBetOverlay.className=t._editBetOverlay.className.replace(" eb-EditBetOverlay-DisplayMessage eb-EditBetOverlay_Closing","")},350)};window.editBetController.loadEditBetPod();t._editBetOverlay&&(t._editBetOverlay.className=t._editBetOverlay.className.replace("eb-EditBetOverlay-Show","eb-EditBetOverlay-DisplayMessage"),t._editBetOverlay.addEventListener("click",n));i=window.setTimeout(function(){t._editBetOverlay.className=t._editBetOverlay.className+" eb-EditBetOverlay_Closing";setTimeout(function(){t._editBetOverlay.className=t._editBetOverlay.className.replace(" eb-EditBetOverlay-DisplayMessage eb-EditBetOverlay_Closing","")},350);t._editBetOverlay.removeEventListener("click",n)},2250)},n.prototype.stateChanged=function(n,t){var i,r="Sports",u=this;(n=="Offer"||n=="InPlay")&&(r=n);this._sidebarModuleContainer&&(i=this._sidebarModuleContainer.getModule(),i&&i.setSelection(r,t))},n}();b365.BetDataHelper=function(){function n(){u=this}function l(n){var r=document.getElementById("LiveMatchAlertHeader"),t,i=null;if(r!=null)i=r.getAttribute("data-fixtureid");else for(t=n;i==null&&t.parentElement!=null;)i=t.getAttribute("data-parentfixtureid"),t=t.parentElement;return i}var u,t="1",f="2",e="13",i="18",o="4",s=["131","40226","40300","40320"],h="QuickBetItem",r="800",c=[10001,10002,10003];return n.prototype._quickBetData=null,n.prototype._prematchLookup={},n.prototype.initialize=function(){data=getb365SessionStorageItem(h);this._quickBetData=data?JSON.parse(data):null},n.prototype.loadJson=function(n){var i=document.getElementsByClassName("qb-JsonData"),t,u,r,f;for(n||(this._prematchLookup={}),r=0,f=i.length;r<f;r++)t=i[r],u=t.innerText?JSON.parse(t.innerText):"",this.processJson(u);while(i.length>0)t=i[0],t.parentNode.removeChild(t);return this._prematchLookup},n.prototype.processJson=function(n){var h,r,c,l,u,a,nt,tt,it,rt,v,y,t,p,w,ut,b,ft,k,et,f,d,ot,g,i,st,e,o,s;if(n&&n.F)for(h=n.F,e=0;e<h.length;e++)if(r=h[e],c=r.FD?r.FD:"",ot=r.VR?r.VR:!1,g=r.CL?r.CL:null,st=r.FB||!1,c&&r.ML)for(l=r.ML,o=0;o<l.length;o++)if(u=l[o],a=u.MD||"",nt=u.PI||"",ut=u.A||!1,rt=!!u.CP,ft=u.T||!1,k=u.TP||"",a&&u.PL)for(y=u.PL,s=0;s<y.length;s++)t=y[s],d=t.US||!1,p=t.PD||"",w=t.AD||"",key=d?t.BS:t.ID||"",b=t.HD||"",tt=!!t.EW,it=!!t.NR,v=t.OT||"",et=t.HH||!1,f=t.RB||"",p&&(this._prematchLookup[key]=i={PD:p,VR:ot,MD:a,PI:nt,FD:c,ID:t.ID,BS:t.BS,FB:st},b&&(i.HD=b),et&&(i.HH=!0),ut&&(i.ASN=!0),tt&&(i.EW=!0),it&&(i.NR=!0),w&&(i.AD=w),rt&&(i.CP=!0),v&&(i.OT=v),g&&(i.CL=g),ft&&(i.TT=!0),k&&(i.TP=k),d&&(i.US=!0),f&&f.length>0&&(i.RB=f));return this._prematchLookup},n.prototype.setData=function(n,i){var e=!1,h="",l=!1,u;return typeof n=="string"?this._setPrematchData(n,i):n.item&&(l=this._getEachWaySelected(n.item.betTypeId),h=this._getNotificationAlertKey(n.item),e=n.item.classificationID==o&&s.indexOf(n.item.marketID)>-1&&n.item.trapNumber,this._quickBetData={betItem:n.item,participantID:n.item.participantID,odds:n.item.odds,handicap:"",labelHandicap:"",constructStringHandicap:n.item.handicap,fixtureDescription:n.item.fixtureDescription,marketDescription:n.item.marketDescription,plbtId:n.item.marketID,betslipDisplay:e?n.item.betslipDisplay||"Trap "+n.item.trapNumber:"",eachWay:{isAvailable:n.item.eachWay,isSelected:l},betslipTopic:n.item.participantID?"BS"+n.item.participantID:"",suspended:!1,oddsTypeOverride:n.item.oddsTypeOverride,decimalPlaces:n.item.decimalPlaces,fixtureId:n.item.fixtureID,classificationId:n.item.classificationID,alertKey:h,matchAlertsClassificationId:n.item.classificationID===r?t:n.item.classificationID,parentFixtureId:n.item.parentFixtureId?n.item.parentFixtureId:n.item.fixtureID,stake:"",noReserves:{isAvailable:e,isSelected:!1,dogName:n.item.participantName.trim()},changePitcher:n.item.hasPitcher,freeBet:{isFreeBetFixture:n.item.isFreeBetFixture,isSelected:!1},isToteRace:n.item.isTote,ausToteProduct:n.item.ausToteProductId,participantTopic:n.item.participantTopic,relatedBets:{},relatedBetsData:n.item.relatedBets,relatedBetItems:n.item.relatedBetItems,partType:n.item.partType,constructString:n.item.constructString,hideOdds:n.item.hideOdds,betTypeId:n.item.betTypeId,selections:n.item.selections,quickBetFixtureId:""},this._quickBetData.classificationId===f&&c.indexOf(this._quickBetData.betTypeId>-1)&&n.Target&&n.Target.stem&&n.Target.stem.data&&n.Target.stem.data.IT&&(u=n.Target.stem.data.IT,u.indexOf("_")>-1&&(this._quickBetData.quickBetFixtureId=u.substring(u.indexOf("_")+1,u.lastIndexOf("_")))),e||this._setDescriptionAndHandicap(n.item.labelHandicap,n.item.formattedHandicap,n.item.betslipDisplay,n.item.participantName)),this._quickBetData},n.prototype._setPrematchData=function(n,u){var o=new CouponConstuctStringParser(n),y=o.getBetId(),k=(u?u.getAttribute("data-pgfpid"):"")||y,p=b365Mobile.hash.getCurrentClassificationId().toString(),s=p===r?t:p,d=b365Mobile.hash.getCurrentKey(),g=d?new b365Mobile.SportsDataKey(d):null,nt="",tt="",it="",w="",rt="",ut=!1,ft=!1,h=o.getBetslipTopicId(),b=!1,et=!1,ot="",f,c,a,st,v;if(constructStringHandicap=o.getHandicap(),handicap=constructStringHandicap||"",lookupItem=null,oddsTypeOverride="",decimalPlaces=null,betslipTopicSplit=[],inplayMarketTopic=u?u.getAttribute("data-inplaymarkettopic"):"",inplayMarketData=[],inplayParticipantBs="",inplayParticipantNa="",inplayParticipantLa="",inplayParticipantHd="",inplayParticipantDescription="",inplayParticipantHandicap="",noReserves=!1,isVirtuals=!1,fixtureAlertKey=u&&(s===t||s===e||s===i)?this._getAlertKeyFromCoupon(u):"",relatedBets={},freebetQualifier=!1,inplayTopic=u?u.getAttribute("data-inplaytopic"):"",marketTopic="",h&&(betslipTopicSplit=h.split("x"),h=betslipTopicSplit[0],betslipTopicSplit.length>=3&&(oddsTypeOverride=betslipTopicSplit[1],decimalPlaces=betslipTopicSplit[2])),this._prematchLookup&&(this._prematchLookup[k]||this._prematchLookup[n]))lookupItem=this._prematchLookup[k]||this._prematchLookup[n],nt=lookupItem.FD,tt=lookupItem.MD,it=lookupItem.PI,w=lookupItem.PD,ut=!!lookupItem.EW,ft=!!(lookupItem.CP&&h==""),noReserves=!!lookupItem.NR,b=lookupItem.ASN||!1,et=lookupItem.TT||!1,ot=lookupItem.TP||"",oddsTypeOverride=lookupItem.OT||"",oddsTypeOverride=b?2:oddsTypeOverride,decimalPlaces=b?3:decimalPlaces,handicap=lookupItem.HH?"":lookupItem.HD||handicap,rt=lookupItem.AD||"",isVirtuals=lookupItem.VR,freebetQualifier=lookupItem.FB||!1;else return;if(this._quickBetData={participantID:y,odds:o.getOdds(),handicap:handicap,labelHandicap:"",constructStringHandicap:constructStringHandicap,fixtureDescription:nt,marketDescription:tt,plbtId:it,betslipDisplay:w?w.replace(handicap,"").trim():"",eachWay:{isAvailable:ut,isSelected:!1},betslipTopic:h,suspended:!1,oddsTypeOverride:oddsTypeOverride,decimalPlaces:decimalPlaces,fixtureId:o.getFixtureId(),classificationId:p,matchAlertsClassificationId:s,alertKey:fixtureAlertKey,parentFixtureId:s===i?l(u):o.getFixtureId(),stake:"",noReserves:{isAvailable:noReserves,isSelected:!1,dogName:rt},changePitcher:ft,isVirtual:isVirtuals?isVirtuals:g&&g.IsVirtualSport,isToteRace:et,ausToteProduct:ot,relatedBets:{},partType:o.getPartType(),constructString:n,freeBet:{isFreeBetFixture:freebetQualifier,isSelected:!1}},!noReserves&&inplayMarketTopic){if(marketTopic=inplayMarketTopic.indexOf("/")>-1?inplayMarketTopic.split("/")[1]:inplayMarketTopic,f=Locator.treeLookup.getReference(marketTopic),f||(inplayMarketTopic=u.getAttribute("data-inplayaltmarkettopic"),marketTopic=inplayMarketTopic&&inplayMarketTopic.indexOf("/")>-1?inplayMarketTopic.split("/")[1]:inplayMarketTopic,marketTopic&&(f=Locator.treeLookup.getReference(marketTopic))),f&&f._actualChildren.length>0&&f._actualChildren[0]._actualChildren.length>0&&(c=f._actualChildren[0]._actualChildren,c.length>0)){for(a=0,st=c.length;a<st;a++)if(c[a].data.ID==y){inplayMarketData=c[a].data;break}inplayParticipantBs=inplayMarketData.BS;inplayParticipantNa=inplayMarketData.NA;inplayParticipantLa=inplayMarketData.LA;inplayParticipantHd=inplayMarketData.HD;this._quickBetData.handicap="";this._setDescriptionAndHandicap(inplayParticipantLa,inplayParticipantHd,inplayParticipantBs,inplayParticipantNa);this._quickBetData.marketDescription=f.data.NA}inplayTopic&&(v=Locator.treeLookup.getReference(inplayTopic),v&&v.data&&v.data.FB&&(this._quickBetData.freeBet.isFreeBetFixture=v.data.FB==="1"?!0:!1))}},n.prototype._setDescriptionAndHandicap=function(n,t,i,r){var f="",u="";n&&(f=n.trim());i?(this._quickBetData.betslipDisplay=i.trim(),this._quickBetData.labelHandicap=f):t===""?(u=r.replace(f,""),u&&(u=u.trim()),this._quickBetData.betslipDisplay=u,this._quickBetData.labelHandicap=f):(this._quickBetData.betslipDisplay=r.trim(),this._quickBetData.handicap=t.trim())},n.prototype._getAlertKeyFromCoupon=function(n){var e=$("#Teams"),i,r,t="",u,f=document.getElementById("LiveMatchAlertHeader");return f?f.getAttribute("data-alertkey"):(e.length>0?(u=$(n).closest("div.teamPage"),t=u.attr("data-alertkey")):(i=$(n).closest(".Section"),i.length>0?t=i.attr("data-alertkey"):(r=$(n).closest(".liveAlertKey"),r.length>0&&(t=r.attr("data-alertkey")))),t)},n.prototype._getNotificationAlertKey=function(n){var e=n.matchAlertsClassificationId||n.classificationID,r,t,i,f,u="";if(sProps.push&&sProps.push.LiveAlertsEnabledClassifications)for(r=sProps.push.LiveAlertsEnabledClassifications,i=0,f=r.length;i<f;i++)if(t=r[i],t.ClassificationId&&t.ClassificationId==e){u=t.ExclusionTypeIdentifier;break}if(u)switch(u){case"LeagueCode":return n.competitionCode||n.competitionKey;case"CompetitionId":return n.competitionKey||n.competitionCode;default:return""}else return""},n.prototype.getTeamNamesFromFixtureDescription=function(){var i,t,n;if(this._quickBetData&&!(this._quickBetData.fixtureDescription.length<1)){for(i=[],t=[" V "," v "," VS "," vs ","vs"," @ ","-"],n=0;n<t.length;n++)if(this._quickBetData.fixtureDescription.indexOf(t[n])>-1){i=this._quickBetData.fixtureDescription.split(t[n]);break}return i}},n.prototype.clearData=function(){this._quickBetData=null},n.prototype.getData=function(){return this._quickBetData},n.prototype.updateData=function(n){this._quickBetData=n},n.prototype._getEachWaySelected=function(n){return n?n===ns_moblib_betslip.BetTypeId.EachWay_SelectedByDefault||n===ns_moblib_betslip.BetTypeId.EWEX_SelectedByDefault||n===ns_moblib_betslip.BetTypeId.EWEX_ForceSelected:!1},n}();b365.QuickBetcallController=function(){function n(){i=this}var i,u=b365.Attribute,r="qb-Overlay",t="QuickBetItem";return n.prototype._moduleContainer=null,n.prototype._module=null,n.prototype._containerElem=null,n.prototype._moduleReadyDelegate=null,n.prototype._previousBetCount=0,n.prototype._currentBetCount=0,n.prototype.isVisible=!1,n.prototype.overrideBetslip=!0,n.prototype._overlay=null,n.prototype.initialize=function(){this._moduleContainer||(this._moduleReadyDelegate=new ns_gen5_util.Delegate(this,this._moduleReadyHandler),this._closeModuleDelegate=new ns_gen5_util.Delegate(this,this._closeModuleHandler),this._callStatusChangedDelegate=new ns_gen5_util.Delegate(this,this._callStatusChangedHandler),this._containerElem=document.body,this._moduleContainer=new ns_gen5_ui.ModuleContainer,this._moduleContainer.initObject={telebetAccountRef:sProps.user.telebetAccountId?sProps.user.telebetAccountId.replace("AU",""):""},this._moduleContainer.addEventListener("QuickBetcallModule_Loaded",this._moduleReadyDelegate),this._moduleContainer.addEventListener("closeModule",this._closeModuleDelegate),this._moduleContainer.load("QuickBetcallModule"),this._containerElem.appendChild(this._moduleContainer.getElement()))},n.prototype.canShow=function(){var n,t,i;return this.isVisible?showQuickcallBet=!0:!this._module||b365Mobile.account.isLoginPopUpDisplayed()||window.sProps.user.secondAuth||sProps.user.membersNotificationsRequired||!bsApp||!bsApp.bsController?showQuickcallBet=!1:(t=bsApp.bsController._bsInst,i=t.containsPhoneOnlyBet(),this._currentBetCount=bsApp.getBetCount(window.bs),n=this.hasRequiredData()&&this._previousBetCount<=1&&this._currentBetCount===1&&i),n},n.prototype.updateBetCount=function(n){this._currentBetCount!=n&&(this._previousBetCount=this._currentBetCount,this._currentBetCount=n,n>1&&this.isVisible&&this.remove())},n.prototype._moduleReadyHandler=function(){var n=window.bsApp?window.bsApp.getBetCount(window.bs):0;this._module=this._moduleContainer.getModule();this._module.registerCallStatusDelegate(this._callStatusChangedDelegate);this.canShow()&&(window.betslipTabController.hide(),this.show());siteDataSession.getItem("showBetSlip")=="true"&&(siteDataSession.setItem("showBetSlip",!1),window.bsApp&&window.bsApp.dialogueController&&n>0&&!this.isVisible&&window.setTimeout(function(){window.overlay(1,1);window.scrollToTop();window.bsApp.refreshSlip()},500));this.overrideBetslip=!1},n.prototype.show=function(){var n=window.betDataHelper.getData();!this.isVisible&&n&&this.canShow()&&(this._module.show(n),this.isVisible=!0,this._updateItemInStorage())},n.prototype.hide=function(){this._module&&this.isVisible&&(this._currentBetCount=bsApp.getBetCount(window.bs),this._currentBetCount>0?this._module.remove():this.remove(),this.isVisible=!1,this._hideOverlay())},n.prototype.remove=function(){this._module&&this.isVisible&&(this._resetItemInStorage(),this._module.remove(),this.isVisible=!1)},n.prototype._updateItemInStorage=function(){var n=window.betDataHelper.getData();n&&setb365SessionStorageItem(t,JSON.stringify(n))},n.prototype._resetItemInStorage=function(){setb365SessionStorageItem(t,"")},n.prototype.hasRequiredData=function(){var t=!1,n=window.betDataHelper.getData();return n&&(t=!!(n.odds&&n.fixtureDescription&&n.marketDescription&&n.betslipDisplay&&n.participantID)),t},n.prototype._closeModuleHandler=function(){window.bsApp.removeBets();this._hideOverlay()},n.prototype._callStatusChangedHandler=function(n){if(this.isVisible)switch(n.type){case"CALLING":case"CONNECTED":this._showOverlay();break;default:this._hideOverlay()}},n.prototype._hideOverlay=function(){this._overlay&&this._overlay.addClass("hidden")},n.prototype._showOverlay=function(){if(this._overlay)this._overlay.removeClass("hidden");else{var t=document.getElementById("page"),n=document.createElement("div");n.className=r;t.insertBefore(n,t.firstChild);$(n).off("click").on("click",function(){});n.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)});this._overlay=$(n)}},n}();b365.BetslipTabController=function(){function n(){t=this}var t,i="BetslipTab_Loaded",r=window.ns_gen5_ui.PointerProcessor;return n.prototype._moduleContainer=null,n.prototype._module=null,n.prototype._containerElem=null,n.prototype._moduleReadyDelegate=null,n.prototype._displayPending=!1,n.prototype.initialize=function(n){if(!this._moduleContainer){if(this._moduleReadyDelegate=new ns_gen5_util.Delegate(this,this._moduleReadyHandler),this._containerElem=n,this._moduleContainer=new ns_gen5_ui.ModuleContainer,this._moduleContainer.addEventListener(i,this._moduleReadyDelegate),this._moduleContainer.initObject={displayBetslipDialog:t._displayBetslipDialog,hasPhoneOnlyItemOnSlip:function(){return window.bsApp.hasPhoneOnlyItemOnSlip()},isLoginPopUpDisplayed:function(){return b365Mobile.account.isLoginPopUpDisplayed()}},this._moduleContainer.load("BetslipTabModule"),window.device.isWindowsPhone&&window.device.osVersion=="8.0"){var u=new r(this._moduleContainer);u.activate()}this._containerElem.appendChild(this._moduleContainer.getElement());this._containerElem.addEventListener("touchmove",function(n){b365Mobile.utils.preventDefaultEvents(n)})}},n.prototype._displayBetslipDialog=function(){overlay(1,1);window.bsApp.refreshSlip()},n.prototype._moduleReadyHandler=function(){typeof ns_betcalculationslib_tax!="undefined"&&ns_betcalculationslib_tax.TaxCalculations.SetTaxConfiguration(sProps.user.taxConfiguration);this._module=this._moduleContainer.getModule();this._displayPending&&(this.checkAndChangeBetslipText(),this._displayPending=!1,this.updateBetslipTab(),this.show())},n.prototype.show=function(){window.quickBetcallController&&window.quickBetcallController.canShow()?window.quickBetcallController.show():window.quickBetController&&window.quickBetController.canShow()?window.quickBetController.show():this.showBetslipBar()},n.prototype.showBetslipBar=function(){this._module?this._module.show():this._displayPending=!0},n.prototype.hide=function(n){window.quickBetcallController&&window.quickBetcallController.hide();window.quickBetController&&window.quickBetController.hide();this._module&&this._module.hide(n)},n.prototype.update=function(n){window.quickBetcallController&&window.quickBetcallController.updateBetCount(n);window.quickBetController&&window.quickBetController.updateBetCount(n);t.updateBetslipTab()},n.prototype.updateBetslipTab=function(n){var i,r,t,u;if(this._module){for(i=window.bs.getBetItems().concat(window.bs.getBetItems(window.bs.betTypeCast).concat(window.bs.getBetItems(window.bs.betTypeBetBuilder))),r=[],t=0,u=i.length;t<u;t++)r.push({odds:i[t].getCnItem("BOdds")||i[t].getCnItem("o"),participantId:i[t].getCnItem("fp"),topic:i[t].getTopic(),isInPlay:!!i[t].getStItem("TP"),line:i[t].getCnItem("ln"),participantType:i[t].getCnItem("pt"),fixtureId:i[t].getCnItem("f")});this._module.update(r,n)}},n.prototype.setVisible=function(n){this._module&&this._module.setVisible(n)},n.prototype.checkAndChangeBetslipText=function(){this._module&&this._module.ready&&this._module.checkAndChangeBetslipText()},n.prototype._addClickHandler=function(){this.hide();this.showBetslipBar()},n}();b365.SearchController=function(){function b(n,t){i=this;w=n;l=t;i.selectedCouponName=null;e=new ns_gen5_util.Delegate(i,d);o=new ns_gen5_util.Delegate(i,nt);f=new ns_gen5_util.Delegate(i,tt);h=new ns_gen5_util.Delegate(i,it);k()}function k(){if(!n){n=new ns_gen5_ui.ModuleContainer;n.addEventListener(s,e);n.addEventListener(a,o);n.addEventListener(v,f);n.addEventListener(y,f);n.addEventListener(p,h);var t={classificationID:l,loadedEventName:s};n.initObject=t;n.load("SearchModule");n.initialize()}}function d(){if(t=document.getElementById("SplashHeader"),r=document.getElementById("SearchIcon"),container=document.getElementById("searchModuleContainer"),t||r){u=n.getModule();container.appendChild(n.getElement());$(r).off("click").on("click",function(){g()});r.className=r.className.replace("Hidden","").trim()}}function g(n){c=n||t.className.indexOf("sm-SearchBar_Active")>-1;c?t.className=t.className.replace("sm-SearchBar_Active","").trim():(t.className=t.className+" sm-SearchBar_Active",device.isWindowsPhone||u.focusOnInput())}function nt(n){n.stopPropagation=!0;siteDataSession.setItem("HorseSearchSelectedName",n.data.horseName);newPage("Coupon",n.data.sportsDataKey,"",sProps.LangID,3)}function tt(n){n.stopPropagation=!0;t.className.indexOf("sm-SearchBar_Active")==-1&&(t.className=t.className+" sm-SearchBar_Active")}function it(n){n.stopPropagation=!0;screen&&screen.width>767&&n.data==!1&&(t.className=t.className.replace("sm-SearchBar_Active","").trim())}var i,s="SearchModule_Loaded",a="SM_NAVIGATE",v="SM_TEXTINPUT",y="SM_TEXTFOCUS",p="SM_TEXTBLUR",n=null,u=null,e=null,o=null,f=null,h=null,r=null,t=null,w=null,c=!1,l=null;return b.prototype.dispose=function(){$(r).off("click");u&&u.dispose();n&&(n.removeEventListener(s,e),n.removeEventListener(a,o),n.removeEventListener(v,f),n.removeEventListener(y,f),n.removeEventListener(p,h),n.dispose());i=null;n=null;u=null;e=null;o=null;r=null;t=null;w=null;c=null;l=null},b}();b365.PromotedCouponsController=function(){function f(n,t,i,r){this._containerElement=n;this._moduleContainer=new ns_gen5_ui.ModuleContainer;var u=this._moduleContainer.getElement();this._containerElement.appendChild(u);this._moduleContainer.initObject={topicId:t};this._moduleContainer.load("PromotedCouponsModule");this._moduleContainer.initialize();i&&a.call(this,i,r)}function h(n){n.type!==t&&this.dispose();n.stopPropagation=!0;e.call(this)}function c(){this._dataSubscriptionEventDelegate=new i(this,h);this._moduleContainer.addEventListener(t,this._dataSubscriptionEventDelegate);this._moduleContainer.addEventListener(u,this._dataSubscriptionEventDelegate)}function e(){this._moduleContainer&&this._dataSubscriptionEventDelegate&&(this._moduleContainer.removeEventListener(t,this._dataSubscriptionEventDelegate),this._moduleContainer.removeEventListener(u,this._dataSubscriptionEventDelegate),this._dataSubscriptionEventDelegate=null)}function l(n){if(this._clientModuleReadyEventCallback){var t=this._clientModuleReadyEventCallback.callback,i=this._clientModuleReadyEventCallback.scope;i?t.call(i):t()}c.call(this);n.stopPropagation=!0;o.call(this)}function a(n,t){n&&(this._clientModuleReadyEventCallback={callback:n,scope:t?t:null});this._moduleReadyDelegate=new i(this,l);this._moduleContainer.addEventListener(r,this._moduleReadyDelegate)}function o(){this._moduleContainer&&this._moduleReadyDelegate&&(this._moduleContainer.removeEventListener(r,this._moduleReadyDelegate),this._moduleReadyDelegate=null)}var i=ns_gen5_util.Delegate,s=s=ns_gen5_events.Event365,n="ns_promotedcouponsmodule.",r=n+"ModuleReadyEvent",t=n+"DataSubscriptionSuccessEvent",u=n+"DataSubscriptionFailEvent";return f.prototype.dispose=function(){if(this._moduleContainer){var n=this._moduleContainer.getElement();this._moduleContainer.dispose();n&&n.parentNode&&this._containerElement.removeChild(n);this._moduleContainer;n=null;o.call(this);e.call(this)}},f}();b365.RunnersPodController=function(){function n(n,r,u){this._containerElement=n;this._moduleContainer=new ns_gen5_ui.ModuleContainer;this._moduleReadyCallback=u;var f=this._moduleContainer.getElement();this._containerElement.appendChild(f);this._moduleContainer.initObject={topicId:r};this._moduleContainer.load("RunnersModule");this._moduleContainer.initialize();this._viewFullRaceDelegate=new t(this,this.viewFullRaceHandler);this._moduleContainer.addEventListener(i,this._viewFullRaceDelegate);this._moduleReadyDelegate=new t(this,this._moduleReadyCallback);this._moduleContainer.addEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,this._moduleReadyDelegate);n.appendChild(f)}var t=ns_gen5_util.Delegate,i="ViewFullRaceEvent";return n.prototype.viewFullRaceHandler=function(n){b365Mobile.navigation.openCouponForSportsDataKey(n.data.sportsDataKey)},n.prototype.dispose=function(){if(this._moduleContainer){var n=this._moduleContainer.getElement();this._moduleContainer.dispose();this._moduleContainer.removeEventListener(i,this._viewFullRaceDelegate);this._moduleContainer.removeEventListener(ns_gen5_events.ModuleEvent.MODULE_READY,this._moduleReadyDelegate)}},n}();b365=b365||{};b365.SportsUIEventRegistrar=function(){function n(n,t,i,r){this._eventSource=n;this._eventName=t;this._handler=i;this._scope=r}var t=ns_gen5_util.Delegate;return n.prototype.register=function(){this._delegate||(this._delegate=new t(this._scope,this._handler),this._eventSource.addEventListener(this._eventName,this._delegate))},n.prototype.unRegister=function(){this._delegate&&(this._eventSource.removeEventListener(this._eventName,this._delegate),this._delegate=null)},n}();b365.HeroController=function(){function t(n,t,i,r){this._containerElement=n;this._moduleContainer=new ns_gen5_ui.ModuleContainer;var f=this._moduleContainer.getElement();this._containerElement.appendChild(f);this._moduleContainer.initObject={topicId:t};this._moduleContainer.load("HeroOfferModule");this._moduleContainer.initialize();this._clientModuleReadyEventCallback={callback:i,scope:r};this._moduleReadyEvent=this.addModuleEventHandler(u,y)}function l(n){n.stopPropagation;b365Mobile.popUpOverlay.overlay(!0,!1,!0);newPage("Offer",n.offerAssetId,!0,sProps.LangID)}function a(n){n.stopPropagation;b365Mobile.account.joinNow()}function v(n){n.stopPropagation;switch(n.keyType){case h:b365Mobile.navigation.goToSportSplashPage(n.dataKey);break;case c:b365Mobile.navigation.openCouponForSportsDataKey(n.dataKey)}}function r(n){var t=document.getElementById("HeroContainer");if(n.stopPropagation=!0,!t){this.dispose();return}t.className.indexOf(" hp-HeroPlaceholder")>-1&&(t.className=t.className.replace(" hp-HeroPlaceholder",""));(n.type=i)?(this._dataSubscriptionSuccessEvent.unRegister(),this._dataSubscriptionFailEvent.unRegister(),this._tsAndCsClickEvent=this.addModuleEventHandler(e,l),this._joinClickEvent=this.addModuleEventHandler(o,a),this._betNowClickEvent=this.addModuleEventHandler(s,v)):this.dispose()}function y(n){if(this._clientModuleReadyEventCallback){var t=this._clientModuleReadyEventCallback.callback,u=this._clientModuleReadyEventCallback.scope;u?t.call(u):t();this._dataSubscriptionSuccessEvent=this.addModuleEventHandler(i,r);this._dataSubscriptionFailEvent=this.addModuleEventHandler(f,r)}n.stopPropagation=!0;this._moduleReadyEvent.unRegister()}var n="ns_herooffermodule.",u=n+"ModuleReadyEvent",i=n+"DataSubscriptionSuccessEvent",f=n+"DataSubscriptionFailEvent",e=n+"TsAndCsClickEvent",o=n+"JoinClickEvent",s=n+"BetNowClickEvent",h=2,c=3;return t.prototype.addModuleEventHandler=function(n,t){var i=new b365.SportsUIEventRegistrar(this._moduleContainer,n,t,this);return i.register(),i},t.prototype.dispose=function(){if(this._moduleContainer){var n=this._moduleContainer.getElement();this._moduleContainer.dispose();n&&n.parentNode&&this._containerElement.removeChild(n);this._tsAndCsClickEvent&&this._tsAndCsClickEvent.unRegister();this._joinClickEvent&&this._joinClickEvent.unRegister();this._betNowClickEvent&&this._betNowClickEvent.unRegister();this._dataSubscriptionSuccessEvent&&this._dataSubscriptionSuccessEvent.unRegister();this._dataSubscriptionFailEvent&&this._dataSubscriptionFailEvent.unRegister();this._moduleReadyEvent&&this._moduleReadyEvent.unRegister();this._moduleContainer=n=null}},t}();StatsManager=function(){function n(){this._statsPodArr=[]}if(typeof ns_gen5_util!="undefined")return n.prototype._preloadPodStemDataFromElement=function(n){var u=this,i,r,t;return n?(t=n.childNodes[0],!t)?null:(i=t.getAttribute("data-topic"),!(i&&i.length))?null:(r=t.innerHTML,u._loadTopicDataIntoSportsUI(i,r),t.parentNode.removeChild(t),i):null},n.prototype._loadTopicDataIntoSportsUI=function(n,t){ns_gen5_data.DataUtil.ParseMessage(t,n)},n.prototype._showStatsPod=function(n){var i=this,t;n&&(t=n.getAttribute("data-topicid"),t)&&i._statsPodArr.push(new b365.StatsController(n,t))},n.prototype.statsIconClicked=function(n){var s=n.className.indexOf("statsIcon_TeamCoupon")>-1,h=n.className.indexOf("statsIconCoupon")>-1,u=s?n.parentNode.parentNode.parentNode:n.parentNode.parentNode,i=null,t=null,f,e,o,r;if(u){if(s){for(f=0;f<u.childNodes.length;f++)if(u.childNodes[f].className==="eventWrapper"){i=u.childNodes[f];break}}else i=u.nextElementSibling;if(i){if(i.className.indexOf("sg-ModuleContainer")>-1)t=i;else for(e=0;e<i.childNodes.length;e++)if(o=i.childNodes[e],o.className&&o.className.indexOf("sg-ModuleContainer")>-1){t=o;break}t&&(t.className.indexOf(" Hidden")==-1?(t.className=t.className+" Hidden",n.className=n.className.replace(" statsIcon_Active","")):(t.className=t.className.replace(" Hidden",""),n.className=n.className+" statsIcon_Active"),h&&(r=n.parentElement.parentElement,r&&(r.className=r.className.indexOf(" statsVisible")==-1?r.className+" statsVisible":r.className.replace(" statsVisible",""))),t.childNodes.length===0&&this._showStatsPod(t))}}},n.prototype.insertStatsData=function(){var t=document.getElementsByClassName("sg-ModuleContainer"),n,i,r;if(t.length>0)for(n=0;n<t.length;n++)i=t[n],r=this._preloadPodStemDataFromElement(i),r&&i.setAttribute("data-topicid",r)},n.prototype.disposeStatsPods=function(){for(var t,n=this;n._statsPodArr.length>0;)t=n._statsPodArr.pop(),t.dispose();n._statsPodArr=[]},n}();b365.StatsController=function(){function n(n,t){this._statsModuleContainer=null;this._statsModuleReadyDelegate=null;this._initialize(n,t)}var i=window.ns_gen5_util.Delegate,r=window.ns_gen5_ui.ModuleContainer,t="StatsModule_Loaded";return n.prototype._initialize=function(n,u){this._statsModuleContainer||(this._containerElem=n,this._statsModuleContainer=new r,this._statsModuleReadyDelegate=new i(this,this._statsModuleReadyHandler),this._statsModuleContainer.addEventListener(t,this._statsModuleReadyDelegate),this._statsModuleContainer.load("StatGraphModule"),this._statsModuleContainer.initObject={topicId:u,disableCanvasAnimation:window.mobileBusinessRules.noCanvasAnimationSupport()},this._statsModuleContainer.initialize(),this._containerElem.appendChild(this._statsModuleContainer.getElement()))},n.prototype.dispose=function(){var n;this._statsModuleContainer&&(n=this._statsModuleContainer.getElement(),this._statsModuleContainer.removeEventListener(t,this._statsModuleReadyDelegate),this._statsModuleContainer.dispose(),n&&this._statsModuleContainer.removeChild(n),this._statsModuleContainer=n=null)},n}();b365.FeaturedFixtureController=function(){function n(n,t,r,u){i=this;this._featuredFixtureModuleContainer=null;this._initialize(n,t,r,u)}var t=window.ns_gen5_util.Delegate,i,r="FeaturedFixtureModule_Loaded";return FEATUREDFIXTURE_FIXTURE_CLICK="FeaturedFixtureModule_FixtureClick",FEATUREDFIXTURE_FIXTURE_DELETED="FeaturedFixtureModule_FixtureDeleted",n.prototype._moduleReadyEventCallback=null,n.prototype._moduleReadyCallbackScope=null,n.prototype._featuredFixtureModuleReadyDelegate=null,n.prototype._featuredFixtureFixtureClickDelegate=null,n.prototype._featuredFixtureFixtureDeletedDelegate=null,n.prototype._initialize=function(n,i,u,f){this._featuredFixtureModuleContainer||(this._moduleReadyEventCallback=u,this._moduleReadyCallbackScope=f,this._containerElem=n,this._featuredFixtureModuleContainer=new ns_gen5_ui.ModuleContainer,this._featuredFixtureModuleReadyDelegate=new t(this,this._featuredFixtureModuleReadyHandler),this._featuredFixtureModuleContainer.addEventListener(r,this._featuredFixtureModuleReadyDelegate),this._featuredFixtureFixtureClickDelegate=new t(this,this._featuredFixtureFixtureClickHandler),this._featuredFixtureModuleContainer.addEventListener(FEATUREDFIXTURE_FIXTURE_CLICK,this._featuredFixtureFixtureClickDelegate),this._featuredFixtureFixtureDeletedDelegate=new t(this,this._featuredFixtureFixtureDeletedHandler),this._featuredFixtureModuleContainer.addEventListener(FEATUREDFIXTURE_FIXTURE_DELETED,this._featuredFixtureFixtureDeletedDelegate),this._featuredFixtureModuleContainer.load("FeaturedFixtureModule"),this._featuredFixtureModuleContainer.initObject={isHomePage:pageType==="Home",topicId:i},this._featuredFixtureModuleContainer.initialize(),this._containerElem.appendChild(this._featuredFixtureModuleContainer.getElement()))},n.prototype._featuredFixtureModuleReadyHandler=function(){this._moduleReadyEventCallback.call(this._moduleReadyCallbackScope,"FeaturedFixturePod");var n=this._containerElem.getAttribute("data-classificationId");window.sProps.deviceId&&n&&n.length>0&&b365Sport.LiveMatchAlert.IsClassificationEnabled(n)&&b365Sport.SubscriptionManager.init(window.sProps.deviceId,"quickbetnotificationcheck.livematchalert",[n])},n.prototype._featuredFixtureFixtureClickHandler=function(n){b365Mobile.navigation.openCouponForSportsDataKey(n.data.sportsDataKey)},n.prototype._featuredFixtureFixtureDeletedHandler=function(){this.dispose()},n.prototype.dispose=function(){var n;this._featuredFixtureModuleContainer&&(n=this._featuredFixtureModuleContainer.getElement(),this._featuredFixtureModuleContainer.removeEventListener(r,this._featuredFixtureModuleReadyDelegate),this._featuredFixtureModuleContainer.removeEventListener(FEATUREDFIXTURE_FIXTURE_CLICK,this._featuredFixtureFixtureClickDelegate),this._featuredFixtureModuleContainer.removeEventListener(FEATUREDFIXTURE_FIXTURE_DELETED,this._featuredFixtureFixtureDeletedDelegate),this._featuredFixtureModuleContainer.dispose(),n&&n.parentElement&&n.parentElement.removeChild(n),this._featuredFixtureModuleContainer=n=null)},n.prototype.setVisible=function(n){n?b365Mobile.utils.removeClass(i._containerElem,"Hidden"):b365Mobile.utils.addOrAppendClass(i._containerElem,"Hidden")},n}();b365.GamingLinksController=function(){function n(n,t,i,u){r=this;this._initialize(n,t,i,u)}var u=window.ns_gen5_util.Delegate,r,t="GamingLinksModule_GameClick",i="GamingLinksModule_Loaded";return n.prototype._moduleContainer=null,n.prototype._containerElem=null,n.prototype._moduleReadyDelegate=null,n.prototype._gameClickDelegate=null,n.prototype._moduleReadyEventCallback=null,n.prototype._moduleReadyCallbackScope=null,n.prototype._initialize=function(n,r,u,f){this._moduleContainer||(this._moduleReadyEventCallback=u,this._moduleReadyCallbackScope=f,this._containerElem=n,this._moduleContainer=new ns_gen5_ui.ModuleContainer,this._gameClickDelegate=new ns_gen5_util.Delegate(this,this._gameClickHandler),this._moduleContainer.addEventListener(t,this._gameClickDelegate),this._moduleReadyDelegate=new ns_gen5_util.Delegate(this,this._moduleReadyHandler),this._moduleContainer.addEventListener(i,this._moduleReadyDelegate),this._moduleContainer.initObject={topicId:r,appType:window.sProps.appType},this._moduleContainer.load("GamingLinksModule"),this._moduleContainer.initialize(),this._containerElem.appendChild(this._moduleContainer.getElement()))},n.prototype._gameClickHandler=function(n){var t=n.data.navigationTarget;t&&navToExternal(t)},n.prototype._moduleReadyHandler=function(){this._moduleReadyEventCallback.call(this._moduleReadyCallbackScope,"GamingLinksPod")},n.prototype.dispose=function(){var n;this._moduleContainer&&(n=this._moduleContainer.getElement(),this._moduleContainer.removeEventListener(t,this._gameClickDelegate),this._moduleContainer.removeEventListener(i,this._moduleReadyDelegate),this._moduleContainer.dispose(),n&&n.parentNode&&this._containerElem.removeChild(n),this._moduleContainer=n=null)},n}();b365.InstantGamesPodController=function(){function n(n,t,i,r){this._disposed=!1;t&&this._initialize(n,t,i,r)}var e=window.ns_gen5_util.Delegate,t="#NV_InstantGames_Footer",u="/sport/sportsdata/gamingandoffers.ashx",f="InstantGamesModule",i="InstantGamesModule_GameClick",r="InstantGamesModule_Loaded";return n.prototype._moduleContainer=null,n.prototype._containerElem=null,n.prototype._moduleReadyDelegate=null,n.prototype._gameClickDelegate=null,n.prototype._moduleReadyEventCallback=null,n.prototype._moduleReadyCallbackScope=null,n.prototype._instantGamesController=null,n.prototype._initialize=function(n,t,u,e){this._moduleContainer||(this._moduleReadyEventCallback=u,this._moduleReadyCallbackScope=e,this._containerElem=n,this._moduleContainer=new ns_gen5_ui.ModuleContainer,this._gameClickDelegate=new ns_gen5_util.Delegate(this,this._gameClickHandler),this._moduleContainer.addEventListener(i,this._gameClickDelegate),this._moduleReadyDelegate=new ns_gen5_util.Delegate(this,this._moduleReadyHandler),this._moduleContainer.addEventListener(r,this._moduleReadyDelegate),this._moduleContainer.initObject={topicId:t},this._moduleContainer.load(f),this._moduleContainer.initialize(),this._containerElem.appendChild(this._moduleContainer.getElement()),window.instantGamesController?this._instantGamesController=window.instantGamesController:(this._instantGamesController=window.instantGamesController=new b365Mobile.instantGamesController,this._instantGamesController.init()))},n.prototype._gameClickHandler=function(n){var t=n.data.gameId;t&&t>0&&window.instantGamesController.launchGame(t,!0,"2")},n.prototype._moduleReadyHandler=function(){this._moduleReadyCallbackScope&&this._moduleReadyEventCallback.call(this._moduleReadyCallbackScope,"InstantGamesHomePod")},n.prototype.dispose=function(){var n;this._moduleContainer&&(n=this._moduleContainer.getElement(),this._moduleContainer.removeEventListener(i,this._gameClickDelegate),this._moduleContainer.removeEventListener(r,this._moduleReadyDelegate),this._moduleContainer.dispose(),n&&n.parentNode&&this._containerElem.removeChild(n),this._moduleContainer=n=null);this._disposed=!0},n.prototype.requestFooterInstantGamesStemData=function(n,i,r){var e=u,f="",o=this;f+="?lid="+sProps.LangID;f+="&zid="+sProps.ZoneID;f+="&pd="+encodeURIComponent(t);f+="&cid="+sProps.sc.ct;f+="&cg="+sProps.sc.ctg;f+="&csid="+sProps.sc.cts;e+=f;$.get(e,function(u){o._disposed||(ns_gen5_data.DataUtil.ParseMessage(u,t),o._initialize(n,t,i,r))})},n}();b365.ModuleManager=function(){function n(){}var t=ns_moblib_util_managers.MobileNavigationManager,r=ns_moblib_util_managers_events.MobileNavigationManagerEvent,i=ns_gen5_ui.Application;return n.prototype._currentModule=null,n.prototype._moduleQueue=[],n.prototype._processing=!1,n.prototype._typeLookup={InPlay:"IP",Splash:"S",Coupon:"C"},n.prototype.loadModule=function(n,i){var r,f,u,e,o;if(!n&&!i)return this.disposeModule(),this.getReturnResponse("",!1,null);if(e=null,n.split("/").length>1){if(f=t.GetPageDataFromHash(),!f)return this.disposeModule(),this.getReturnResponse(i,!1,null);if(f=f.replace(/\//g,"#"),r=ns_moblib_util.SportsDataKey.CreateFromPageData(f),u=ns_navigationlib.ModuleResolver.GetModuleDetails(f,r),!u){i=r.getKey();for(o in this._typeLookup)this._typeLookup[o]===r.pageType&&(e=o)}}else i.indexOf("#")>-1?(r=ns_moblib_util.SportsDataKey.CreateFromPageData(i),f=i):(r=ns_moblib_util.SportsDataKey.CreateFromKey(i),f=r.getPageData(this._typeLookup[new Hash(n).Type])),u=ns_navigationlib.ModuleResolver.GetModuleDetails(f,r);return u?this._currentModule&&this._currentModule.moduleName===u.moduleName&&!this._moduleQueue.length?(t.NavigateTo(u.defaultTopic,1),this.getReturnResponse(r,!0,null)):(this.spinnerTimeout||(this.spinnerTimeout=setTimeout(function(){overlay(1,!0,!0,undefined,!0)},300)),moduleContainer=new ns_gen5_ui.ModuleContainer,moduleContainer.initObject=u,moduleContainer.defaultTopic=u.defaultTopic,this._moduleQueue[this._moduleQueue.length]={container:moduleContainer,moduleName:u.moduleName,defaultTopic:u.defaultTopic},this.processNextModule(),this.getReturnResponse(r,!0,null)):(this.disposeModule(),this.getReturnResponse(r.c1Id?r:i,!1,e))},n.prototype.processNextModule=function(){var i,n;if(!this._processing&&this._moduleQueue.length){if(this._currentModule)if(this._moduleQueue[0].moduleName!==this._currentModule.moduleName)this._currentModule.getModule()&&this._currentModule.getModule().leavePage();else{i=this._moduleQueue.shift();this._moduleQueue.length?this.processNextModule():t.NavigateTo(i.defaultTopic,1);return}this._processing=!0;n=this;moduleContainer.invoke(function(t){n.moduleLoad.call(n,t)});moduleContainer.load(this._moduleQueue[0].moduleName)}},n.prototype.moduleLoad=function(n){clearTimeout(this.spinnerTimeout);this.spinnerTimeout=null;overlay(0,undefined,undefined,undefined,!0);this._moduleQueue.shift();this._currentModule?(this._currentModule._element.parentNode.removeChild(this._currentModule._element),this._currentModule.dispose()):(window.podController&&window.podController.dispose(),i.currentApplication.getElement().innerHTML="");this._currentModule=n.parent;i.currentApplication.appendChild(this._currentModule);b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav();this._processing=!1;this.processNextModule()},n.prototype.getReturnResponse=function(n,t,i){return{isSportsUIStandalone:t,key:n.getKey?n.getKey():n,forcedTypeUpdate:i}},n.prototype.disposeModule=function(){this._currentModule&&this._currentModule.dispose&&(this._currentModule._module.leavePage(),this._currentModule.dispose(),this._currentModule=null);t.RegisterNavigationController(null)},n}();b365.TournamentController=function(){function n(){}var d=" trn-MenuItem_Selected",u=" trn-SubHeader_Hidden",f=" trn-MenuSubHeader_Hidden",e=" trn-Menu_Groups",o=" trn-Menu_Arrow_Hidden",l="TournamentMenu",g="TournamentMenuContainer",nt="TournamentMenuLeftArrow",tt="TournamentMenuRightArrow",it=".trn-MenuItem",rt=".trn-MenuItem, .trn-Menu_CurrentIndicator",ut="trn-MenuItem_Selected",s="2",h="3",c="5",a="14",i="TournamentMenuItem_",ft="TournamentSelectedItemIndicator",et="TournamentTeams",ot="TournamentTeamsContainer",st="TournamentTeamsLeftArrow",ht="TournamentTeamsRightArrow",v=".trn-Teams_Kit",ct=".trn-Teams_Kit, .trn-Teams_Indicator",y=" trn-Teams_Selected",lt="TournamentTeamsIndicator",p="TournamentContent",t="SESM",r="SEMK",w="StatsTableModule_TeamClicked",b="TournamentMarketKey_",at="TPC",k="1";return n.prototype._statsTableModuleContainer=null,n.prototype._knockoutTreeModuleContainer=null,n.prototype._loadTabLink=function(n){var t=n.id,i=t.split("_"),u=i[1];b365Mobile.tournamentHistory.removeItem(r);this._loadSpecialEventSection(t,u,n,"")},n.prototype._loadMatchesSection=function(){var n=s,t=i+n;this._loadSpecialEventSection(t,n,null,"")},n.prototype._loadSpecialEventSection=function(n,t,i,r){i||(i=document.getElementById(n));this._setSelectedMenuItem(i,d);this.animateSelectedTabIndicator(i,ft);this._toggleLeagueTableMessage(t===c);this.dispose();switch(t){case c:this.loadGroups();break;case a:this.loadKnockout();break;default:this._requestPartialData("LoadZone",n,t,!1,r)}},n.prototype._setSelectedMenuItem=function(n,t){var i=document.getElementsByClassName(t)[0];i&&i.className.indexOf(t)>-1&&(i.className=i.className.replace(t,""));n.className.indexOf(t)===-1&&(n.className=n.className+t)},n.prototype._loadTeam=function(n){var r=n.id,u=r.split("_"),f=u[1],t=h,e=i+t;this._requestPartialData("Coupon",e,t,!0,f)},n.prototype._requestPartialData=function(n,i,u,f,e){var o=new NavUrl,c,l,a=this;Overlay(1,1);window.statsManager&&window.statsManager.disposeStatsPods();f||(b365Mobile.tournamentHistory.removeItem(t),b365Mobile.tournamentHistory.addItem(t,i,1));o.ot=sProps.ot;o.lng=sProps.LangID;o.sc=sProps.scProps;o.seid=this.getSpecialEventIdFromKey();o.sem=u;o.appType=siteDataLocal.getItem("appType");o.appVersion=siteDataLocal.getItem("appVersion");o.key=b365Mobile.hash.getCurrentKey();f&&(o.pm="1");e&&(o.tid=e);o.sct=b365Mobile.tournamentHistory.getHistoryList(t);u===s&&(l=b365Mobile.tournamentHistory.getHistoryList(t),l&&(o.sct=o.sct+";"+b365Mobile.tournamentHistory.getHistoryList(r)));o.baseUrl="V6/sport/Tournament/TournamentPartial.aspx";c=function(){Overlay(0,0);window.statsManager||(window.statsManager=new StatsManager);window.statsManager.insertStatsData();u===h?a.initializeTeamPickerScroller(o.tid,f):window.mobileSubNavScroller&&window.mobileSubNavScroller.dispose&&(window.mobileSubNavScroller.dispose(),window.mobileSubNavScroller=null);(new CouponBetSelect).highlightSelectedBets();couponController.initialise(document.getElementById("AutoRefInt").value,couponHistory,sProps,removeMainClickHandler,addMainClickHandler,virtualCouponHandler,function(){Overlay(0,undefined,undefined,undefined,!0)},SportsDataKeyParser,!0);mobileBusinessRules.usePrematchHandlers()&&(window.prematchHandlers?window.prematchHandlers.removeHandlers():window.prematchHandlers=new b365.PrematchHandlers,window.prematchHandlers.addHandlers());b365Mobile.IPPGController&&b365Mobile.IPPGController.dispose();b365Mobile.IPPGController=new b365.IPPGController(k);window.scrollToTop();window.betDataHelper&&window.betDataHelper.loadJson(!1)};ajaxGet(null,c,n,buildUrl(o),null,null)},n.prototype._toggleLeagueTableMessage=function(n){var t=document.getElementById("LeagueTablesUpdateText"),i=document.getElementById("MenuLeagueTablesUpdateText"),r=document.getElementById(l);n?(t&&t.className.indexOf(u)>-1&&(t.className=t.className.replace(u,"")),i&&i.className.indexOf(f)>-1&&(i.className=i.className.replace(f,"")),r&&r.className.indexOf(e)===-1&&(r.className=r.className+e)):(t&&t.className.indexOf(u)===-1&&(t.className=t.className+u),i&&i.className.indexOf(f)===-1&&(i.className=i.className+f),r&&r.className.indexOf(e)>-1&&(r.className=r.className.replace(e,"")))},n.prototype._groupsDispose=function(){this._statsTableModuleContainer&&(this._statsTableModuleContainer.removeEventListener(w,this.statsTableTeamClickedDelegate),this._statsTableModuleContainer.dispose(),this._statsTableModuleContainer=null,this.statsTableTeamClickedDelegate=null)},n.prototype._knockoutDispose=function(){this._knockoutTreeModuleContainer&&(this._knockoutTreeModuleContainer.dispose(),this._knockoutTreeModuleContainer=null)},n.prototype.navigation=function(n){window.couponController.stop();switch(n.getAttribute("data-subnav")){case"TabItem":this._loadTabLink(n);break;case"Team":this._loadTeam(n);break;case"ViewAllMatches":this._loadMatchesSection(n)}},n.prototype.initializeMenuScroller=function(){this.initializeScroller("mobileNavScroller",l,g,nt,tt,it,rt,ut)},n.prototype.initializeTeamPickerScroller=function(n,t){var r=$(v),i;r.length>0&&(i=document.getElementById("Team_"+n),(typeof n=="undefined"||n==null||n==0||typeof i=="undefined"||i==null||i.length==0)&&(i=r[0]),this._setSelectedMenuItem(i,y),t||this.initializeScroller("mobileSubNavScroller",et,ot,st,ht,v,ct,y),this.animateSelectedTabIndicator(i,lt));b365Mobile.leagueTeams.persistState(2,"SP",n)},n.prototype.initializeScroller=function(n,t,i,r,u,f,e,s){var d,c,h,k,g,nt,w,l,a,v,tt,it,b,y,p,rt;if(window.b365Mobile.NavScroller&&window.mobileBusinessRules){tt=document.getElementById(t);b=document.getElementById(i);y=document.getElementById(r);p=document.getElementById(u);it=tt.getBoundingClientRect();h=it.width;c={arrowScrolling:1,cssScrolling:2,iScrollScrolling:3};d=window.mobileBusinessRules.deviceNavScrollerType();switch(d){case c.cssScrolling:case c.iScrollScrolling:rt=d==c.cssScrolling;b.style.width=h+"px";b.style.left="0";y.className.indexOf(o)===-1&&(y.className=y.className+o);p.className.indexOf(o)===-1&&(p.className=p.className+o);w=function(){var r=document.getElementById(t),n=document.getElementById(i),u=r.getBoundingClientRect(),f=u.width;n.style.width=f+"px";n.style.left="0"};rt?(l=document.getElementsByClassName(s)[0],l&&(a=l.getBoundingClientRect(),v=a.left,v>h-a.width&&(k=v-h/2)),window[n]=new window.b365Mobile.NavScroller("#"+i,f,c.cssScrolling,w,null,null,null,null,null,null,null,!1,!1,e,!1)):window[n]=new window.b365Mobile.NavScroller("#"+i,f,c.iScrollScrolling,w,null,null,null,null,null,null,null,null,!1,null,null,s);break;default:g=y.offsetWidth;nt=p.offsetWidth;h-=g+nt+15;b.style.width=h+"px";b.style.left=g+3+"px";w=function(){var f=document.getElementById(t),n=document.getElementById(i),e=f.getBoundingClientRect(),r=e.width,u=y.offsetWidth,o=p.offsetWidth;r-=u+o+15;n.style.width=r+"px";n.style.left=u+3+"px"};l=document.getElementsByClassName(s)[0];l&&(a=l.getBoundingClientRect(),v=a.left,v>h&&(k=h-a.width-v));window[n]=new window.b365Mobile.NavScroller("#"+i,f,c.arrowScrolling,w,null,null,null,"#"+r,"#"+u,null,null,null,!1,e)}k&&window[n].setCurrentOffset(k)}},n.prototype.animateSelectedTabIndicator=function(n,t){var i,r,u;n&&(r=n.offsetLeft,u=n.clientWidth,i=document.getElementById(t),i&&(i.style.width===""&&(i.className.indexOf(" trn-Menu_CurrentIndicator_Animate")==-1&&(i.className=i.className+" trn-Menu_CurrentIndicator_Animate"),i.className.indexOf(" trn-Menu_CurrentIndicator_Hidden")>-1&&(i.className=i.className.replace(" trn-Menu_CurrentIndicator_Hidden",""))),i.style.width=u+"px",i.style.left=r+"px"))},n.prototype.loadPartialMatchCoupon=function(n){var t=s,u=i+t;b365Mobile.tournamentHistory.removeItem(r);b365Mobile.tournamentHistory.addItem(r,b+n,1);this._requestPartialData("LoadZone",u,t,!0)},n.prototype.loadGroups=function(){var u=i+c,n,r;if(!this._statsTableModuleContainer){for(Overlay(1,1),mobileBusinessRules.usePrematchHandlers()&&window.prematchHandlers&&window.prematchHandlers.removeHandlers(),this._statsTableModuleContainer=new ns_gen5_ui.ModuleContainer,n=document.getElementById(p),b365Mobile.tournamentHistory.removeItem(t),b365Mobile.tournamentHistory.addItem(t,u,1),r=this.getSpecialEventIdFromKey(),this._statsTableModuleContainer.initObject={topicId:ns_gen5_util.StringUtil.Format("#AC#B{0}#I^{1}#K^5#","0",r)},this._statsTableModuleContainer.load("StatsTableModule");n.lastChild;)n.removeChild(n.lastChild);n.appendChild(this._statsTableModuleContainer.getElement());this.statsTableTeamClickedDelegate=new ns_gen5_util.Delegate(this,this.teamClickedEventHandler);this._statsTableModuleContainer.addEventListener(w,this.statsTableTeamClickedDelegate);Overlay(0,0)}},n.prototype.loadKnockout=function(){var u=i+a,n,f=this.getSpecialEventIdFromKey(),r;if(!this._knockoutTreeModuleContainer){for(b365Mobile.IPPGController&&(b365Mobile.IPPGController.dispose(),b365Mobile.IPPGController=null),Overlay(1,1),mobileBusinessRules.usePrematchHandlers()&&window.prematchHandlers&&window.prematchHandlers.removeHandlers(),this._knockoutTreeModuleContainer=new ns_gen5_ui.ModuleContainer,n=document.getElementById(p),b365Mobile.tournamentHistory.removeItem(t),b365Mobile.tournamentHistory.addItem(t,u,1),r="#"+at+k+"_"+sProps.LangID,this._knockoutTreeModuleContainer.initObject={topicId:r,specialEventId:f,apiUrl:sProps.knockoutTreeApiUrl},this._knockoutTreeModuleContainer.load("KnockoutTreeLegacyModule");n.lastChild;)n.removeChild(n.lastChild);n.appendChild(this._knockoutTreeModuleContainer.getElement());Overlay(0,0)}},n.prototype.teamClickedEventHandler=function(n){n.stopPropagation=!0;b365Mobile.leagueTeams.persistState(2,n.data.leagueId,n.data.teamId);this._loadSpecialEventSection(i+h,h,null,n.data.teamId)},n.prototype.getSpecialEventIdFromKey=function(){var n=b365Mobile.hash.getCurrentKey(),t,i=0;return n&&n!==""&&(t=new b365Mobile.SportsDataKey(n),i=t.SpecialEventId),String(i)},n.prototype.dispose=function(){this._groupsDispose();this._knockoutDispose()},n.prototype.loadMatchesFromCoupon=function(n){var o=i+s,u,f,e;n&&(u=n.getAttribute("data-sportskey"),f=new CouponKey(u),f.SpecialEventId!=0)&&(e="800-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-{SpecialEventId}-0".replace("{SpecialEventId}",f.SpecialEventId),b365Mobile.tournamentHistory.removeItem(t),b365Mobile.tournamentHistory.addItem(t,o,1),b365Mobile.tournamentHistory.removeItem(r),b365Mobile.tournamentHistory.addItem(r,b+u,1),newPage("Tournament",e,!1,sProps.LangID,1))},n}();splashHistory=new b365.SplashHistory;couponHistory=new b365.CouponHistory;b365Mobile.splashHistory=new b365Mobile.SplashHistory;b365Mobile.couponHistory=new b365Mobile.CouponHistory;b365Mobile.racingFormState=new b365Mobile.RacingFormState;var SPECIAL_EVENT_KEY="800",ITALY_RACING_GROUP_CLASS_ID="2110",ITALY_HORSE_RACING_CLASS_ID="2110",ITALY_TROTTING_CLASS_ID="2111",MULTIMAKER_CLID=-61,KNOCKOUTTREE_TAB_ID=3,siteDataSession=new b365.SiteDataSession,siteDataLocal=new b365.SiteDataLocal,meetingTimesTimer,touchBuster=new TouchBuster,amon=null,appWidget=null,moduleManager=new b365.ModuleManager;$(document).ready(function(){$(document).off("showoverlay").on("showoverlay",function(){overlay(1,1)});$(document).off("hideoverlay").on("hideoverlay",function(){overlay(0,0,undefined,undefined,!0)});$(document).off("showloginpage").on("showloginpage",function(){newLoginPage()})});LastDropDownMenuOption=function(){this.lastOption=[];this.setLastOptionSelected=function(n,t){this.lastOption[0]=n;this.lastOption[1]=t};this.getLastOptionSelected=function(){return this.lastOption}};window.androidAppCallbacks={};window.androidAppCallbacks.onGetSpeakerStatus=function(n){sProps.speakerOn=n};resizeTimeout=null;window.onerror=function(n,t,i,r,u){u?ErrorReporter.Trace("Global Error",u):ErrorReporter.Trace("Global Error","{ msg: "+n+", filename: "+t+", lineno: "+i+", colno: "+r+", error: "+u+" }")};
/*! Version : [V1] */
var _catURL=null,mipscd=0,mipslp=0,logouttime="",checkTime=null,inactivityTimeout=null,Inactivity={_catURL:null,_timeoutURL:null,_timeoutMsg:null,_mPopup:null,_mBox:null,ajaxGet:function(n,t,i,r,u){var f,e;b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.getKMLActive()||(f=this.getCookie("pstk"),f&&(f.indexOf("&processform=0")>0&&(f=f.replace("&processform=0","")),f.lastIndexOf("0004")==f.length-4&&(e=typeof i=="object"?i:document.getElementById(i),typeof u=="undefined"&&(u=1),u===1&&e&&(e.innerHTML=""),n&&n.apply(),$.ajax({headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},type:"GET",url:r,cache:!1}).done(function(n,i,r){var u;u=checkScriptHeaders(r);u!==""?window.location.href=u:r.getResponseHeader("X-b365-Location")&&(window.location.href=r.getResponseHeader("X-b365-Location"));t&&t(n)}))))},getCookie:function(n){for(var r,u,i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=i[t].substr(0,i[t].indexOf("=")),u=i[t].substr(i[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==n)return unescape(u);return null},loadXMLStringToDOM:function(n){return window.DOMParser?(window.parser=new DOMParser,window.xmlDoc=window.parser.parseFromString(n,"text/xml")):(window.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),window.xmlDoc.async=!1,window.xmlDoc.loadXML(n)),window.xmlDoc},InitPageCIT:function(n,t){mipslp==0&&Inactivity.CheckInactivityTimeout(n,t,!0)},CheckInactivityTimeout:function(n,t,i){_catURL=n;_timeoutURL=t;var r=new Date;i||r.getTime()>=checkTime.getTime()?(checkTime=null,inactivityTimeout&&(clearTimeout(inactivityTimeout),inactivityTimeout=null),Inactivity.ajaxGet(null,Inactivity.OnGetInactivityPeriod,null,n,0)):inactivityTimeout=setTimeout("Inactivity.CheckInactivityTimeout('"+_catURL+"','"+_timeoutURL+"')",1e3)},OnGetInactivityPeriod:function(n,t){mipslp=0;var i=Inactivity.loadXMLStringToDOM(n);i!=null&&Inactivity.ProcessGetInactivityPeriodXML(i,t)},ProcessGetInactivityPeriodXML:function(n){var i=n.documentElement,r,u,t,f;if(i!=null&&i.getAttribute("result")=="OK"){var e=i.getElementsByTagName("SecondsRemaining"),o=i.getElementsByTagName("LogoutTime"),s=i.getElementsByTagName("mips");e&&e.length>0&&(r=e.item(0));o&&o.length>0&&(u=o.item(0));s&&s.length>0&&(t=s.item(0));t!=null?(siteDataSession.setItem("mips",t.textContent),mipslp=1,_timeoutURL="Account/GetInactivityTimeout.aspx?mips="+t.textContent,_catURL=_catURL+t.textContent,checkTime=new Date,checkTime.setSeconds(checkTime.getSeconds()+(t.textContent-60)),inactivityTimeout=setTimeout("Inactivity.CheckInactivityTimeout('"+_catURL+"','"+_timeoutURL+"')",1e3)):r!=null&&u!=null&&(f=r.textContent?r.textContent:r.text,logoutTime=u.textContent?u.textContent:u.text,isNaN(f)||(f<=5?b365Mobile.account.logOut():f<=60?mipscd==0&&(Inactivity.ajaxGet(null,Inactivity.MessagePopUp,null,"Account/SessionTimeout.aspx?lng="+sProps.LangID,0),mipslp=1,checkTime=new Date,checkTime.setSeconds(checkTime.getSeconds()+55),inactivityTimeout=setTimeout("Inactivity.CheckInactivityTimeout('"+_catURL+"','"+_timeoutURL+"')",1e3)):mipscd==0&&mipslp==0&&(mipslp=1,checkTime=new Date,checkTime.setSeconds(checkTime.getSeconds()+(f-60)),inactivityTimeout=setTimeout("Inactivity.CheckInactivityTimeout('"+_catURL+"','"+_timeoutURL+"')",1e3))))}},MessagePopUp:function(n){mipscd=1;ns_moblib_util_managers.FloatingNativeVideoController.HideFloatingNativeVideo();overlay(1,0,0,!0);var i=n,t=CreatePopupBox("PopUpBox",i,!0);t.setAttribute("data-mode","activity");document.getElementById("logouttime")&&(document.getElementById("logouttime").innerHTML=logoutTime);findOverlayPopupElement()&&b365Mobile.utils.RemoveElement(OVERLAYPOP_ELEMENT_ID);window.event&&b365Mobile.utils.stopEventPropagation(window.event);_mPopup=$(t);_mBox=$(".PopUpForm");b365Mobile.alternativeAuth&&b365Mobile.alternativeAuth.setSuppressAltAuthPrompt(!1)},Showing:function(){return mipscd==1},ResetInactivity:function(){Inactivity.Showing()?touchSession():Inactivity.ajaxGet(null,null,null,"account/KeepSessionActive.aspx")}};AudioUtils=function(){this.getASController=function(){return asController||(asController=new ASControllerObject,asController.errorLogger=asLogError,asController.playStateChangedHandler=asUpdateDisplay,asController.initialise()),asController};this.getAudioMenuUrl=function(){return"sport/SportControls/Audio/AudioStreamingMenu.aspx?cl="+this.getASController().displayClassificationId+"&ql="+this.getRequiredAudioQuality()};this.getAudioStreamControllerUrl=function(n,t){return"sport/SportControls/Audio/AudioStreamController.aspx?cl="+this.getASController().playingClassificationId+"&mi="+n+"&ql="+this.getRequiredAudioQuality()+"&mn="+t};this.getClassificationIdFromDataNav=function(n){var t=null,i={};return i.classId=0,n!=null&&n.length!=0&&(t=n.split("_"),t.length==2&&(i.classId=t[1])),i};this.getMediaEventParamsFromElement=function(n){var r=null,t={},i="",u;return(t.classId=0,t.mediaId=0,t.eventId=0,t.mediaStream="",!n)?t:(i=n.getAttribute("data-nav"),i==null||i.length==0)?t:i=="aEventIcon_"&&(u=n.nextSibling,u&&(i=u.getAttribute("data-nav"),i==null||i.length==0))?t:(r=i.split("_"),r.length==5&&(t.classId=r[1],t.mediaId=r[2],t.eventId=r[3],t.mediaStream=r[4]),t)};this.getRequiredAudioQuality=function(){var n=null;return Modernizr.audioqualitynone?n="None":Modernizr.audioqualityhigh&&(n="Hi"),n};this.getElementPopupMenu=function(){return document.getElementById("AudioMenuPopUpBox")};this.getElementAudioMenuButton=function(){return document.getElementById("aMenuButton")};this.getElementMediaEvent=function(){var n=null,t=this.getASController();return n=$("a[data-nav='aEventText_"+t.playingClassificationId+"_"+t.mediaId+"_"+t.eventId+"_"+t.mediaStream+"']"),n=n.length==0?null:n[0],t=null,n};this.getElementMediaEventIcon=function(){var n=this.getElementMediaEvent(),t=null;return n&&(t=n.previousSibling),t};this.getTabsCollection=function(){return $("ul li","#aClassificationContainer")};this.isInPlayAudioAvailable=function(){return $("span[data-status='inplay_audio']","#Coupon").length!=0};this.shouldShowAudioMenuButton=function(n,t,i){var r=i;switch(n){case"Login":r=!1;break;case"InPlay":case"Sport":case"Splash":case"ip_sport":r=t==2||t==4?!0:r;break;case"Coupon":r=t==2||t==4?!0:i||asUtils.isInPlayAudioAvailable()}return r};this.isLoading=function(){return this.getASController().isLoading};this.isPlaying=function(){return!this.getASController().audioPlayer.paused};this.restyle=function(){var n=asUtils.getTabsCollection(),i=100,t;if(n&&n.length!=0)for(i=Math.floor(100/n.length),t=0;t<n.length;t++)n[t].style.width=i+"%"};this.getClassificationIdFromInPlayPage=function(){var i=0,n="",r=$("#InPlayRibbonSportTitle"),t=null;return!r||r.length==0?i:(n=r.attr("class"),!n&&n.length==0)?i:(t=n.split("_"),!t||t.length!=2)?i:t[1]};this.isDevicePauseCompatible=function(){var n=!0;return device.isAndroid&&agent.toLowerCase().search(/android 4./)!=-1&&(n=!1),n};this.closeAudioMenu=function(){if(this.popupIsShown){var n=this.getElementPopupMenu();overlay(0);n&&(n.innerHTML="");n=null;this.popupIsShown=!1}};this.showAudioMenu=function(n,t){var r=function(){overlay(1,0,0,!0)},u=function(){asUpdateDisplay()},i;n=="AudioMenu"&&(asUtils.isLoading()||asUtils.isPlaying()?asUtils.getASController().displayClassificationId=asUtils.getASController().playingClassificationId:(t?i=t:(i=b365Mobile.hash.getCurrentClassificationId(),i==0&&(i=asUtils.getClassificationIdFromInPlayPage())),asUtils.getASController().displayClassificationId=i));ajaxGet(r,u,asUtils.getElementPopupMenu(),asUtils.getAudioMenuUrl(),!0);this.popupIsShown=!0};this.popupIsShown=!1};asUtils=new AudioUtils;asController=null;document.elementToScroll=null;b365Mobile.forms={setTextFieldPlaceHolder:function(){if(!Modernizr.placeholder){var n=$(":text");n.each(function(){var n=$(this);n.val()===""&&n.attr("placeholder")!==""&&(n.val(n.attr("placeholder")),n.focus(function(){n.val()===n.attr("placeholder")&&n.val("")}),n.blur(function(){n.val()===""&&n.val(n.attr("placeholder"))}))})}},setPasswordFieldPlaceHolder:function(){if(!Modernizr.placeholder){var n,t;n=$(":password");t=n.eq(0).attr("id");n.val(n.attr("placeholder"));n.replaceWith(n.clone().attr("type","text"));n=$("#"+t);n.focus(function(){n.val("");n.replaceWith(n.clone().attr("type","password"));$(":password").get(0).focus()})}}};try{document.addEventListener("DOMContentLoaded",function(){setTimeout(contentLoaded,200)},!1)}catch(DOMContentLoadedNotsupported){setTimeout(contentLoaded,500)}cancelAddingHandler=!1;footerInPlayNoticeVisible=!1;window.onclick=hrefEvent;popupBoxId="PopUpBox";popUpListenerClickHandler=function(n){var t;IsClickEventForCheckBox(n)?HandleClickEventForCheckBox(n.target):(t=GetElementOrAncestorHavingTitle(n.target,2),processNav(t));b365Mobile.utils.stopEventPropagation(n);(n.target.href&&n.target.href.substring(0,4)!=="tel:"||t&&t.getAttribute("target")!="_blank")&&b365Mobile.utils.preventDefaultEvents(n)};CouponBetSelect=function(){this._selectors=['.V6.racing div[id^="CPN_"] section[data-nav], div#Coupon.V6.racing section[data-nav]','.V6.racing div[id^="CPN_"] div[data-nav], div#Coupon.V6.racing table[data-nav], .V6.racing .Section.MoreMarketsPod div[data-nav]',"#lgtbl-Pod .lgtbl-Row_Market","div#Coupon div.ScorecastRow div[data-nav]",'div[id^="CPN_"] div[data-nav]',"div#Coupon td[data-nav]","div#Coupon .priceColumn[data-nav]","div#Coupon li[data-nav]","li.next3RacesRow","div#Coupon .podEventRow[data-nav]",".msvs-RacingRow[data-nav]",".msvs-Coupon_Item[data-nav]","",".selectableOdds[data-nav]"];this._deSelectors=['.V6.racing div[id^="CPN_"] section[data-nav].Selected, div#Coupon.V6.racing section[data-nav].Selected','.V6.racing div[id^="CPN_"] div[data-nav].Selected, div#Coupon.V6.racing table[data-nav].Selected, .V6.racing .Section.MoreMarketsPod div[data-nav].Selected',"#lgtbl-Pod .lgtbl-Row_Market.Selected","div#Coupon div.ScorecastRow div[data-nav].Selected",'div[id^="CPN_"] div[data-nav].Selected',"div#Coupon td[data-nav].Selected","div#Coupon .priceColumn.Selected[data-nav]","div#Coupon .podEventRow[data-nav]","div#Coupon li[data-nav].selected","li.next3RacesRow.Selected",".msvs-RacingRow[data-nav].Selected",".msvs-Coupon_Item[data-nav].Selected",".msvs-Coupon_CombinationItem.Selected",".selectableOdds.Selected"];this._getBetslipIdList=function(n){var t=[],i,u,r;return $.each(n,function(n,f){i=new CouponConstuctStringParser(f.getCn());u=i.getBetId();t.push(u);r=i.getPlaceParticipant();r&&t.push(r)}),t};this._getObjectCell=function(n){var t=n.className;return t&&t.toLowerCase().indexOf("cpr")!=-1?n.parentNode:n}};CouponBetSelect.prototype={highlightBet:function(n){var t=this._getObjectCell(n);$(t).addClass("Selected")},unhighlightBet:function(n){var t=this._getObjectCell(n);$(t).removeClass("Selected")},highlightSelectedBets:function(){var e=bs.getBetItems(),r,n,t,o,i,s,f=window.editBetController&&window.editBetController.addSelectionsEnabled===!0,u;if(e.length>0&&bsApp.betCount>0||f){if(f){if(r=window.editBetController.getBetIdList(),!r)return}else r=this._getBetslipIdList(e);for(t=0,o=this._selectors.length;t<o;t++)if(n=$(this._selectors[t]),n.length>0){for(i=0,s=n.length;i<s;i++)u=new CouponConstuctStringParser($(n[i]).data("nav")).getBetId(),u&&$.inArray(u.toString(),r)>-1&&($(n[i]).addClass("Selected"),f&&window.editBetController.isBetIdOnOriginalBet({Id:u})&&$(n[i]).addClass("SelectedEditBet"));if(this._selectors[t].indexOf("lgtbl-Row_Market")!=-1&&this._selectors[t].indexOf("scorecastRow")!=-1)break}}},deselectBet:function(n){var u,i,t,f,r,e,o;if(n)for(u=new CouponConstuctStringParser(n.getCn()).getBetId(),t=0,f=this._deSelectors.length;t<f;t++)if(i=$(this._deSelectors[t]),i.length>0){for(r=0,e=i.length;r<e;r++)if(o=new CouponConstuctStringParser($(i[r]).data("nav")).getBetId(),o===u){$(i[r]).removeClass("Selected");break}if(this._selectors[t].indexOf("lgtbl-Row_Market")!=-1&&this._selectors[t].indexOf("scorecastRow")!=-1)break}},deselectBetById:function(n){var u,t,r,f,i,e,o;if(n&&n.Id!==null){for(r=0,f=this._deSelectors.length;r<f;r++)if(t=$(this._deSelectors[r]),t.length>0){for(i=0,e=t.length;i<e;i++){if(u=new CouponConstuctStringParser($(t[i]).data("nav")).getBetId(),!u&&(u=t[i].getAttribute("data-betid"),u===n.Id.replace(/\,/g,""))){$(t[i]).removeClass("Selected");break}if(u==n.Id){$(t[i]).removeClass("Selected");break}if(o=t[i].getAttribute("data-nav"),o&&o.indexOf("fp="+n.Id)>-1){$(t[i]).removeClass("Selected");break}}break}}else for(r=0,f=this._deSelectors.length;r<f;r++)if(t=$(this._deSelectors[r]),t.length>0){for(i=0,e=t.length;i<e;i++)$(t[i]).removeClass("Selected");break}},clearHighlightedBets:function(){for(var t,i,u,n=0,r=this._deSelectors.length;n<r;n++)if(t=$(this._deSelectors[n]),t.length>0){for(i=0,u=t.length;i<u;i++)$(t[i]).removeClass("Selected");if(this._selectors[n].indexOf("lgtbl-Row_Market")!=-1&&this._selectors[n].indexOf("scorecastRow")!=-1)break}}};CouponConstuctStringParser=function(n){this.constructString=typeof n!="undefined"?n:"";this.getKVPArray=function(){return this.constructString.split("#")};this.csKVPArray=this.getKVPArray()};CouponConstuctStringParser.prototype={isScorecast:function(){return this.constructString.indexOf("pid=")>-1&&this.constructString.indexOf("mid=")>-1},isFCTC:function(){var n=this.constructString.toUpperCase();return n.startsWith("NES")||n.startsWith("NEC")||n.startsWith("NTS")||n.startsWith("NTC")},isAdditionalHcap:function(){return this.constructString.indexOf("Inc")>=0||this.constructString.indexOf("bodds")>=0},findKVPArrayItem:function(n){for(var i,r=null,t=0;t<this.csKVPArray.length;t++)if(i=this.csKVPArray[t].split("="),i[0]==n){r=i[1];break}return r},getFCTCBetId:function(){var t=this.constructString.indexOf("~")+1,n=null;return this.constructString.indexOf("st=")>=0&&(n=this.constructString.lastIndexOf("~")),this.constructString.slice(0,3).toUpperCase()+this.constructString.slice(t,n)},getFixtureId:function(){return this.findKVPArrayItem("f")},getOdds:function(){return typeof this.findKVPArrayItem("BOdds")!="undefined"&&this.findKVPArrayItem("BOdds")?this.findKVPArrayItem("BOdds"):this.findKVPArrayItem("o")},getBetId:function(){var n,t,r,i;return this.isScorecast()?n=this.findKVPArrayItem("pid")+":"+this.findKVPArrayItem("mid"):this.isFCTC()?n=this.getFCTCBetId():this.isAdditionalHcap()?(n=this.findKVPArrayItem("fp"),t=this.findKVPArrayItem("Inc"),t&&(i=parseFloat(t),i!==0&&(n+="~inc"+i)),r=this.findKVPArrayItem("bodds"),r&&(n+="~bodds")):n=this.findKVPArrayItem("fp")||this.constructString,n},getHandicap:function(){return this.findKVPArrayItem("Inc")?this.findKVPArrayItem("Inc"):this.findKVPArrayItem("ln")},getBetslipTopicId:function(){var n=this.findKVPArrayItem("|TP");return n?n:""},getPartType:function(){if(this.findKVPArrayItem("pt"))return this.findKVPArrayItem("pt")},getPlaceParticipant:function(){if(this.findKVPArrayItem("pp"))return this.findKVPArrayItem("pp")}};ns=ns||{};ns.mobile=ns.mobile||{};ns.mobile.betslip=ns.mobile.betslip||{};ns.mobile.betslip.MatchAlertSignUpModel=function(){function n(n,t){var i,r;for(this.fixtures=n,this.betReceiptCallback=t,this.uniqueClassifications=[],i=0;i<this.fixtures.length;i++)r=this.fixtures[i],r.classificationId&&this.uniqueClassifications.indexOf(r.classificationId)==-1&&this.uniqueClassifications.push(r.classificationId);this._setup()}var t=66,i=8,r=2,u=40,f=1;return HORSERACING_CLASSIFICATION=2,TENNIS_CLASSIFICATION=13,BASKETBALL_CLASSIFICATION=18,n.prototype.registered=!1,n.prototype.fixtures=null,n.prototype.betReceiptCallback=null,n.prototype.uniqueClassifications=null,n.prototype._setup=function(){if(window.b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav(!1,!1),sProps.deviceId){var n="matchlive.alerts.init";$(document).off(n).on(n,$.proxy(this._setInitialState,this));this.registered=!0;b365Sport.SubscriptionManager.init(sProps.deviceId,n,this.uniqueClassifications)}},n.prototype._register=function(n){var t=ns_moblib_util.AppNotificationsHandler,i;if(this.registered){t.AppSupportsNewNotificationQueryAPI()?t.AreNotificationsAllowed(n):n();return}if(this.registered=!0,t.AppSupportsNewNotificationQueryAPI()){i=function(t,i){if(t||!i.result){b365Sport.LiveMatchAlert.LoadDialog(!1);return}var r="matchlive.alerts.init";$(document).off(r).on(r,function(){$(document).off(r);n()}.bind(this));b365Sport.SubscriptionManager.init(sProps.deviceId,r,this.uniqueClassifications)};t.AreNotificationsAllowed(i.bind(this));return}window.Notification&&window.Notification.permission=="denied"&&n();window.b365Sport.LiveMatchAlert.obtainDeviceIdWithExternalScope(function(){if(!sProps.deviceId||sProps.deviceId.length==0){n();return}var t="matchlive.alerts.init";$(document).off(t).on(t,function(){$(document).off(t);n()}.bind(this));b365Sport.SubscriptionManager.init(sProps.deviceId,t,this.uniqueClassifications)},this)},n.prototype._setInitialState=function(){var i,n,o,t,r,u,f,e;for($(document).off("matchlive.alerts.init"),i=this.fixtures.length;i--;)n=this.fixtures[i],o=n.fixtureId,t=!1,n.classificationId===1&&(r=b365Sport.SubscriptionManager.subscribed(0,n.team1Id,"",-1,n.classificationId,""),r&&r.AlertTypes>0&&(t=!0),t||(u=b365Sport.SubscriptionManager.subscribed(0,n.team2Id,"",-1,n.classificationId,""),u&&u.AlertTypes>0&&(t=!0))),t||(f=b365Sport.SubscriptionManager.subscribed(0,-1,n.alertKey,1,n.classificationId,""),f&&f.AlertTypes>0&&(t=!0)),e=b365Sport.SubscriptionManager.subscribed(o,-1,n.alertKey,-1,n.classificationId,""),e&&(t=e.AlertTypes>0),n.subscribed=t;this.betReceiptCallback&&this.betReceiptCallback()},n.prototype.subscribe=function(){for(var l=parseInt(sProps.LangID,10),o,s,h,n,c,e=0,a=this.fixtures.length;e<a;e++)n=this.fixtures[e],o=n.fixtureId,s=n.alertKey,h=n.classificationId,n.subscribed?(n.classificationId==f&&(n.alertTypes=t),n.classificationId==TENNIS_CLASSIFICATION&&(n.alertTypes=r),n.classificationId==HORSERACING_CLASSIFICATION&&(n.alertTypes=i),n.classificationId==BASKETBALL_CLASSIFICATION&&(n.alertTypes=u)):n.alertTypes=0,c=b365Sport.SubscriptionManager.subscribed(o,0,s,0,h,""),c&&n.alertTypes!=c.AlertTypes?b365Sport.SubscriptionManager.updatesubscriptionlocal(l,o,0,s,n.alertTypes,0,h,""):n.alertTypes>0&&b365Sport.SubscriptionManager.addsubscriptionlocal(l,o,0,s,n.alertTypes,0,h,"");b365Sport.SubscriptionManager.workflow="signupModel";for(e in this.uniqueClassifications)b365Sport.SubscriptionManager.addsubscriptionbatch(this.uniqueClassifications[e]),b365Sport.SubscriptionManager.updatesubscriptionbatch(this.uniqueClassifications[e]);b365Sport.SubscriptionManager.workflow=null;b365Sport.LiveMatchAlert.InitSubscriptionManagerPageNav();b365Sport.LiveMatchAlert.LoadSingleFixtureAlerts($("#LiveMatchAlertMenu"));typeof ns_matchalertslib_manager!="undefined"&&ns_gen5_util.Singleton.getInstance(ns_matchalertslib_manager.LiveAlertsManager).subscriptionsAvailable()},n}();var bsApp,BetslipApp=function(){var n=this,t;n.bsController=null;n.betslipBarHandler=null;n.betCount=0;n.currentCouponLink=null;n.dialogueController=null;n.liveAlertsEnabledClassifictions={soccer:"1",horseracing:"2",tennis:"13",basketball:"18"};n.betSelect=null;n.overlay=null;n.domainId=0;n.DomainIdEnum={unknown:0,it:1,com:2,es:3,gr:4,au:5,dk:6};t=window.location.hostname.split(".").pop();window.location.hostname&&n.DomainIdEnum.hasOwnProperty(t)&&(n.domainId=n.DomainIdEnum[t]);n.bsContext={ClientEnhancedMode:function(){return window.mobileBusinessRules.clientEnhancedMode()},ShowStakePadToolTips:function(){return window.mobileBusinessRules.showStakePadToolTips()},ClientBetSlipShowing:function(){return!!n.dialogueController&&n.dialogueController.active()},ClientUsesSelect:function(){return sProps.instantBet},ClientActionInProgress:function(t){n.dialogueController&&n.dialogueController.setActionInProgress(t)},GetCurrencyObject:function(){return{decimalSeparator:window.sProps.balance.currencyDecimalSeparator,thousandsSeparator:window.sProps.balance.currencyGroupSeparator}},ClientLoginDelegate:function(){n.dialogueController&&n.dialogueController.active()?(n.dialogueController.resetAndShowBar(!1),scrollToTop(),b365Mobile.account.logInPopUp()):(scrollToTop(),b365Mobile.account.logInPopUp())},RetainSelectionsDelegate:function(){var n=$(".betReceipt"),t=n&&n.find(".ifBet, .reverseIfBet").length>0?1:n.find(".stake").length},ClientContinueDelegate:function(){var t,i=0;n.dialogueController&&n.dialogueController.active()&&(Locator.pushedConfig.getIsMyBetsSiteFeatureAvailable()?(t=$(".betReceipt"),i=t&&t.find(".ifBet, .reverseIfBet").length>0?1:t.find(".stake").length,i>0?window.mobileBusinessRules.clientEnhancedMode()?n.animateReceiptToMyBetsButton(i):(n.dialogueController.close(),n.clearReceipt(i)):n.dialogueController.close()):n.dialogueController.close());n.canShowEditBetsAdvert()&&window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.editBetsAdvert],function(){window.editBetAdvertController||(window.editBetAdvertController=new b365.EditBetAdvertController);window.editBetAdvertController.load(document.getElementById("eba-Placeholder"),!0,!1)},[],this)},IsReqOnBetAddedEnabled:function(){return sProps.instantBet},IsReqOnBetDeletedEnabled:function(){return n.dialogueController&&n.dialogueController.active()||sProps.instantBet},KeyboardType:function(){return sProps.keyboardType},IsAuthenticated:window.b365Mobile.account.isUserLoggedIn,JoinNow:window.b365Mobile.account.joinNow,Deposit:function(t){var r=t.isQuickDeposit==1,i;sProps.instantBet!==!0?($("#betslipContainer").hide(),$("#betSlipOverlay").hide()):$("#bsDiv > .betSlip").hide();bsApp.dialogueController.setQuickDepositState();i={minDeposit:parseFloat(t.QuickDepositRemainingStake),isDepositEnabled:r,origin:ns_moblib_enums.QuickDepositOrigin.BetSlip,depositComplete:$.proxy(n._depositFinished,n),unlockBetslip:function(){bsApp.dialogueController.removeQuickDepositState();bsApp.dialogueController.resetAndShowBar(!0)}};ns_moblib_modulecontrollers.QuickDepositModuleController.Show(i)},BetSource:function(){return sProps.instantBet?"MobileInstantBet":siteViewController.isWideView?"Lite":"MobileHiEnd"},DeviceType:function(){return window.device.deviceType},ShowStreaming:function(){return!0},ShowFullTextMode:function(){return!0},ShowConfirmation:function(n){new BetSlipShowConfirmationHandler(n).handle()},ShowDialog:function(n){new BetSlipShowDialogHandler(n).handle()},ShowTooltip:function(n){new BetSlipShowDialogHandler({MarkUp:"<p>"+n.Content+"<\/p>"}).handle()},RefreshUserBalance:function(){return!1},IsoCode:function(){return sProps.curCode},ItemsRemoved:function(t){n.itemsRemoved(t.Id)},SetupTruncated2dpPriceForReturnsCalc:function(){window.bs.useTruncated2dpPriceForReturnsCalc=n.domainId===n.DomainIdEnum.it?!Locator||!Locator.pushedConfig||!Locator.pushedConfig.getIsPSQFV4Enabled():!1},StakeEntryRule:function(){return null},PushBetRulesUrl:function(){return sProps.pushBetRulesLnk},HighlightSelectedBets:function(){typeof n.betSelect!="undefined"&&n.betSelect!=null&&n.betSelect.highlightSelectedBets()},LiveAlertsEnabled:function(){var n=siteDataLocal.getItem("appType");return n&&n.length>0||Modernizr.notificationssupport},LiveAlertsEnabledClassifications:function(){return n.liveAlertsEnabledClassifictions},ShowSiteOverlaySpinner:function(){Overlay(1,1,0)},HideSiteOverlaySpinner:function(){Overlay(0)},ClickToCallSupported:function(){return window.mobileBusinessRules.canSupportCTC()},BetCallSupported:function(){return window.mobileBusinessRules.canSupportBetCall()},BetCallTwilioSupported:function(){return window.mobileBusinessRules.canSupportBetCallTwilio()&&sProps.microphonePermissionGranted},AppType:function(){return siteDataLocal.getItem("appType")},AppVersion:function(){return siteDataLocal.getItem("appVersion")},betCallConnectedDelegate:function(){},betCallDisconnectedDelegate:function(){window.sportsUIController.betCallConnected()},resetBetCount:function(){n.dialogueController.updateCount(0);typeof BetSlipItemsRemovedHandler!="undefined"&&new BetSlipItemsRemovedHandler({Id:null}).handle(!0)}};n.init=function(){n.bsController=new window.BetSlipController(window.bs,n.bsContext);n.bsController.initialise();n.bsController.OnBetslipContentLoaded();n.bsController.setPushMarketsEnabled(n.domainId==1);n.currentCouponLink=new BetslipCouponLink;n.betSelect=new CouponBetSelect;new BetslipEventAttacher(n).attach();n.dialogueController=new betSlipDialogueController(window.bs,n);n.setupView()};n.initInstantBet=function(t){var i;n.bsController=new window.BetSlipController(window.bs,n.bsContext);i=n.bsController._bsInst.getValueFromBSCookie("processed").replace("||","");i==="true"&&new b365.Ui.Betslip.ViewResetter(n.bsController._bsInst).reset();n.bsController.initialiseWithParticipantInformation(t);n.bsController.OnBetslipContentLoaded();n.bsController.setPushMarketsEnabled(n.domainId==1);new BetslipInstantBetEventAttacher(window.bs,n).attach();n.dialogueController=new betSlipDialogueController(window.bs,n)};n.setupView=function(){var t=n.getBetCount(window.bs);n.updateBetslipBar(t);n.currentCouponLink.load();n.betSelect.highlightSelectedBets();b365Mobile.footer.setFooter()};n.refreshSlip=function(){if(ns_gen5_net.DependencyManager.IsLoaded("BetCalculationsLib"))window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.betslipStyles],function(){n.bsController.refreshBetslip()});else{var t=[];t.push(resolveScriptPath({path:"BetCalculationsLib.min.js",key:"BetCalculationsLib"},1));window.LazyLoad.js(t,function(){ns_gen5_net.DependencyManager.setLoaded("BetCalculationsLib");window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.betslipStyles],function(){n.bsController.refreshBetslip()})})}};n.addBet=function(t,i){var b,o,a,f,v,r,e=0,y=!1,u="",s,k="data-plbtid",h="",p,d,g,nt="",tt="",c,w,l;if(n.domainId===1){if(typeof t=="string")if(i){if(u=t,s=i.getAttribute(k),v=i.getAttribute("data-displayorder"),!s)for(c=i,w=0;w<5;){if(s=c.parentElement.getAttribute(k),s||!c.parentElement)break;c=c.parentElement;w++}f=s;(f===undefined||f===null)&&(o=i.id.startsWith("CPN_")||i.id.startsWith("div_complete")?i.id:i.parentElement.id,o==""&&(o=i.parentElement.parentElement.id),a=parseInt(o.split("_")[1],10),f=isNaN(a)?o.split("_")[2]:a.toString())}else f="";else t&&t.item&&t.item.constructString&&(u=t.item.constructString,f=t.item.marketID,l=t.Target.wrapper?t.Target.wrapper:t.Target,v=l.toString()=="[ParticipantFixedOdds]"?l.parent.stem.data.OR:l.myOrder+1);sProps.pushMarkets&&(["938","50137","50138","50265","10147","50281","50282","50283","50284","10170","50289","50290","50291","50291"].indexOf(f)>=0?(r=Number(new CouponConstuctStringParser(u).getHandicap()),r=r-Math.floor(r),r=r.toString().indexOf(".")>-1?r.toString().split(".")[1]:r,h=f+"H"+r):["10143","50136","50139","50266","10148","50285","50286","50287","50288","10171","50293","50294","50295","50296"].indexOf(f)>=0?(r=Number(new CouponConstuctStringParser(u).getHandicap()),r=r-Math.floor(r),r=r.toString().indexOf(".")>-1?r.toString().split(".")[1]:r,h=f+"H"+r,(r==="25"||r==="75")&&(h+=parseInt(v)%2==1?"O":"U")):h=f,e=sProps.pushMarkets[h],y=e>0,e&&((e===6||e===7)&&(r=Number(new CouponConstuctStringParser(u).getHandicap()),r%1!=0&&(e=0)),e&&n.bsController._bsInst.setPendingPushBet(e,i)))}if(typeof t=="string"?u=t+n.getMediaType(t):(u=t.item&&t.item.constructString?t.item.constructString+n.getMediaType(t.item.constructString):t,t.item&&((t.item.competitionCode||t.item.competitionKey)&&(nt=t.item.competitionKey||t.item.competitionCode),tt=t.item.parentFixtureId)),u){if(window.editBetController&&window.editBetController.addSelectionsEnabled===!0){p=new CouponConstuctStringParser(typeof u=="string"?u:"");d=p.getBetId();g=p.getPartType();window.editBetController.isDbbpBet(g)?window.editBetController.addItem(d,u,function(t,r){switch(t){case 0:sportsUIController.itemsAdded({Id:r});i&&n.betSelect.highlightBet(i);break;case 1:new b365.Ui.Betslip.InProgressDisplayHandler(n.bsController._bsInst,n.bsController).handle(["hide",betSlipML.maxselections]);n.bsController._bsInst.maxSelections();break;case 2:window.editBetController.showBetErrorMessage()}}):window.editBetController.showBetErrorMessage();return}window.betDataHelper&&!y&&n.betCount===0&&window.betDataHelper.setData(t,i);i&&(e==0||typeof e=="undefined")&&n.betSelect.highlightBet(i);y?window.mobileLazyLoaders.addAndLoadFiles([window.mobileLazyLoaders.lazyLoaderTypes.betslipStyles],function(){n.bsController.addBet(u,!1,b)},[],this):n.bsController.addBet(u,!1,b);i||n.betSelect.highlightSelectedBets()}};n.getMediaType=function(n){var t=document.getElementById("CpKey"),i;return t&&t.value!==""?(i=new CouponKey(t.value),i.inplay?n.indexOf("TP=")>-1?"mt=1":"mt=14":""):""};n.deleteBet=function(t,i){var u=new CouponConstuctStringParser(t).getBetId(),e,s,o,f,r,h;if(window.editBetController&&window.editBetController.addSelectionsEnabled===!0){if(window.editBetController.isBetIdOnOriginalBet({ConstructString:t}))return;window.editBetController.removeItem(u);n.betSelect.deselectBetById({Id:u});sportsUIController.itemsRemoved({Id:u});return}if(i&&n.betSelect.unhighlightBet(i),n.bsController.deleteBet(t),i&&(i.className.indexOf("SilkRow")>-1||i.className.indexOf("next3RacesRow")>-1)&&window.bs)for(f=window.bs.getBetItems(),r=0,h=f.length;r<h;r++)f[r]&&(e=f[r].getCn(),s=new CouponConstuctStringParser(e),o=s.getPlaceParticipant(),o&&o===u&&n.bsController.deleteBet(e))};n.phoneBet=function(t){n.bsController.initiatePhoneBetRequest(t)};n.placeBet=function(){n.bsController.placeBet()};n.removeBets=function(){n.bsController.removeBets();n.betSelect&&n.betSelect.clearHighlightedBets()};n.checkPlaceBetStatus=function(){n.placeBetAfterLogin()&&(n.placeBet(),siteDataSession.setItem("loginPlaceBet","false"))};n.placeBetAfterLogin=function(){return!!siteDataSession.getItem("loginPlaceBet")&&(siteDataSession.getItem("loginPlaceBet")=="true"?!0:!1)};n.hideBetslip=function(){$("#betslipContainer").hide();$("#Site").attr("data-bsmode","off");n.setBetslipBarDisplay()};n.constructContainsPhoneOnlyItem=function(n){return n.indexOf("pom=Y")>-1};n.hasPhoneOnlyItemOnSlip=function(){var n,t,i;if(window.bs)for(n=window.bs.getBetItems(),t=0,i=n.length;t<n.length;t++)if(n[t].getStItem("pom")==="Y")return!0;return!1};n.showBetslip=function(){var t,s,i,f,r,u,e,h,o,c;$("#betslipContainer").show();$("#Site").attr("data-bsmode","on");$("#Main").hide();$("#betslipBar").hide();viewLoaded();n.overlay&&n.overlay.remove();Modernizr.inplaypush&&(t=document.getElementById("betslipContainer"),s=document.getElementById("PageFooter"),i=s.parentNode,f=document.getElementById("betslipBar"),r=document.getElementById("BackToTopBigBttn"),u=r?r.childNodes[1]:null,e=f?f.clientHeight:0,h=i?i.clientHeight:0,o=clientViewport().height,c=o-h-e,t&&(t.style.minHeight=c+"px",i&&r&&u&&(o>t.clientHeight+e?u.setAttribute("class","hidden"):u.setAttribute("class",""))))};n.updateBetslipBar=function(t){var f=n.bsContext.ClientEnhancedMode(),r;if(n.betCount=t,f)window.betslipTabController.update(t),n.setBetslipBarDisplay();else if($("#betslipBar").length>0){r=$("#SelectionCount","#betslipBar");$("#SelectionCount","#betslipBar").length>0&&(r.html(t),n.setBetslipBarDisplay());var e=window.bsApp.hasPhoneOnlyItemOnSlip(),u=window.location.hostname.split(".").pop()==="au",i=document.getElementById("fallbackBetslipBarText"),o=Locator&&Locator.pushedConfig&&Locator.pushedConfig.getIsBetCallAvailable();e&&u&&i&&o?i.innerHTML="Selections":u&&i&&(i.innerHTML="Bet Slip")}};n.getBetCount=function(n){return n.getValueFromBSCookie("processed").replace("||","")=="true"?0:n.numItems(!1)};n.setBetslipBarDisplay=function(t){var i=n.bsContext.ClientEnhancedMode();n.betCount>0?(i?n.dialogueController&&!n.dialogueController.active()&&(window.betslipTabController.show(),window.betslipTabController.updateBetslipTab(t)):(sProps.instantBet||$("#betslipBar").show(),n.betslipBarHandler!=null&&(document.getElementById("betslipBar").removeEventListener("click",n.betslipBarHandler),n.betslipBarHandler=null),n.betslipBarHandler==null&&(n.betslipBarHandler=function(){overlay(1,1);n.refreshSlip()},document.getElementById("betslipBar").addEventListener("click",n.betslipBarHandler))),$("#Site").attr("data-bsmode","bar")):(i?window.betslipTabController.hide():($("#betslipBar").hide(),n.betslipBarHandler!=null&&(document.getElementById("betslipBar").removeEventListener("click",n.betslipBarHandler),n.betslipBarHandler=null)),$("#Site").attr("data-bsmode","off"))};n.getBalanceFromMarkup=function(){var n=$("ul","#bsDiv").attr("data-ub");return typeof n!="undefined"?typeof sProps.curCode!="undefined"?n+" "+sProps.curCode:n:""};n.getStakeFromMarkup=function(){var n=$("ul","#bsDiv").attr("data-st");return typeof n!="undefined"?n:""};n.isSelected=function(t){var i=n.bsController._bsInst;return n.betCount>0&&(i.getBetItemByCn(i.betTypeNormal,"id",t)!==undefined||i.getBetItemByCn(i.betTypeNormal,"fp",t)!==undefined||i.getBetItemByCn(i.betTypeNormal,"pp",t)!==undefined)};n.itemsRemoved=function(t){typeof BetSlipItemsRemovedHandler!="undefined"&&new BetSlipItemsRemovedHandler({Id:t}).handle();n.dialogueController&&n.dialogueController.active()&&(n.betCount==0?n.dialogueController.close():n.dialogueController.updateCount(n.betCount))};n.animateReceiptToMyBetsButton=function(t){var e=t,i=$("#betslipContainer"),r=document.createElement("div"),u,f,o=document.body.clientWidth,s=window.device.isAndroid&&window.mobileBusinessRules.slowAnimationDevice()?300:50;if(r.id="betslipContainerMyBetsClone",window.mobileBusinessRules.slowAnimationDevice()&&(r.className="slowerAnimation"),r.innerHTML='<div class="content" style="height:'+i.height()+"px;width:"+i.width()+'px; "><\/div>',r.setAttribute("style",i[0].getAttribute("style")+" height:"+i.height()+"px; left:"+(o-i.width())/2+"px;"),i[0].parentNode.insertBefore(r,i[0]),n.dialogueController.close(),t>0)f=new window.b365Mobile.MyBetsSiteAnimations,window.setTimeout(function(){f.animateReceiptToMyBetsButton("betslipContainerMyBetsClone",n.clearReceipt,n,[e])},s);else{try{u=document.getElementById("betslipContainerMyBetsClone");u&&u.parentNode.removeChild(u)}catch(h){}n.clearReceipt(t)}};n.clearReceipt=function(){$("#bsDiv").empty()};n._depositFinished=function(n){if(n){$("#betslipContainer").show();$("#bsDiv").find(".footer").removeClass("hidden");bsApp.dialogueController.quickDepostSuccess();return}$(document).trigger("hideoverlay");var t=$("#bsDiv"),i;if(b365Mobile.hash.getCurrentClassificationId()!=6&&($("#betslipContainer").show(),$("#betSlipOverlay").show(),sProps.instantBet&&$("#bsDiv > .betSlip").show()),$("#betslipContainer").find(".footer").removeClass("hidden"),bsApp.bsController._bsInst.unlock(),bsApp.dialogueController&&(bsApp.dialogueController.restoreButtonContent(),bsApp.dialogueController.active()))$("#betSlipOverlay").css("z-index","60").off("click.betSlipOverlay").on("click.betSlipOverlay",$.proxy(bsApp.dialogueController.closeBetslipResetAndShowBar,bsApp.dialogueController));window.bsApp.bsContext.ClientEnhancedMode()&&($("li",t).hasClass("disabledBetSlip")&&(i=$('li[class$="multiple-section multipleBets"], li[data-item-type$="single"], li[data-item-type$="cast"], li[data-item-type$="tote-single"], li[data-item-type$="tote-cast"], li[data-item-type$="tote-pot"], li[data-item-type$="tote-pot-leg"]',t),bsApp.bsController._enhancedBetSlipAnimations.enableBetSlip(i,t)),bsApp.bsController._stakeEntryHander&&bsApp.bsController._stakeEntryType==bsApp.bsController._stakeEntryTypes.stakePad&&bsApp.bsController._stakeEntryHander.reenable(bsApp.bsController._stakeEntryHander));$("#bsDiv").find(".disableBetSlip, .disabledBetSlip").removeClass("disableBetSlip").removeClass("disabledBetSlip")};n.canShowEditBetsAdvert=function(){var r,n,t,i;return window.mobileBusinessRules.enableEditBet()===!1?!1:(r=window.siteDataLocal.getItem("editBetAdIntroShown"),r==="1")?!1:(n=window.siteDataLocal.getItem("editBetAdViewCount"),n=n?Number(n):0,t=window.siteDataLocal.getItem("editBetAdLastShown"),i=Number(new Date),n>=2)?!1:n===1&&t&&i-Number(t)<1728e5?!1:(window.siteDataLocal.setItem("editBetAdViewCount",n+1),window.siteDataLocal.setItem("editBetAdLastShown",i),!0)};n.getBetslipItems=function(){for(var i=window.bs.getBetItems().concat(window.bs.getBetItems(window.bs.betTypeCast)),r={},t,n=0,u=i.length;n<u;n++)t=i[n].getCnItem("id")||i[n].getCnItem("fp"),r[t]=!0,t=i[n].getCnItem("pp"),t&&(r[t]=!0);return r}},betSlipDialogueController=function(){function n(n,t){this._bsInst=n;this._bsAppContext=t;this._bsController=t.bsController;this._active=!1;this._timeoutId=null;this._enhancedMode=this._bsController._bsContext.ClientEnhancedMode();this._actionInProgress=!1;this._elementHeightChanged=0;this._outOfContextProcess=!1;this._overlay=new BetSlipPopupOverlay($(document.body),!0,!1,60,!0);this._addToBetslipKey="AddToBetSlip"}return n.prototype.initialise=function(){var n=this,t,f,e,o=$("#bsDiv"),i=$("#betslipContainer"),r,s,h,u;t=Locator.user.getBalance().totalBalance;r=n._bsInst.containsPhoneOnlyBet();h=Locator&&Locator.pushedConfig&&Locator.pushedConfig.getIsBetCallAvailable();s=h&&r&&window.location.hostname.split(".").pop()==="au"?"Call To Place In-Play Bet":ns_gen5_util.Singleton.getInstance(ns_gen5_language.Resource).getValue("BetSlipBar","Bet Slip");u='<div id="BetSlipDialogueHeader"><div id="BetSlipHeaderContent"><div id="BetSlipTitle"><span>'+s+"<\/span><\/div>";u+='<div id="BetSlipCount" '+(r?'style="display:none" ':"")+"><span>"+n._bsAppContext.getBetCount(n._bsInst)+"<\/span><\/div>";u+=(typeof t!="undefined"&&t!=""?'<ul id="BetSlipBalance" '+(r?'style="opacity:0" ':"")+'><li class="balanceText">'+window.betSlipML.balance+'<\/li><li class="balance">'+t+"<span> "+window.sProps.curCode+"<\/span><\/li><\/ul>":'<div id="BetSlipLogin"><a href="#" data-nav="LogInFromBetSlip">'+window.betSlipML.login+"<\/a><\/div>")+'<div id="BetSlipCloseIcon"><div><\/div><\/div><\/div><\/div>';f=$(u);o.before(f);i.addClass("mobile");o.addClass("overlay");e=!n._enhancedMode&&n.ShowAddMoreSelectionsMessage()?$('<div id="BetSlipDialogueAddToBetslip"><a href="#" data-nav="AddToBetSlip">'+window.betSlipML.addtobetslip+"<\/a><\/div>"):$('<div id="BetSlipDialogueEnhancedFooter"><\/div>');i.append(e);$("#BetSlipCloseIcon",i).off("click").on("click",$.proxy(n.closeBetslipResetAndShowBar,n));n._enhancedMode||(i.addClass("noenhance"),n.enableAddToSlip())},n.prototype.checkForRetainSelectionsState=function(){var n=this,t,r,u,i=$("#bsDiv"),f=$("#betslipContainer"),e,o,s;if($(".betReceipt").length==0&&i.hasClass("receipt")){t=Locator.user.getBalance().totalBalance;e=n._bsInst.containsPhoneOnlyBet();o=Locator&&Locator.pushedConfig&&Locator.pushedConfig.getIsBetCallAvailable();s=o&&e&&window.location.hostname.split(".").pop()==="au"?"Selections":ns_gen5_util.Singleton.getInstance(ns_gen5_language.Resource).getValue("BetSlipBar","Bet Slip");r=$('<div id="BetSlipDialogueHeader"><div id="BetSlipHeaderContent"><div id="BetSlipTitle"><span>'+s+'<\/span><\/div><div id="BetSlipCount"><span>'+n._bsAppContext.getBetCount(n._bsInst)+"<\/span><\/div>"+(typeof t!="undefined"&&t!=""?'<ul id="BetSlipBalance"><li class="balanceText">'+window.betSlipML.balance+'<\/li><li class="balance">'+t+"<span> "+window.sProps.curCode+"<\/span><\/li><\/ul>":'<div id="BetSlipLogin"><a href="#" data-nav="LogInFromBetSlip">'+window.betSlipML.login+"<\/a><\/div>")+'<div id="BetSlipCloseIcon"><div><\/div><\/div><\/div><\/div>');i.before(r);u=!n._enhancedMode&&n.ShowAddMoreSelectionsMessage()?$('<div id="BetSlipDialogueAddToBetslip"><a href="#" data-nav="AddToBetSlip">'+window.betSlipML.addtobetslip+"<\/a><\/div>"):$('<div id="BetSlipDialogueEnhancedFooter"><\/div>');f.append(u);$("#BetSlipCloseIcon",f).off("click").on("click",$.proxy(n.closeBetslipResetAndShowBar,n));n._enhancedMode||n.enableAddToSlip();$("#betSlipOverlay").off("click.betSlipOverlay").on("click.betSlipOverlay",$.proxy(n.closeBetslipResetAndShowBar,n));i.removeClass("receipt")}},n.prototype.ShowAddMoreSelectionsMessage=function(){return window.mobileBusinessRules.canSupportCTC()==!1?!0:sportsUIController&&sportsUIController.isMultiplesEnabledForClickToCall()==!1&&window.bsApp.hasPhoneOnlyItemOnSlip()?!1:!0},n.prototype.isValid=function(){return typeof this._bsInst!="undefined"&&this._bsController!=="undefined"},n.prototype.resetAndClearBetSlip=function(){this._bsAppContext.removeBets();this.resetBetSlipMode();this.resetElementHeights();$("#bsDiv").empty();this._bsController._bsContext.LiveAlertsEnabled()&&this._resetBetSlipLiveAlerts()},n.prototype.closeBetslipResetAndShowBar=function(n){this.resetAndShowBar(n,!0)},n.prototype.resetAndShowBar=function(n,t){var i=this,f=!0,u,r;i._actionInProgress||(typeof n!="undefined"&&n!==null&&typeof n=="boolean"&&(f=n),$("#betSlipOverlay").off("click.betSlipOverlay"),r=document.getElementById("BetSlipTypesWrapper"),r&&r.hasAttribute("style")&&r.getAttribute("style")=="display:block;"&&r.setAttribute("style","display:none;"),r=null,document.getElementById("eDiv")&&(i._bsInst.clearBets(),i._bsController.betCount=0,window.bsApp.updateBetslipBar(0),(new CouponBetSelect).clearHighlightedBets(),sportsUIController&&sportsUIController.itemsRemoved(null)),i._enhancedMode?(i.resetBetSlipMode(),f&&i._bsAppContext.setBetslipBarDisplay(t),u=document.getElementById("stakePad"),u&&u.parentNode.removeChild(u),u=null):(i.resetBetSlipMode(),i._bsAppContext.setBetslipBarDisplay()),i.resetElementHeights(),window.siteViewController.isWideView&&window.siteViewController.revertWideViewSiteHeightFullHeight())},n.prototype.resetBetSlipMode=function(){var n=this;$("#bsDiv").removeClass("receipt");$("#BetSlipDialogueHeader").remove();n._enhancedMode||n.disableAddToSlip();$("#BetSlipDialogueEnhancedFooter").remove();$("#BetSlipDialogueAddToBetslip").remove();n._bsAppContext.hideBetslip();n._overlay.remove();n._active=!1;n._actionInProgress=!1;$("#betSlipOverlay").off("click.betSlipOverlay");pageType&&pageType.toLowerCase()=="splash"&&window.EventTimer&&!window.EventTimer._isStopped()&&(window.EventTimer.Restart(),b365Mobile.Racing&&b365Mobile.Racing.doPodsExist()&&b365Mobile.Racing.next3RacesRefresh(sProps.LangID,b365Mobile.hash.getCurrentClassificationId(),sProps.ot));window.device.isAndroid&&window.device.isAndroidNativeBrowser&&window.siteViewController.isNarrowView&&document.body.addEventListener("touchstart",touchStartFix);($("#Coupon").length>0||$(".msvs-Coupon").length>0)&&window.couponController.start(!0);ns_moblib_util_managers.FloatingNativeVideoController.ShowFloatingNativeVideo()},n.prototype.onEditBet=function(){var t=this,n,i=$("#bsDiv"),r,u,f,e;n=Locator.user.getBalance().totalBalance;u=t._bsInst.containsPhoneOnlyBet();f=Locator&&Locator.pushedConfig&&Locator.pushedConfig.getIsBetCallAvailable();e=f&&u&&window.location.hostname.split(".").pop()==="au"?"Selections":ns_gen5_util.Singleton.getInstance(ns_gen5_language.Resource).getValue("BetSlipBar","Bet Slip");r=$('<div id="BetSlipDialogueHeader"><div id="BetSlipHeaderContent"><div id="BetSlipTitle"><span>'+e+'<\/span><\/div><div id="BetSlipCount"><span>'+t._bsAppContext.getBetCount(t._bsInst)+"<\/span><\/div>"+(typeof n!="undefined"&&n!=""?'<ul id="BetSlipBalance"><li class="balanceText">'+window.betSlipML.balance+'<\/li><li class="balance">'+n+"<span> "+window.sProps.curCode+"<\/span><\/li><\/ul>":'<div id="BetSlipLogin"><a href="#" data-nav="LogInFromBetSlip">'+window.betSlipML.login+"<\/a><\/div>")+'<div id="BetSlipCloseIcon"><div><\/div><\/div><\/div><\/div>');i.find("li.betslipHeader.confirm").hide();i.before(r);i.removeClass("confirmCurve")},n.prototype.showTheBetSlip=function(){var n=this,t=n._bsInst.getBetItems(n._bsInst.itemTypeSingle),i=n._bsInst.numItems(!1);return!n._enhancedMode&&window.b365Mobile.account.isUserLoggedIn()&&(t.length==1&&i==1||$("#bsDiv").find("[class*=betslipHeaderTempReceipt]").length>0)},n.prototype.onStart=function(){var n=this;n._active=!0;ns_moblib_util_managers.FloatingNativeVideoController.HideFloatingNativeVideo();pageType&&pageType.toLowerCase()=="splash"&&window.EventTimer&&!window.EventTimer._isStopped()&&(window.EventTimer.Pause(),b365Mobile.Racing&&b365Mobile.Racing.doPodsExist()&&b365Mobile.Racing.stopNext3RacesRefresh());window.device.isAndroid&&window.device.isAndroidNativeBrowser&&window.siteViewController.isNarrowView&&document.body.removeEventListener("touchstart",touchStartFix);$("#betSlipOverlay").off("click.betSlipOverlay").on("click.betSlipOverlay",$.proxy(n.closeBetslipResetAndShowBar,n));window.couponController.stop()},n.prototype.show=function(){var n=this,t=$("#betslipContainer");$("#betSlipOverlay").length==0&&n._overlay.add();n._timeoutId!==null&&window.clearTimeout(n._timeoutId);window.siteViewController.isWideView&&window.siteViewController.setWideViewSiteHeightFullHeight();t.css("top",Math.round(clientViewport().height*.1)+$(window).scrollTop());n.initialise();n._enhancedMode?window.betslipTabController.hide($.proxy(n.deferredDisplay,n)):(t.show(),n.setElementHeights(),n._overlay.removeSpinner(),n.onStart())},n.prototype.setElementHeights=function(){var n=this,f=$("#betslipContainer"),t=f.height(),r=f.position().top,e=$(document.body).height(),i,o,u;t+=n.getShowingEnhancedSelectorsHeights(r,t);e<r+t&&(o=t-(e-r),u=$("#Main"),i=u.height(),i=i+o,u.css("height",i),n._elementHeightChanged||(n._elementHeightChanged=!0));n._overlay._overlayElem.css("height",(device.isPresto||device.isOperaMini)&&document.body.scrollHeight==0?"100%":document.body.scrollHeight);$("#BetSlipCloseIcon").off("click").on("click",$.proxy(n.closeBetslipResetAndShowBar,n))},n.prototype.getShowingEnhancedSelectorsHeights=function(n,t){var r=$("#bsDiv").find(".EnhancedTeaserWrapper.showing, .EnhancedPitcherWrapper.showing, .EnhancedToteWrapper.showing"),o=n+t,u,f,e=0,i,s;if(r.length==0)return e;for(i=0,s=r.length;i<s;i++)u=$(r[i]).position().top,f=$(r[i]).height(),f+u+n>o&&(e+=f+u+n-o+20);return e},n.prototype.resetElementHeights=function(){var n=this;n._elementHeightChanged&&($("#Main").css("height",""),n._elementHeightChanged=!1)},n.prototype.showWithNoInitialise=function(){var n=this,t=$("#betslipContainer");$("#betSlipOverlay").length==0&&n._overlay.add();n._timeoutId!==null&&window.clearTimeout(n._timeoutId);t.css("top",Math.round(clientViewport().height*.1)+$(window).scrollTop());n._enhancedMode?window.betslipTabController.hide($.proxy(n.deferredDisplay,n)):(t.show(),n.setElementHeights(),n._overlay.removeSpinner(),n.onStart())},n.prototype.deferredDisplay=function(){var n=this;$("#betslipContainer").show();n.setElementHeights();n._overlay.removeSpinner();n.onStart()},n.prototype.onBetPlaced=function(){var n=this,t=$("#bsDiv");if(n._active){$("#BetSlipDialogueHeader").remove();n._enhancedMode||n.disableAddToSlip();$("#BetSlipDialogueEnhancedFooter").remove();$("#BetSlipDialogueAddToBetslip").remove();t.addClass("receipt");$("#betSlipOverlay").off("click.betSlipOverlay").on("click.betSlipOverlay",$.proxy(n.resetAndClearBetSlip,n));device.isInternetExplorer&&device.browserVersion>=11?t[0].parentNode.scrollTop=n.offsetTop:device.isInternetExplorer&&device.browserVersion<10?window.scrollTo(0,0):t[0].scrollIntoView();document.body.scrollTop-=20}},n.prototype.onDialogueShown=function(){var n=this;n.active()&&n.resetBetSlipMode()},n.prototype.active=function(){return this._active},n.prototype.close=function(){this.resetAndClearBetSlip()},n.prototype.onError=function(){var n=this;n.disableAddToSlip();$("#BetSlipDialogueAddToBetslip").remove()},n.prototype.onAcceptChanges=function(n){var t=this,i;n==0?t.active()?t.close():(i=$("#betslipContainer").find("li.emptyBetslip"),i.length>0&&!i.hasClass("hidden")&&t.close()):t.enableAddToSlip()},n.prototype.onPlaceBet=function(){this.disableAddToSlip()},n.prototype.disableAddToSlip=function(){$("#BetSlipDialogueAddToBetslip").off("click");$("#BetSlipDialogueAddToBetslip > a").addClass("disabled").attr("data-nav","")},n.prototype.enableAddToSlip=function(){var n=this;$("#BetSlipDialogueAddToBetslip > a").removeClass("disabled").attr("data-nav","AddToBetSlip");$("#BetSlipDialogueAddToBetslip").off("click").on("click",$.proxy(n.onAddToBetSlip,n))},n.prototype.onAddToBetSlip=function(){$("#BetSlipDialogueAddToBetslip > a").hasClass("disabled")||this.resetAndShowBar()},n.prototype.updateCount=function(n){var u=this._bsInst.containsPhoneOnlyBet(),t=document.getElementById("BetSlipCount"),i=document.getElementById("BetSlipTitle"),r=document.getElementById("BetSlipBalance");n=Number(n)===0?"":n;u?(t&&(t.style.display="none",t.innerHTML="<span>"+n+"<\/span>"),r&&(r.style.opacity="0"),i&&(i.innerHTML="<span>Call To Place In-Play Bet<\/span>")):(t&&(t.innerHTML="<span>"+n+"<\/span>"),r&&(r.style.opacity="1"),i&&(i.innerHTML="<span>"+ns_gen5_util.Singleton.getInstance(ns_gen5_language.Resource).getValue("BetSlipBar","Bet Slip")+"<\/span>"))},n.prototype.setActionInProgress=function(n){this._actionInProgress=n},n.prototype.setOutOfContextProcess=function(){this._outOfContextProcess=!0},n.prototype.getOutOfContextProcess=function(){return this._outOfContextProcess},n.prototype.resetOutOfContextProcess=function(){this._outOfContextProcess=!1},n.prototype.restoreButtonContent=function(){var r=this,t,i=$("#bsDiv"),n;t=i.find(".placeBet button");t.length>0&&(n=i.find("#buttonContent"),n.length>0&&(n=n[0].innerHTML,t[0].innerHTML=n))},n.prototype.setQuickDepositState=function(){bsApp.bsController._bsInst.lock();$("#betSlipOverlay").off("click.betSlipOverlay")},n.prototype.removeQuickDepositState=function(){bsApp.bsController._bsInst.unlock()},n.prototype.quickDepostSuccess=function(){this.removeQuickDepositState();bsApp.placeBet()},n.prototype._resetBetSlipLiveAlerts=function(){this._bsController._bsInst.signupModel&&this._bsController._bsInst.signupModel.subscribe()},n}(),betslipDialogueFooterLinksProvider=function(){function n(){var n=this;n._footerLinks=[];n._buttonCssClass="abetslipRecBtn"}return n.prototype.provide=function(){var n=this;return n._footerLinks.push(n.getContinueLink()),n._footerLinks},n.prototype.getContinueLink=function(){var n=this;return{text:window.betSlipML.cont,cssClass:n._buttonCssClass,handler:null}},n}(),BetslipEventAttacher=function(n){this._bsAppContext=n;this._bsController=n.bsController;this._bsBarHandler=null};BetslipEventAttacher.prototype={attach:function(){var n=this;n._bsController.addOnBetSlipLoaded(function(t){var u=n._bsAppContext.getBetCount(t),r,i=n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.active();n._bsAppContext.updateBetslipBar(u);n._bsAppContext.currentCouponLink.load();n._bsAppContext.betSelect.highlightSelectedBets();$(document.documentElement).hasClass("sports-ui")?b365Mobile.footer.clearStyles():b365Mobile.footer.setFooter();n._bsAppContext.betCount>0&&!i?n._bsAppContext.dialogueController.active()||$("#bsCD.incompDialogue").length!=0||(overlay(0,0),n._bsAppContext.dialogueController.onStart(),n._bsAppContext.dialogueController.show()):n._bsAppContext.betCount>0&&i?(r=$("#bsDiv").find("li.betslipHeader.confirm"),r.length>0?($("#BetSlipDialogueHeader").remove(),$("#bsDiv").addClass("confirmCurve"),n._bsAppContext.dialogueController.checkForRetainSelectionsState()):$("#bsDiv").hasClass("confirmCurve")?n._bsAppContext.dialogueController.onEditBet():(n._bsAppContext.dialogueController.checkForRetainSelectionsState(),n._bsAppContext.dialogueController.updateCount(n._bsAppContext.betCount))):n._bsAppContext.betCount==0&&$("#bsDiv ul:first-child").hasClass("betReceipt")&&!i&&(overlay(0,0),n._bsAppContext.dialogueController.onStart(),n._bsAppContext.dialogueController.onBetPlaced(),n._bsAppContext.dialogueController.showWithNoInitialise())});n._bsController.addOnBetSlipItemsChanged(function(t){var i=n._bsAppContext.getBetCount(t);n._bsAppContext.updateBetslipBar(i)});n._bsController.addOnAcceptChanges(function(t){var i=n._bsAppContext.getBetCount(t);if(n._bsAppContext.dialogueController)n._bsAppContext.dialogueController.onAcceptChanges(i)});n._bsController.addOnBetAdded(function(){arguments.length>1&&sportsUIController&&sportsUIController.itemsAdded({Id:arguments[1]});n._bsAppContext.currentCouponLink.setCouponLink();n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.showTheBetSlip()?(overlay(1,1),window.bsApp.refreshSlip()):n._bsAppContext.bsContext.ClientEnhancedMode()||new CouponBetMessagePopup(0).add()});n._bsController.addOnEditBet(function(){n._bsAppContext.dialogueController.onEditBet()});n._bsController.addOnBetAddedReqComplete(function(){n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.active()&&n._bsAppContext.dialogueController.show()});n._bsController.addOnSessionExpired(function(){window.b365Mobile.account.sessionExpired(bsApp.refreshSlip)});n._bsController.addOnRefreshReqComplete(function(){n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.active()&&n._bsAppContext.dialogueController.setElementHeights()});n._bsController.addOnAddReceiptFooterLinks(function(t){n._bsAppContext.dialogueController&&(n._bsAppContext.dialogueController.active()||n._bsAppContext.dialogueController.getOutOfContextProcess())&&(t.footerLinks=(new betslipDialogueFooterLinksProvider).provide(),n._bsAppContext.dialogueController.resetOutOfContextProcess())});n._bsController.addOnAddReceiptLiveAlertSignUp(function(){try{n._bsAppContext.dialogueController&&(n._bsAppContext.dialogueController.active()||n._bsAppContext.dialogueController.getOutOfContextProcess())&&n._bsAppContext.dialogueController.resetOutOfContextProcess()}catch(t){}});n._bsController.addOnPlaceBet(function(){n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.active()&&n._bsAppContext.dialogueController.onPlaceBet()});n._bsController.addOnPlaceBetSuccess(function(){var i=$(".placeBet").attr("data-atype"),t;n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.active()&&n._bsAppContext.dialogueController.onBetPlaced();i!="cnf"&&i!="cnf-ref"&&(t=n._bsAppContext.getStakeFromMarkup(),Locator.user.getBalance().calculateTotalBalance(t),Locator.user.getBalance().updateWithdrawableBalance(t),$("#bsDiv").removeClass("confirmCurve"))});n._bsController.addOnMaxSelections(function(){new CouponBetMessagePopup(1).add()});n._bsController.addOnChangeBetslipHeight(function(){$(document.documentElement).hasClass("sports-ui")?b365Mobile.footer.clearStyles():b365Mobile.footer.setFooter();n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.active()&&n._bsAppContext.dialogueController.setElementHeights();window.touchBuster&&window.touchBuster.clearEvents()});n._bsController.addOnBetslipError(function(){var t;n._bsAppContext.dialogueController&&(t=$("#betslipContainer").find("li.emptyBetslip"),t.length>0&&!t.hasClass("hidden")?n.close():n._bsAppContext.dialogueController&&n._bsAppContext.dialogueController.active()&&n._bsAppContext.dialogueController.onError())});n._bsController.addOnHandleBetGuidChange(function(n){sProps.betGuid=n});$("#bsDiv").off("b365.Ui.Betslip.failedtoaddbet").on("b365.Ui.Betslip.failedtoaddbet",function(t,i){n._bsAppContext.betSelect.deselectBet(i)})}};BetslipCouponLink=function(){var n=this;n._text="";n._pageHashTag="";n._classId=0;n.setAndStore=function(t,i,r){var f,u;n._text=t?t:"";n._pageHashTag=i?i:"";n._classId=isNaN(r)?0:Number(r);f=n._text;u=f.split("/");u&&siteDataSession.set_betslipCouponLinkText(u[u.length-1]);siteDataSession.set_betslipCouponLinkHash(n._pageHashTag);siteDataSession.set_betslipCouponLinkClassId(n._classId)};n.setCouponLink=function(){var r,o=$("#hdnRaceDetails").val(),s=$(".EventViewTitle .Text").text().trim(),h=$("header.V6 #Title").text().trim(),c=window.location.hash,u,t=new Hash(window.location.hash).Key,f,e,i=0;t&&(t.indexOf("-")>0?(u=new SportsDataKeyParser(t),i=u.get_classificationId(),f="800",e="1",i&&i.toString()===f&&(i=e)):(t=t.toUpperCase(),t.indexOf("C")<t.indexOf("_")&&(i=t.substring(t.indexOf("C")+1,t.indexOf("_")))));r=o||s||h;n.setAndStore(r,c,i)};n.load=function(){n._text=siteDataSession.get_betslipCouponLinkText();n._text||(n._text="");n._pageHashTag=siteDataSession.get_betslipCouponLinkHash();n._pageHashTag||(n._pageHashTag="");n._classId=siteDataSession.get_betslipCouponLinkClassId();isNaN(n._classId)&&(n._classId=0)}};BetSlipShowConfirmationHandler=function(n){this._confirmationObject=n;this._controller=n.Controller;this._title=n.Title;this._message=n.Msg;this._additionalClass=n.additionalClass;this._element=$("#bsCD");this._overlay=new BetSlipPopupOverlay($(document.body),!0,!1,60);this._showDialog=function(){$("#betslipContainer").hide();this._overlay.add();this._completion()};this._completion=function(){this._setMessageAttributes();this._element.css("top",Math.round(clientViewport().height*.1)+$(window).scrollTop()+"px").fadeIn();this._additionalClass!==""&&this._element.addClass(this._additionalClass)};this._setMessageAttributes=function(){var n=$("#DialogTitleContent",this._element),t=$("#message",this._element);n.html(this._title);t.html(this._message);this._setButtonAttributes()};this._setButtonAttributes=function(){$("#okButton",this._element).html(this._confirmationObject.Button1Text);$("#okButton",this._element).attr("data-action",this._confirmationObject.Button1Action);$("#closeButton",this._element).html(this._confirmationObject.Button2Text);$("#closeButton",this._element).attr("data-action",this._confirmationObject.Button2Action)}};BetSlipShowConfirmationHandler.prototype={handle:function(){var n=this,t;n._showDialog();t={hideDialog:function(){var i=$("#bsDiv"),r=i.find(".placeBet button"),t;n._element.hide();n._overlay.remove();n._additionalClass!==""&&n._element.removeClass(n._additionalClass);r.length>0&&(t=i.find("#buttonContent"),t.length>0&&(t=t[0].innerHTML,r[0].innerHTML=t));n._confirmationObject&&n._confirmationObject.hasOwnProperty("OutofContextDialogue")?(new CouponBetSelect).clearHighlightedBets():($("#betslipContainer").show(),i.find(".footer").removeClass("hidden"))}};n._controller.setDialog(t)}};BetSlipShowDialogHandler=function(n){this._dialogueObject=n;this._markUp=n.MarkUp;this._modal=n.Modal;this._element=$("#bsDlg");this._overlay=new BetSlipPopupOverlay($(document.body),!0,!0,75);this._showDialog=function(){this._overlay.add();this._completion()};this._completion=function(){this._element.html(this._markUp).css("top",Math.round(clientViewport().height*.1)+$(window).scrollTop()+"px").fadeIn();this._modal||this._element.prepend("<a href='' class='CloseIcon' data-action='close'><\/a>")}};BetSlipShowDialogHandler.prototype={handle:function(){var n=this,t;if(n._showDialog(),t={hideDialog:function(){n._element.hide();n._overlay.remove();$("#bsDiv").find(".disableBetSlip, .disabledBetSlip").removeClass("disableBetSlip").removeClass("disabledBetSlip")},controller:this._dialogueObject.Controller},n._element.removeClass().addClass("dialogMsg"),n._dialogueObject.Controller)n._dialogueObject.Controller.setDialog(t);else{n._element.addClass("siteMessagePopup");$(".CloseIcon",n._element).on("click",t.hideDialog)}}};BetSlipPopupOverlay=function(n,t,i,r,u){this._targetElem=n;this._overlay_Z_Index=r;this._spinnerRequired=u;this._opaque=t;this._overlayId=i?"betSlipOverlayPopup":"betSlipOverlay";this._overlayElem=null;this._overlaySpinnerElem=null};BetSlipPopupOverlay.prototype={add:function(){this._overlayElem=$("<div/>",{id:this._overlayId,"class":this._opaque?"opaque":"",css:{width:"100%",height:(device.isPresto||device.isOperaMini)&&document.body.scrollHeight==0?"100%":document.body.scrollHeight,"z-index":this._overlay_Z_Index},click:function(){return!1}});this._targetElem.prepend(this._overlayElem);this._spinnerRequired&&this.addSpinner();$("html").addClass("overlay-on");this.addResizeListener()},addSpinner:function(){this._overlaySpinnerElem=$("<div/>",{id:"spinnerBox","class":"OverlaySpinnerBox"});window.siteViewController.isWideView?this._overlaySpinnerElem.css("top","50%"):this._overlaySpinnerElem.css("top",Math.round(clientViewport().height*.5)+$(window).scrollTop()+"px");this._overlayElem.append(this._overlaySpinnerElem)},addResizeListener:function(){$(window).bind("resize.overlay",function(){setTimeout($.proxy(this.adjustHeight,this),750)})},adjustHeight:function(){this._overlayElem.css("height",(device.isPresto||device.isOperaMini)&&document.body.scrollHeight==0?"100%":document.body.scrollHeight)},remove:function(){this._overlayElem&&(this._overlayElem.remove(),this._overlayElem=null);$("html").removeClass("overlay-on");$(window).off("resize.overlay")},removeSpinner:function(){this._overlaySpinnerElem.remove()}};CouponBetMessagePopup=function(n){this._messageType=n;this._betAdded=0;this._maxBets=1;this._getMessageProps=function(){switch(this._messageType){case this._betAdded:return{iconClass:"MessageAddedIcon",iconText:betSlipML.added,bottomText:betSlipML.scrollupmessage};case this._maxBets:return{iconClass:"MessageMaxBetsIcon",iconText:"",bottomText:betSlipML.maxselections};default:return null}};this._messageProps=this._getMessageProps()};CouponBetMessagePopup.prototype={add:function(){if(this._messageProps){overlay(1,0,1);var n=$("<div/>",{id:"BetslipMessage",html:"<br/>"+this._messageProps.bottomText,css:{top:this.getMessagePosition()}}),t=$("<span/>",{"class":"BetslipMessageTop "+this._messageProps.iconClass,html:this._messageProps.iconText});n.prepend(t);$("body").append(n);this.fadeMessage(n)}},getMessagePosition:function(){var n=window.pageYOffset;return Math.round(clientViewport().height*.3)+n},fadeMessage:function(n){Modernizr.csstransitions?setTimeout(function(){n.fadeOut(500,function(){overlay(0);$(this).remove()})},1500):setTimeout(function(){overlay(0);n.remove()},1e3)}};CastBetslipModel=function(n,t,i,r,u,f,e,o,s){this._australianForecastPrefix="oe";this._australianTricastPrefix="ot";this.valuelist=new Array(r);this.stype=n.toUpperCase().substring(0,1);this.cmask=n.toUpperCase().substring(1,2);this.ctype=t.toUpperCase();this.ttype=i;o?this.c2ID=e:this.fixid=e;this.classificationId=s;n!=this._australianForecastPrefix&&n!=this._australianTricastPrefix&&(this.atcValue=u);this.mediaType=f;this._legind=0;this._fpind=1;this._pottypeind=2;this._totemiind=3;this._totemnind=4;this._toteracenind=5;this._toterunind=6;this._totetypeind=7};CastBetslipModel.prototype={addParticipant:function(n,t){var i;this.valuelist[n]||(this.valuelist[n]=[]);t.toteType?(this.ttype=t.toteType,t.castType.substring(1,2)===Tote.totePot()?(this.c2ID=t.toteC2ID,this.cmask=t.potType,this.totemi=t.toteMeetingID,this.totemn=t.toteMeetingNumber,i=t.participantID+":"+t.toteRaceNumber+":"+t.toteRunnerNumber+":"+t.legNumber):(this.fixid=t.fixtureID,i=t.participantID),this.valuelist[n].push(i)):this.valuelist[n].push(t)}};CastBetslipModel.IsCastBet=function(n){var i=!1,t=n.toUpperCase();return(t.indexOf("PT=M")==-1&&t.indexOf("PT=N")==-1&&t.indexOf("PT=P")==-1&&t.indexOf("PT=S")==-1&&t.indexOf("PT=A")==-1||n.indexOf("~")>-1)&&(i=!0),i};CastBetslipModel.CreateFromConstruct=function(n){for(var f=n.slice(0,3),s=f.slice(2,3),i=n.split("~"),e=new CastBetslipModel(f,s,"1",i.length-1,null,null,i[0].slice(3)),r,u,t=1,o=i.length;t<o;t++){r=i[t].split(",");for(u in r)r.hasOwnProperty(u)&&e.addParticipant(t-1,r[u])}return e};b365Mobile.StreamingSupportRules=function(){"use strict";return{isStreamingProviderSupported:function(n){var t=navigator.userAgent.toLowerCase();if(supportsVideoStreaming(t))switch(n){case"5":return window.sProps.appType==="windowsuniversalapp"?!1:!(t.match("nexus 7|nexus7")&&device.isAndroid&&parseFloat(device.osVersion)<5)&&!(device.isAndroid&&parseFloat(device.osVersion)<4);case"6":if(window.sProps.appType==="windowsuniversalapp")return!1;case"7":return!0;case"9":return window.sProps.appType==="windowsuniversalapp"?!1:!t.match("nexus 7|nexus7");case"10":return!0;case"12":return device.isAndroid&&device.isChrome&&!device.isSamsungBrowser&&(parseInt(device.browserVersion,10)===37||parseInt(device.browserVersion,10)===38)?!1:!(device.isAndroid&&parseFloat(device.osVersion)<4.1);case"15":return window.sProps.appType==="windowsuniversalapp"?!1:!(t.match("nexus 7|nexus7")&&device.isAndroid&&parseFloat(device.osVersion)<5)&&!(device.isAndroid&&parseFloat(device.osVersion)<3);case"20":return window.sProps.appType==="windowsuniversalapp"?!1:!(device.isAndroid&&parseFloat(device.osVersion)<4.1);case"22":return!(device.isAndroid&&parseFloat(device.osVersion)<4.1);case"24":return window.sProps.appType==="windowsuniversalapp"?!1:device.iosDevice||device.isAndroid&&(device.isChrome||parseFloat(device.osVersion)>=4)||window.sProps.appType==="windowsuniversalapp";case"27":return!(device.isAndroid&&parseFloat(device.osVersion)<4.1);case"31":return!(device.isAndroid&&parseFloat(device.osVersion)<4.1)}},supportsVideoStreaming:function(n){var t;return device.isPresto||device.isOperaMini?!1:n.toLowerCase().search(/wildfire[^s]|android 2\.[01]/)!==-1||device.isWindowsPhone&&sProps.appType!=="windowsuniversalapp"||device.isBlackBerry||device.isInternetExplorer&&sProps.appType!=="windowsuniversalapp"||device.isFirefox||device.isPlayBook||device.isSilk?!1:n.toLowerCase().search(/android 2\.[2|3]|android 3/)!==-1?typeof swfobject=="undefined"?!1:(t=swfobject.getFlashPlayerVersion(),t.major>10||t.major===10&&t.minor>=1):!0}}}(),function(n){var t=n.jQuery,i=n.Modernizr;t.fn.extend({pageScroller:function(r){var u={itemsSelector:"li",itemParentSelector:"ul",itemSpacing:5,containerPadding:30,selectedItemSelector:".selected",arrowElementType:"<div />",leftArrowClass:"left-arrow",rightArrowClass:"right-arrow",arrowActiveClass:"arrow-active",showSelected:!0,swipeGestureMaxTime:250,swipeGestureMinDistance:50,setData:function(n,t,i){i.data(n,t)},getData:function(n,t){return t.data(n)}},f=t.extend(u,r);return this.each(function(){var r=f,u=t(this),h=u.width()-r.containerPadding*2,o=t(r.itemsSelector,u),p=t(r.itemParentSelector,u),c=o.first().outerWidth(!0)+r.itemSpacing,s=Math.floor(h/c),l=Math.ceil(o.length/s),e=+r.getData("current-page",u)||0,a=function(){for(var i=(e+1)*s,f=i-s,r=o.length,u=0,n=0;n<f;n++)t(o.get(n)).hide();for(;n<i&&n<r;n++)t(o.get(n)).show(),u+=c;for(;n<r;n++)t(o.get(n)).hide();p.width(u)},v=function(){l>1&&(e>0?t("."+r.leftArrowClass,u).addClass(r.arrowActiveClass):t("."+r.leftArrowClass,u).removeClass(r.arrowActiveClass),e<l-1?t("."+r.rightArrowClass,u).addClass(r.arrowActiveClass):t("."+r.rightArrowClass,u).removeClass(r.arrowActiveClass))},y=function(n){r.showSelected=!1;o=t(r.itemsSelector,u);h=u.width()-r.containerPadding*2;s=Math.floor(h/c);l=Math.ceil(o.length/s);(n===-1&&e>0||n===1&&e<l-1)&&(e=e+n,r.setData("current-page",e,u),a(),v());k()},w=function(){return o.index(t(r.selectedItemSelector,u))},b=function(n){r.showSelected&&u.width()-r.containerPadding*2>c&&(h=u.width()-r.containerPadding*2,s=Math.floor(h/c),e=Math.floor(n/s));r.setData("current-page",e,u);a();v()},d=function(n){var t={};return n.originalEvent&&n.originalEvent.touches&&n.originalEvent.touches.length>0?(t.x=n.originalEvent.touches[0].pageX,t.y=n.originalEvent.touches[0].pageY):(t.x=n.pageX,t.y=n.pageY),t.time=Date.now(),t},g=function(n){var t=d(n);r.setData(n.type,t,u)},nt=function(n){var t=r.getData("touchstart",u),i=r.getData("touchmove",u),o,f,e,s;t&&i&&(r.setData("touchstart",null,u),r.setData("touchmove",null,u),o=Math.abs(i.time-t.time),o<=r.swipeGestureMaxTime&&(f=t.x-i.x,e=Math.abs(f),s=f/e,e>=r.swipeGestureMinDistance&&(y(s),n.stopPropagation())))},k=function(){t(n).off("orientationchange.pagescroller resize.pagescroller").on("orientationchange.pagescroller resize.pagescroller",function(){r.showSelected=!0;b(w())});if(i.touch){u.off("touchstart.pagescroller touchmove.pagescroller").on("touchstart.pagescroller touchmove.pagescroller",g);u.off("touchend.pagescroller").on("touchend.pagescroller",nt)}};l>1&&(t("."+r.leftArrowClass,u).length===0&&u.prepend(t(r.arrowElementType).addClass(r.leftArrowClass).off("click.pagescroller").on("click.pagescroller",function(){y(-1)})),t("."+r.rightArrowClass,u).length===0&&u.append(t(r.arrowElementType).addClass(r.rightArrowClass).off("click.pagescroller").on("click.pagescroller",function(){y(1)})));u.css({position:"relative"});p.css({float:"none",margin:"0 auto"});r.showSelected?b(w()):(a(),v());r.setData("current-page",e,u);k()})},removePageScroller:function(r){var u=t.extend({leftArrowClass:"left-arrow",rightArrowClass:"right-arrow"},r);return t(n).off("orientationchange.pagescroller resize.pagescroller"),this.each(function(){var r=u,n=t(this),f=t("."+r.leftArrowClass,n),e=t("."+r.rightArrowClass,n);i.touch&&(n.off("touchstart.pagescroller touchmove.pagescroller"),n.off("touchend.pagescroller"));f.length>0&&f.off("click.pagescroller");e.length>0&&e.off("click.pagescroller")})}})}(window);BetSlipItemsRemovedHandler=function(n){this._betItemsObject=n};BetSlipItemsRemovedHandler.prototype={handle:function(n){var t=new CouponBetSelect,i=window.bsApp.bsContext.LiveAlertsEnabled();this._betItemsObject&&this._betItemsObject.Id?t.deselectBetById(this._betItemsObject):t.clearHighlightedBets();sportsUIController&&sportsUIController.itemsRemoved(this._betItemsObject);window.bsApp&&window.bsApp.getBetCount(window.bs)==0&&window.bsApp.dialogueController&&!n&&(window.bsApp.bsContext.ClientEnhancedMode()&&window.betslipTabController.update(0),window.bsApp.dialogueController.setActionInProgress(!1),window.bsApp.dialogueController.resetAndShowBar())}},function(n,t,i){function r(){var i=n,r=t,u=r.documentElement,f=r.getElementsByTagName("body")[0],e=i.innerWidth||u.clientWidth||f.clientWidth,o=i.innerHeight||u.clientHeight||f.clientHeight;return{width:e,height:o}}function a(){clearTimeout(h);(o==="orientationchange"||i.width!==f)&&(h=n.setTimeout(function(){f=i.width;n.calculateiFrame()},500))}function e(n,i){var c=n/i,l=n*i,a=l*30*.01,u=Math.floor(Math.sqrt(a/c)),f=Math.floor(u*c),e=t.getElementById("AndroidStreamingPlayer"),o=t.getElementById("videostream"),r=t.getElementById("vsHolder"),h;r?(h=t.getElementById("vs"),h.style.width=f+"px",h.style.height=u+"px",r.style.width=f+"px",r.style.height=u+"px",r.style.left=(n-f)/2+"px",r.removeEventListener("click",s,!1),r.addEventListener("click",s,!1)):e?(e.width=f,e.height=u):o&&(o.width=f,o.height=u)}function v(){var a=r().height,n=r().width,f=t.getElementById("videostream"),o=t.getElementById("vs"),s=t.getElementById("AndroidStreamingPlayer"),y=t.getElementById("disc"),p=t.getElementById("vsHolder"),v=t.getElementById("isTablet"),c,i,l,h;v&&(u=v.value.toLowerCase()==="true");s||o?(f&&(f.style.display="none"),s&&(c=r().width/16*9+0,u?e(r().width,c):(s.width=n,s.height=c)),o&&(i=n/16*9,l=n,n>a&&(i=i-95),p?e(l,i):(o.style.height=i+"px",o.style.width=l+"px"))):(f&&(f.style.display=""),u&&e(n,a));h=t.getElementById("na");h&&h.innerHTML!==null&&h.innerHTML.length>15&&(y.style.display="none")}function y(i){var r=t.getElementById("FlashMessage");r&&(r.style.display="none");r=t.getElementById("AndroidStreamingPlayer");r&&(r.style.display="");n.launchFlash&&n.launchFlash(l,c,i)}function p(n,t,i,r){try{$.ajax({url:n,dataType:"json",type:"GET",crossDomain:!0,cache:!1,success:function(n){var o=!1,u=0,f,e;if(n.authorization_data&&(f=n.authorization_data,f))for(e in f)if(f.hasOwnProperty(e)){o=f[e].authorized;u=parseInt(f[e].code,10);break}n.statusCode||n.authorization_data?n.statusCode=="200"||o?u>0?(u=u.length<2?"M20"+u:"M2"+u,r(u)):i(n,t):r("M108"):r("M108")},error:function(n){switch(n.status){case 400:r("M108");break;case 401:try{var t=$.parseJSON(n.responseText).message;switch(t){case"Invalid timestamp":r("M141");break;case"Invalid operator ID":r("M141");break;case"Invalid auth token":r("M141");break;case"Not authorized to view event":r("M141");break;default:r("M108")}}catch(i){r("M108")}break;case 403:r("M142");break;case 404:r("M143");break;case 500:r("M144");break;default:r("M108")}}})}catch(u){r("M108")}}function w(t){n.open(t)}var u=!1,f,c=r().height,l=r().width,o=n.mobileBusinessRules.useOrientationChange()===!1?"resize":"orientationchange",s=function(){var n=t.getElementById("vs"),i=t.getElementById("vsHolder");n&&i&&(n.paused?(n.play(),i.className=""):(n.pause(),i.className="play"))},h;n.addEventListener(o,a,!1);f=i.width;n.calculateiFrame=v;n.showFlash=y;n.updateAdobe=w;n.getProviderUrl=p}(window,document,screen);b365Mobile.section=function(){var n;return n=function(n,t){var i=!0;return t?(n.tagName!=="H3"&&n.className.indexOf("enhancedPod")==-1&&(n=n.parentNode.className.indexOf("enhancedPod")>-1?n.parentNode:n.parentNode.parentNode),n.className.indexOf(" collapsed")==-1?!0:!1):(n.getAttribute("data-displaystate")&&n.getAttribute("data-displaystate")==="closed"&&(i=!1),i)},{isSectionOpen:function(t){return n(t)}}}();b365.popups=b365.popups||{};b365.popups.unavailablePopupController=function(){function t(){}var n=null,r=null,u=document.getElementById("Site"),f="UnavailablePopup Hidden",e="UnavailablePopup",i=5;return t.prototype.active=!1,t.prototype._find_target=function(){n=document.getElementsByClassName("UnavailablePopup");n&&(n=n[0])},t.prototype.addPopup=function(t){n||this._find_target();this.active=!0;r=t;n.className=e;this.positionPopup()},t.prototype.removePopup=function(){n&&(n.className=f,n=null,this.active=!1)},t.prototype.positionPopup=function(){var i=n.offsetWidth,t=r.offsetLeft-(i>>1);t=this.positionBody(i,t)-9;this.positionNib(t)},t.prototype.positionBody=function(t,f){var o=window.innerWidth-i,e=$(r.parentElement).offset().top;return e-=u.offsetTop-u.scrollTop+n.offsetHeight,f+t>o&&(f=o-t),f<i&&(f=i),n.setAttribute("style","top: "+e+"px; left: "+f+"px"),u.scrollTop>e?u.scrollTop=e-i:window.scrollY>e&&window.scrollTo(window.scrollX,e-i),f},t.prototype.positionNib=function(t){n.children[1].setAttribute("style","left: "+(r.offsetLeft-t)+"px")},new t}();b365Mobile.popupManager=function(){function n(){}return n.hideAllPopups=function(n){var i=!n||typeof n=="string"?"":n.getAttribute("data-nav")||n.getAttribute("data-externallinktype")||"",t;switch(i){case"CouponMarketPopOut":case"LeaguesPopOut":case"EnhancedMenu":case"Switcher":case"VirtualSports":case"changeMarketMenuLevelLink":case"EnhancedMenuLink":break;default:t=$("#Site");t.find(".showChangeMarketMenu").removeClass("showChangeMarketMenu");t.find(".showRaceMeetings").removeClass("showRaceMeetings");t.find(".showLeaguesPopUp").removeClass("showLeaguesPopUp");t.find(".msvs-showBreadCrumbs").removeClass("msvs-showBreadCrumbs");t.find(".scn-EnhancedMenuPopup_Show").removeClass("scn-EnhancedMenuPopup_Show");t.find(".clw-SwitcherPopup_Show").removeClass("clw-SwitcherPopup_Show")}},n}()